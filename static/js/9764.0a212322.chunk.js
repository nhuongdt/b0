"use strict";(self.webpackChunklayout_jsx=self.webpackChunklayout_jsx||[]).push([[9764],{36073:(e,t,n)=>{n.d(t,{Z:()=>h,r:()=>o});var a,i,s=n(47313);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...o}=e;return s.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},o),n?s.createElement("title",{id:l},n):null,a||(a=s.createElement("path",{d:"M4 8H12",stroke:"#FFFAFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=s.createElement("path",{d:"M8 12V4",stroke:"#FFFAFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const o=s.forwardRef(l),h=n.p+"static/media/add.0b705e20dfa5086a83bee9c502946102.svg"},69369:(e,t,n)=>{n.d(t,{r:()=>m});var a,i,s,r,l,o,h,d,c,u,g=n(47313);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function x(e,t){let{title:n,titleId:x,...m}=e;return g.createElement("svg",p({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":x},m),n?g.createElement("title",{id:x},n):null,a||(a=g.createElement("path",{d:"M5.33334 1.33301V3.33301",stroke:"#999699",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=g.createElement("path",{d:"M10.6667 1.33301V3.33301",stroke:"#999699",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),s||(s=g.createElement("path",{d:"M2.33334 6.05957H13.6667",stroke:"#666466",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=g.createElement("path",{d:"M14 5.66634V11.333C14 13.333 13 14.6663 10.6667 14.6663H5.33333C3 14.6663 2 13.333 2 11.333V5.66634C2 3.66634 3 2.33301 5.33333 2.33301H10.6667C13 2.33301 14 3.66634 14 5.66634Z",stroke:"#666466",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),l||(l=g.createElement("path",{d:"M10.4631 9.13314H10.4691",stroke:"#666466",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=g.createElement("path",{d:"M10.4631 11.1331H10.4691",stroke:"#666466",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),h||(h=g.createElement("path",{d:"M7.997 9.13314H8.00299",stroke:"#666466",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),d||(d=g.createElement("path",{d:"M7.997 11.1331H8.00299",stroke:"#666466",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),c||(c=g.createElement("path",{d:"M5.52953 9.13314H5.53552",stroke:"#666466",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),u||(u=g.createElement("path",{d:"M5.52953 11.1331H5.53552",stroke:"#666466",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const m=g.forwardRef(x);n.p},61566:(e,t,n)=>{n.d(t,{Z:()=>h,r:()=>o});var a,i,s=n(47313);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...o}=e;return s.createElement("svg",r({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},o),n?s.createElement("title",{id:l},n):null,a||(a=s.createElement("path",{d:"M9.58335 17.5003C13.9556 17.5003 17.5 13.9559 17.5 9.58366C17.5 5.2114 13.9556 1.66699 9.58335 1.66699C5.2111 1.66699 1.66669 5.2114 1.66669 9.58366C1.66669 13.9559 5.2111 17.5003 9.58335 17.5003Z",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=s.createElement("path",{d:"M18.3334 18.3337L16.6667 16.667",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const o=s.forwardRef(l),h=n.p+"static/media/search-normal.4032718719c7e2bac848ef728621bbbe.svg"},87068:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(94469),i=n(33604),s=n(35898),r=n(61113),l=n(96467),o=n(24193),h=n(10298),d=n(46417);const c=e=>{let{isShow:t,onOk:n,onCancel:c,title:u="",mes:g=""}=e;return(0,d.jsxs)(a.Z,{open:t,onClose:c,fullWidth:!0,maxWidth:"xs",PaperProps:{sx:{height:"auto",width:"450px"}},children:[(0,d.jsx)(i.Z,{children:(0,d.jsxs)(s.Z,{direction:"row",spacing:2,justifyContent:"space-between",children:[(0,d.jsx)(r.Z,{color:"#3D475C",fontSize:"18px",fontWeight:700,children:""!=u?u:"Th\xf4ng b\xe1o x\xf3a"}),(0,d.jsx)(h.Z,{sx:{height:"24px"},onClick:c})]})}),(0,d.jsx)(l.Z,{children:(0,d.jsxs)(s.Z,{direction:"column",children:[(0,d.jsx)(r.Z,{color:"#679",fontSize:"14px",fontWeight:400,children:""!=g?g:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\u1ea3n ghi n\xe0y kh\xf4ng?"}),(0,d.jsxs)(s.Z,{mt:3,direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[(0,d.jsx)(o.Z,{variant:"outlined",onClick:c,sx:{fontSize:"14px",textTransform:"unset",color:"#666466"},className:"btn-outline-hover",children:"B\u1ecf qua"}),(0,d.jsx)(o.Z,{sx:{background:"#F1416C",color:"#EEF0F4","&:hover":{background:"#FF316A",color:"#FFF"}},onClick:n,children:"X\xf3a"})]})]})})]})}},34121:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(47313);class i extends a.Component{L(e,t){return e}}const s=i},72517:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(47313),i=n(48623),s=n(24631),r=n(9019),l=n(61113),o=n(46417);function h(e){let{handleChoseItem:t,idChosed:n,dataChiNhanh:h,label:d}=e;const[c,u]=(0,a.useState)(null);a.useEffect((()=>{const e=null===h||void 0===h?void 0:h.filter((e=>e.id==n));e.length>0?u(e[0]):u(null)}),[n]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.Z,{size:"small",fullWidth:!0,disablePortal:!0,autoComplete:!0,multiple:!1,value:c,onChange:(e,n)=>{t(n)},filterOptions:e=>e,isOptionEqualToValue:(e,t)=>e.id===t.id,options:h,getOptionLabel:e=>e.tenChiNhanh?e.tenChiNhanh:"",renderInput:e=>(0,o.jsx)(s.Z,{...e,label:null!==d&&void 0!==d?d:"T\xecm ki\u1ebfm"}),renderOption:(e,t)=>(0,o.jsx)("li",{...e,children:(0,o.jsx)(r.ZP,{container:!0,alignItems:"center",children:(0,o.jsx)(r.ZP,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:(0,o.jsx)(l.Z,{style:{fontSize:"14px"},children:t.tenChiNhanh})})})})})})}},83546:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(47313),i=n(48623),s=n(24631),r=n(9019),l=n(61113),o=n(9506),h=n(46417);function d(e){let{handleChoseItem:t,idChosed:n,dataNhanVien:d,label:c,helperText:u}=e;const[g,p]=(0,a.useState)(null);a.useEffect((()=>{const e=d.filter((e=>e.id==n));e.length>0?p(e[0]):p(null)}),[n]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.Z,{size:"small",fullWidth:!0,disablePortal:!0,autoComplete:!0,multiple:!1,value:g,onChange:(e,n)=>{t(n)},filterOptions:e=>e,isOptionEqualToValue:(e,t)=>e.id===t.id,options:d,getOptionLabel:e=>e.tenNhanVien?e.tenNhanVien:"",renderInput:e=>(0,h.jsx)(s.Z,{...e,label:null!==c&&void 0!==c?c:"T\xecm ki\u1ebfm",helperText:u}),renderOption:(e,t)=>(0,h.jsx)("li",{...e,children:(0,h.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:1,children:(0,h.jsxs)(r.ZP,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:[(0,h.jsx)(l.Z,{style:{fontSize:"14px"},children:t.tenNhanVien}),(0,h.jsx)(o.Z,{component:"span",style:{fontWeight:500,color:"#acaca5",fontSize:"12px"},children:t.maNhanVien})]})})})})})}},48127:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(10298),i=n(46417);function s(e){let{onClose:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{onClick:t,sx:{position:"absolute",right:"16px",top:"16px",minWidth:20,"&:hover":{filter:"brightness(0) saturate(100%) invert(34%) sepia(44%) saturate(2405%) hue-rotate(316deg) brightness(98%) contrast(92%)"}}})})}},33985:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(85582),i=n(51405),s=n(61113),r=n(47313),l=n(33973),o=n(65954),h=n(17885),d=n(14881),c=n(46417);class u extends r.Component{render(){const{selectedRowId:e,anchorEl:t,closeMenu:n,handleView:r,handleDelete:u,handleEdit:g,permissionDelete:p,permissionEdit:x,permissionView:m}=this.props;return(0,c.jsxs)(a.Z,{id:"actions-menu-".concat(e),anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:n,sx:{minWidth:"120px"},children:[(0,c.jsxs)(i.Z,{onClick:r,hidden:!d.Z.isGrandPermission(null!==m&&void 0!==m?m:"notHavePermission"),children:[(0,c.jsx)(s.Z,{color:"#009EF7",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"Xem"}),(0,c.jsx)(l.Z,{sx:{color:"#009EF7"}})]}),(0,c.jsxs)(i.Z,{onClick:g,hidden:!d.Z.isGrandPermission(null!==x&&void 0!==x?x:"notHavePermission"),children:[(0,c.jsx)(s.Z,{color:"#009EF7",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"S\u1eeda"}),(0,c.jsx)(o.Z,{sx:{color:"#009EF7"}})]}),(0,c.jsxs)(i.Z,{onClick:u,hidden:!d.Z.isGrandPermission(null!==p&&void 0!==p?p:"notHavePermission"),children:[(0,c.jsx)(s.Z,{color:"#F1416C",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"X\xf3a"}),(0,c.jsx)(h.Z,{sx:{color:"#F1416C"}})]})]})}}const g=u},46734:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(9019),i=n(9506),s=n(1550),r=n(40454),l=n(51405),o=n(61113),h=n(74312),d=n(47313),c=n(46417);class u extends d.Component{render(){const{totalPage:e,totalRecord:t,currentPage:n,rowPerPage:d,handlePageChange:u,handlePerPageChange:g}=this.props;return(0,c.jsxs)(a.ZP,{container:!0,sx:{display:t>0?"":"none",backgroundColor:"#fff"},padding:"0px 16px",children:[(0,c.jsx)(a.ZP,{item:!0,xs:6,md:3,children:(0,c.jsx)(i.Z,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",height:48},children:(0,c.jsx)(s.Z,{variant:"standard",children:(0,c.jsxs)(r.Z,{sx:{height:"32px"},onChange:g,defaultValue:d,children:[(0,c.jsx)(l.Z,{value:5,children:(0,c.jsx)(o.Z,{variant:"body2",children:"5/ Trang"})}),(0,c.jsx)(l.Z,{value:10,children:(0,c.jsx)(o.Z,{variant:"body2",children:"10/ Trang"})}),(0,c.jsx)(l.Z,{value:20,children:(0,c.jsx)(o.Z,{variant:"body2",children:"20/ Trang"})}),(0,c.jsx)(l.Z,{value:50,children:(0,c.jsx)(o.Z,{variant:"body2",children:"50/ Trang"})}),(0,c.jsx)(l.Z,{value:100,children:(0,c.jsx)(o.Z,{variant:"body2",children:"100/ Trang"})})]})})})}),(0,c.jsx)(a.ZP,{item:!0,xs:12,md:9,children:(0,c.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:48},children:[(0,c.jsxs)(o.Z,{variant:"body2",children:["Hi\u1ec3n th\u1ecb ",(n-1)*d+1," -"," ",d*n>t?t:d*n," c\u1ee7a"," ",t," m\u1ee5c"]}),(0,c.jsx)(h.Z,{count:e,page:n,onChange:u,sx:{"& button":{display:"inline-block",borderRadius:"4px",lineHeight:"1"},"& .Mui-selected":{backgroundColor:"var(--color-main)!important",color:"#fff"}}})]})})]})}}const g=u},33859:(e,t,n)=>{n.d(t,{g:()=>a});n(80281);const a={columnMenuUnsort:"B\u1ecf s\u1eafp x\u1ebfp",columnMenuSortAsc:"S\u1eafp x\u1ebfp t\u0103ng d\u1ea7n",columnMenuSortDesc:"S\u1eafp x\u1ebfp gi\u1ea3m d\u1ea7n",columnMenuFilter:"L\u1ecdc",columnMenuHideColumn:"\u1ea8n c\u1ed9t",columnMenuManageColumns:"\u0110i\u1ec1u ch\u1ec9nh t\u1ea5t c\u1ea3 c\u1ed9t",checkboxSelectionHeaderName:"Ch\u1ecdn",columnsPanelTextFieldLabel:"T\xecm c\u1ed9t",columnsPanelTextFieldPlaceholder:"T\xean c\u1ed9t",columnsPanelHideAllButton:"\u1ea8n t\u1ea5t c\u1ea3",columnsPanelShowAllButton:"Hi\u1ec3n th\u1ecb t\u1ea5t c\u1ea3",filterPanelOperator:"To\xe1n t\u1eed",filterOperatorContains:"Ch\u1ee9a",filterOperatorEquals:"B\u1eb1ng",filterOperatorNot:"Kh\xf4ng B\u1eb1ng",filterOperatorStartsWith:"B\u1eaft \u0111\u1ea7u v\u1edbi",filterOperatorEndsWith:"K\u1ebft th\xfac v\u1edbi",filterOperatorIsEmpty:"R\u1ed7ng",filterOperatorIsNotEmpty:"Kh\xf4ng tr\u1ed1ng",filterOperatorIsAnyOf:"L\xe0 b\u1ea5t k\u1ef3 trong",filterPanelColumns:"C\u1ed9t",filterPanelInputLabel:"Gi\xe1 tr\u1ecb",filterPanelInputPlaceholder:"Nh\u1eadp gi\xe1 tr\u1ecb \u0111\u1ec3 t\xecm ki\u1ebfm",noRowsLabel:"kh\xf4ng c\xf3 d\u1eef li\u1ec7u",noResultsOverlayLabel:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p.",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," / ").concat(t.toLocaleString(),"does nothing"),MuiTablePagination:{labelDisplayedRows:e=>{let{from:t,to:n,count:a}=e;return"hi\u1ec3n th\u1ecb ".concat(t," - ").concat(n," c\u1ee7a ").concat(a," m\u1ee5c")},labelRowsPerPage:"S\u1ed1 h\xe0ng t\u1ed1i \u0111a tr\xean m\u1ed7i trang "},labelRowsPerPage:"S\u1ed1 h\xe0ng t\u1ed1i \u0111a tr\xean m\u1ed7i trang ",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" H\xe0ng \u0111\u01b0\u1ee3c ch\u1ecdn":" H\xe0ng \u0111\u01b0\u1ee3c ch\u1ecdn ")}},69551:(e,t,n)=>{n.d(t,{K4:()=>l,LB:()=>r,Uv:()=>a,ZP:()=>o,u6:()=>i,xG:()=>s});const a={HOM_NAY:"HOM_NAY",HOM_QUA:"HOM_QUA",NGAY_MAI:"NGAY_MAI",TUAN_NAY:"TUAN_NAY",TUAN_TRUOC:"TUAN_TRUOC",TUAN_TOI:"TUAN_TOI",THANG_NAY:"THANG_NAY",THANG_TRUOC:"THANG_TRUOC",THANG_TOI:"THANG_TOI",QUY_NAY:"QUY_NAY",QUY_TRUOC:"QUY_TRUOC",NAM_NAY:"NAM_NAY",NAM_TRUOC:"NAM_TRUOC",TUY_CHON:"TUY_CHON",TAT_CA:"TAT_CA"},i={TIN_THUONG:1,TIN_SINH_NHAT:2,TIN_LICH_HEN:3,TIN_GIAO_DICH:4},s={DRAFT:1,SUCCESS:100,NOT_BALANCE:103,BRANDNAME_NOTEXIST:104,MESSAGE_NOT_VALID:118,ERROR_UNDEFINED:99},r={INSEART:1,UPDATE:2,DELETE:3},l={SECOND:1,MINUTES:2,HOUR:3,DAY:4,MONTH:5},o={userManagement:{defaultAdminUserName:"admin"},localization:{defaultLocalizationSourceName:"BanHangBeautify"},authorization:{encrptedAuthTokenName:"enc_auth_token"},appBaseUrl:"http://192.168.1.63:2001",remoteServiceBaseUrl:"https://localhost:44311/",guidEmpty:"00000000-0000-0000-0000-000000000000",pageOption:[{value:10,text:"10/ trang"},{value:20,text:"20/ trang"}],TimeType:{HOUR:"HOUR",MINUTES:"MINUTES",SECOND:"SECOND"},ListTimeType:[{value:l.SECOND,text:"Gi\xe2y"},{value:l.MINUTES,text:"Ph\xfat"},{value:l.HOUR,text:"Gi\u1edd"},{value:l.DAY,text:"Ng\xe0y"},{value:l.MONTH,text:"Th\xe1ng"}],DanhSachBienSMS:[{value:"{TenKhachHang}",text:"T\xean kh\xe1ch h\xe0ng"},{value:"{BookingDate}",text:"Ng\xe0y h\u1eb9n"},{value:"{ThoiGianHen}",text:"Th\u1eddi gian h\u1eb9n"},{value:"{MaHoaDon}",text:"M\xe3 giao d\u1ecbch"},{value:"{NgayLapHoaDon}",text:"Ng\xe0y giao d\u1ecbch"},{value:"{TenHangHoa}",text:"D\u1ecbch v\u1ee5 h\u1eb9n"},{value:"{TenCuaHang}",text:"T\xean c\u1eeda h\xe0ng"},{value:"{SDTCuaHang}",text:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a h\xe0ng"}],smsLoaiTin:[{value:i.TIN_THUONG,text:"Tin th\u01b0\u1eddng"},{value:i.TIN_SINH_NHAT,text:"Tin sinh nh\u1eadt"},{value:i.TIN_LICH_HEN,text:"Tin l\u1ecbch h\u1eb9n"},{value:i.TIN_GIAO_DICH,text:"Tin giao d\u1ecbch"}],ListTrangThaiGuiTin:[{value:s.SUCCESS,text:"Th\xe0nh c\xf4ng"},{value:s.NOT_BALANCE,text:"Kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0"},{value:s.BRANDNAME_NOTEXIST,text:"Brandname kh\xf4ng t\u1ed3n t\u1ea1i"},{value:s.MESSAGE_NOT_VALID,text:"Tin nh\u1eafn kh\xf4ng h\u1ee3p l\u1ec7"},{value:s.ERROR_UNDEFINED,text:"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh"}],ListDateType:[{id:a.HOM_NAY,text:"H\xf4m nay"},{id:a.HOM_QUA,text:"H\xf4m qua"},{id:a.NGAY_MAI,text:"Ng\xe0y mai"},{id:a.TUAN_NAY,text:"Tu\u1ea7n n\xe0y"},{id:a.TUAN_TRUOC,text:"Tu\u1ea7n tr\u01b0\u1edbc"},{id:a.TUAN_TOI,text:"Tu\u1ea7n t\u1edbi"},{id:a.THANG_NAY,text:"Th\xe1ng n\xe0y"},{id:a.THANG_TRUOC,text:"Th\xe1ng tr\u01b0\u1edbc"},{id:a.THANG_TOI,text:"Th\xe1ng t\u1edbi"},{id:a.QUY_NAY,text:"Qu\xfd n\xe0y"},{id:a.QUY_TRUOC,text:"Qu\xfd tr\u01b0\u1edbc"},{id:a.NAM_NAY,text:"N\u0103m n\xe0y"},{id:a.NAM_TRUOC,text:"N\u0103m tr\u01b0\u1edbc"},{id:a.TAT_CA,text:"To\xe0n th\u1eddi gian"},{id:a.TUY_CHON,text:"T\xf9y ch\u1ec9nh"}],trangThaiCheckIn:[{value:1,name:"\u0110\u1eb7t l\u1ecbch"},{value:2,name:"\u0110\xe3 g\u1ecdi (nh\u1eafn tin) cho kh\xe1ch"},{value:3,name:"Check in"},{value:4,name:"Ho\xe0n th\xe0nh"},{value:0,name:"X\xf3a"}],hinhThucThanhToan:[{value:1,text:"Ti\u1ec1n m\u1eb7t"},{value:2,text:"Chuy\u1ec3n kho\u1ea3n"},{value:3,text:"Qu\u1eb9t th\u1ebb"}],hinhThucKhuyenMaiHoaDon:[{value:11,name:"Gi\u1ea3m gi\xe1 h\xf3a \u0111\u01a1n"},{value:12,name:"T\u1eb7ng h\xe0ng"},{value:13,name:"Gi\u1ea3m gi\xe1 h\xe0ng"},{value:14,name:"T\u1eb7ng \u0110i\u1ec3m"}],hinhThucKhuyenMaiHangHoa:[{value:21,name:"Mua h\xe0ng gi\u1ea3m gi\xe1 h\xe0ng"},{value:22,name:"Mua h\xe0ng t\u1eb7ng h\xe0ng"},{value:23,name:"Mua h\xe0ng gi\u1ea3m gi\xe1 theo s\u1ed1 l\u01b0\u1ee3ng mua"},{value:24,name:"Mua h\xe0ng t\u1eb7ng \u0111i\u1ec3m"}],loaiTinNhan:[{name:"Tin th\u01b0\u1eddng",value:1},{name:"Sinh nh\u1eadt",value:2},{name:"L\u1ecbch h\u1eb9n",value:3},{name:"\u0110\xe1nh gi\xe1",value:4}],loaiBooking:{online:0,offline:1,cuaHangBook:2},loaiKhuyenMai:{hangHoa:2,hoaDon:1},listColumnCustomer:{actions:!0,cuocHenGanNhat:!0,gioiTinh:!0,nhanVienPhuTrach:!0,soDienThoai:!0,tenKhachHang:!0,tenNguonKhach:!0,tenNhomKhach:!0,tongChiTieu:!0},emailRegex:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phoneRegex:/(84[1-9]|0[1-9])+([0-9]{8})\b/g,passwordRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{6,}$/,yyyyMMddHHmmRegex:/^\d{4}-[0-1][0-2]-[0-3]\d\s([0-1][0-9]|2[0-3]):[0-5]\d$/,dayOfWeek:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},lstMauInMacDinh:[{value:1,text:"M\u1eabu K80"},{value:2,text:"M\u1eabu A4"}]}},39764:(e,t,n)=>{n.r(t),n.d(t,{default:()=>de});var a=n(47313),i=n(34121),s=n(9506),r=n(61113),l=n(47131),o=n(9019),h=n(24631),d=n(24193),c=n(69369),u=n(40225),g=n(55594),p=n(61566),x=n(36073),m=(n(49786),n(59837)),v=n(87068),N=n(86618),C=n(33859),f=n(33985),w=n(46734),Z=n(47655),j=n(14881),S=n(41727),y=n(94469),T=n(33604),k=n(96467),A=n(65280),b=n(35898),I=n(83929),H=n(44758),P=n(16429),M=n(48127),E=n(71673),D=n(83546),O=n(72517),_=n(50373),R=n(94638),L=n(15743),U=n(6404),V=n(80280),F=n(46417);function W(e){let{pathImg:t,handeChoseImage:n,handleCloseImage:a,roleChangeImg:i=!0}=e;const r=async()=>{a()};return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(b.Z,{position:"relative",sx:{alignItems:"center!important",top:"20%"},children:[V.Z.checkNull(t)?(0,F.jsx)("div",{children:(0,F.jsx)(U.Z,{className:"user-icon-upload"})}):(0,F.jsx)(s.Z,{sx:{position:"relative"},children:(0,F.jsx)("img",{src:t,className:"user-image-upload"})}),(0,F.jsx)(h.Z,{type:i?"file":"text",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,"& input":{height:"100%"},"& div":{height:"100%"}},onChange:async e=>{if(i&&(await r(),e.target.files&&e.target.files[0])){const t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=()=>{var e,i;n(null!==(e=null===(i=a.result)||void 0===i?void 0:i.toString())&&void 0!==e?e:"",t)}}}})]})})}var G=n(89460),z=n(21933),B=n(69551),K=n(7410),Y=n(91210),Q=n(77406),q=n(2447),X=n(51629),$=n(66835),J=n(23477),ee=n(24076),te=n(67478),ne=n(57861),ae=n(97984);function ie(e){let{allRoles:t,chiNhanhRoles:n,userId:i,passDataToParent:s}=e;const[r,l]=(0,a.useState)([]);(0,a.useEffect)((()=>{0===i?l([]):(o(),console.log(31))}),[]);const o=async()=>{const e=await ae.Z.GetRolebyChiNhanh_ofUser(i);l(e.map((e=>({idChiNhanh:e.idChiNhanh,roleId:e.roleId}))))},h=(0,a.useMemo)((()=>(e=>{for(let a=0;a<t.length;a++){const i=t[a];if(e.filter((e=>e.roleId===i.id)).length===n.length)return{checkAll:!0,roleId:i.id}}return{checkAll:!1,roleId:0}})(r)),[r]);return(0,a.useEffect)((()=>{s(r)}),[r]),(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(X.Z,{sx:{marginBottom:2},children:(0,F.jsxs)($.Z,{children:[(0,F.jsx)(J.Z,{children:(0,F.jsxs)(ee.Z,{children:[(0,F.jsx)(te.Z,{children:"Chi nh\xe1nh"}),t.map((e=>(0,F.jsx)(te.Z,{align:"center",sx:{"&.MuiTableCell-root":{paddingBottom:0}},children:(0,F.jsxs)(b.Z,{alignItems:"center",sx:{"& th":{borderBottom:"none",padding:0}},children:[(0,F.jsx)(b.Z,{sx:{fontWeight:500,fontFamily:'"Roboto","Helvetica","Arial",sans-serif'},children:e.displayName}),(0,F.jsx)(H.Z,{checked:(null===h||void 0===h?void 0:h.checkAll)&&(null===h||void 0===h?void 0:h.roleId)===e.id,value:null===h||void 0===h?void 0:h.checkAll,onChange:t=>((e,t)=>{if(e){const e=[];for(let a=0;a<n.length;a++){const i=n[a];e.push({idChiNhanh:i.idChiNhanh,roleId:t})}l(e)}else l([])})(t.target.checked,e.id)})]})},e.id)))]})}),(0,F.jsx)(ne.Z,{children:null===n||void 0===n?void 0:n.map((e=>{var t;return(0,F.jsxs)(ee.Z,{sx:{height:30,"& .MuiTableCell-root":{paddingBottom:1,paddingTop:1}},children:[(0,F.jsx)(te.Z,{children:e.tenChiNhanh}),null===(t=e.roles)||void 0===t?void 0:t.map((t=>(0,F.jsx)(te.Z,{align:"center",children:(0,F.jsx)(H.Z,{checked:r.some((n=>n.idChiNhanh===e.idChiNhanh&&n.roleId===t.id)),onChange:n=>{return a=n.target.checked,i=e.idChiNhanh,s=t.id,void(r.filter((e=>e.idChiNhanh===i&&e.roleId===s)).length>0?a||l(r.filter((e=>e.idChiNhanh!==i))):a&&l([{idChiNhanh:i,roleId:s},...r.filter((e=>e.idChiNhanh!==i))]));var a,i,s}})},t.id)))]},e.idChiNhanh)}))})]})})})}var se=n(61689),re=n(68507);function le(e){let{isShowModal:t,dataNhanVien:n,userId:i,dataChiNhanh:s,allRoles:r,onCancel:c,onOk:u}=e;const p=(0,a.useContext)(q.Il).chinhanhCurrent,x=null===p||void 0===p?void 0:p.id,[m,v]=(0,a.useState)("1"),[N,C]=(0,a.useState)(""),[f,w]=(0,a.useState)(""),[j,U]=(0,a.useState)({}),[X,$]=(0,a.useState)(!1),[J,ee]=(0,a.useState)(!1),[te,ne]=(0,a.useState)(!1),[le,oe]=(0,a.useState)(!0),[he,de]=(0,a.useState)([]),[ce,ue]=(0,a.useState)([]),ge={id:0,nhanSuId:"",emailAddress:"",userName:"",password:"",passwordNew:"",confirmPassword:"",changePassword:!1,isActive:!1,isAdmin:!1,idChiNhanhMacDinh:"",phoneNumber:"",name:"",surname:""},pe=z.Ry().shape({emailAddress:z.Z_().matches(B.ZP.emailRegex,"Email kh\xf4ng h\u1ee3p l\u1ec7").required("Vui l\xf2ng nh\u1eadp email"),userName:z.Z_().required("Vui l\xf2ng nh\u1eadp t\xean truy c\u1eadp"),password:z.Vo(((e,t)=>((e,t)=>0===e?z.Z_().required("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u").matches(B.ZP.passwordRegex,"M\u1eadt kh\u1ea9u t\u1ed1i thi\u1ec3u 6 k\xfd t\u1ef1, ph\u1ea3i c\xf3 \xedt nh\u1ea5t 1 k\xfd t\u1ef1 in hoa, 1 k\xfd t\u1ef1 th\u01b0\u1eddng v\xe0 1 k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t"):t?z.Z_().required("Vui l\xf2ng nh\u1eadp kh\u1ea9u hi\u1ec7n t\u1ea1i"):z.Z_())(t.parent.userId,t.parent.changePassword))),passwordNew:z.Z_().when(["changePassword"],{is:e=>e,then:e=>e.required("Vui l\xf2ng nh\u1eadp kh\u1ea9u hi\u1ec7n m\u1edbi").matches(B.ZP.passwordRegex,"M\u1eadt kh\u1ea9u t\u1ed1i thi\u1ec3u 6 k\xfd t\u1ef1, ph\u1ea3i c\xf3 \xedt nh\u1ea5t 1 k\xfd t\u1ef1 in hoa, 1 k\xfd t\u1ef1 th\u01b0\u1eddng v\xe0 1 k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t")}),confirmPassword:z.Vo(((e,t)=>((e,t,n,a)=>0===e?z.Z_().required("Vui l\xf2ng x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u").oneOf([n],"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn ph\u1ea3i tr\xf9ng kh\u1edbp"):t?z.Z_().required("Vui l\xf2ng x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u").oneOf([a],"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn ph\u1ea3i tr\xf9ng kh\u1edbp"):z.Z_())(t.parent.id,t.parent.changePassword,t.parent.password,t.parent.passwordNew)))}),xe=(e,t)=>{v(t.toString())};(0,a.useEffect)((()=>{t&&(0===i?(ge.id=0,ge.idChiNhanhMacDinh=x,ge.emailAddress="",ge.userName="",ge.passwordNew="",ge.confirmPassword="",ge.changePassword=!1,ge.isActive=!0,ge.isAdmin=!1,C("")):((async()=>{var e;const t=await g.Z.get(i);ge.id=null===t||void 0===t?void 0:t.id,ge.nhanSuId=null===t||void 0===t?void 0:t.nhanSuId,ge.emailAddress=null===t||void 0===t?void 0:t.emailAddress,ge.userName=null===t||void 0===t?void 0:t.userName,ge.name=null===t||void 0===t?void 0:t.name,ge.surname=null===t||void 0===t?void 0:t.surname,ge.phoneNumber=null===t||void 0===t?void 0:t.phoneNumber,ge.password="",ge.passwordNew="",ge.confirmPassword="",ge.changePassword=!1,ge.isActive=t.isActive,ge.isAdmin=t.isAdmin,ge.idChiNhanhMacDinh=null===t||void 0===t?void 0:t.idChiNhanhMacDinh,oe(null!==(e=null===t||void 0===t?void 0:t.isActive)&&void 0!==e&&e)})(),(async()=>{const e=await ae.Z.GetRolebyChiNhanh_ofUser(i);ue(e.map((e=>({idChiNhanh:e.idChiNhanh,roleId:e.roleId}))))})()),ne(!1),de(s.map((e=>({idChiNhanh:e.id,tenChiNhanh:e.tenChiNhanh,roles:r})))))}),[t]);const me=()=>ee((e=>!e)),ve=async(e,t)=>{V.Z.checkNull(f)||await G.Z.GoogleApi_RemoveFile_byId(f),C(e),U(t)},Ne=()=>{C(""),w("")},Ce=e=>{ue(e)},fe=async e=>{let t=0;const n=await(async e=>await g.Z.CheckExistUser(i,null===e||void 0===e?void 0:e.userName)?((0,Z.yv)("Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 t\u1ed3n t\u1ea1i",{variant:"error",autoHideDuration:3e3}),!1):await g.Z.CheckExistEmail(i,null===e||void 0===e?void 0:e.emailAddress)?((0,Z.yv)("Email \u0111\xe3 t\u1ed3n t\u1ea1i",{variant:"error",autoHideDuration:3e3}),!1):!!await g.Z.CheckMatchesPassword(i,null===e||void 0===e?void 0:e.password)||((0,Z.yv)("M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i kh\xf4ng \u0111\xfang",{variant:"error",autoHideDuration:3e3}),!1))(e);if(!n)return;let a=!1;if(e.changePassword&&(a=await g.Z.CheckMatchesPassword(i,null===e||void 0===e?void 0:e.passwordNew),e.password=e.passwordNew),e.nhanSuId=""==(null===e||void 0===e?void 0:e.nhanSuId)?null:e.nhanSuId,e.name=V.Z.checkNull(null===e||void 0===e?void 0:e.name)?"":e.name,e.surname=V.Z.checkNull(null===e||void 0===e?void 0:e.surname)?"":e.surname,e.idChiNhanhMacDinh=""==(null===e||void 0===e?void 0:e.idChiNhanhMacDinh)?null:e.idChiNhanhMacDinh,0==i){const n=await g.Z.CreateUser(e);null!==n&&(t=n.id,(0,Z.yv)("Th\xeam m\u1edbi ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng",{variant:"success",autoHideDuration:3e3}))}else{null!==await g.Z.UpdateUser(e)&&(t=i,(0,Z.yv)("C\u1eadp nh\u1eadt ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng",{variant:"success",autoHideDuration:3e3}))}await ae.Z.CreateRole_byChiNhanhOfUser(t,ce);if(re.Z.get("userId")===i.toString()&&!a)return se.Z.logout();u()},we=0===i?{endAdornment:(0,F.jsx)(S.Z,{position:"end",children:(0,F.jsx)(l.Z,{"aria-label":"toggle password visibility",onClick:()=>$((e=>!e)),edge:"end",children:X?(0,F.jsx)(Y.Z,{}):(0,F.jsx)(Q.Z,{})})})}:{};return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(y.Z,{open:t,maxWidth:"sm",fullWidth:!0,onClose:c,children:[(0,F.jsxs)(T.Z,{children:[(0,F.jsxs)(L.Z,{className:"modal-title",children:[0===i?"Th\xeam m\u1edbi":"C\u1eadp nh\u1eadt"," ng\u01b0\u1eddi d\xf9ng"]}),(0,F.jsx)(M.Z,{onClose:c})]}),(0,F.jsx)(k.Z,{sx:{"& .MuiTabPanel-root":{padding:0}},children:(0,F.jsx)(K.J9,{initialValues:ge,validationSchema:pe,onSubmit:e=>fe(e),children:e=>{let{isSubmitting:t,handleChange:a,values:u,errors:g,touched:p,setFieldValue:x}=e;return(0,F.jsxs)(K.l0,{children:[(0,F.jsxs)(R.ZP,{value:m,children:[(0,F.jsxs)(_.Z,{onChange:xe,children:[(0,F.jsx)(A.Z,{label:"Ng\u01b0\u1eddi d\xf9ng",value:"1"}),(0,F.jsx)(A.Z,{label:"Vai tr\xf2",value:"2"})]}),(0,F.jsxs)(E.Z,{value:"1",children:[(0,F.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(o.ZP,{item:!0,xs:4,children:(0,F.jsx)(W,{pathImg:N,handeChoseImage:ve,handleCloseImage:Ne,roleChangeImg:!1})}),(0,F.jsx)(o.ZP,{item:!0,xs:8,children:(0,F.jsxs)(b.Z,{spacing:2,children:[(0,F.jsx)(D.Z,{label:"Ch\u1ecdn nh\xe2n s\u1ef1 \u0111\xe3 c\xf3",helperText:p.nhanSuId&&g.nhanSuId&&(0,F.jsx)("span",{children:g.nhanSuId}),dataNhanVien:n,idChosed:null===u||void 0===u?void 0:u.nhanSuId,handleChoseItem:e=>{const t=null===e||void 0===e?void 0:e.tenNhanVien.split(" ");let n="";(null===t||void 0===t?void 0:t.length)>0&&(n=t[0]),x("nhanSuId",null===e||void 0===e?void 0:e.id),x("name",null===e||void 0===e?void 0:e.tenNhanVien),x("surname",n),x("phoneNumber",null===e||void 0===e?void 0:e.soDienThoai),C(null===e||void 0===e?void 0:e.avatar)}}),(0,F.jsx)(h.Z,{size:"small",fullWidth:!0,name:"userName",label:(0,F.jsxs)("label",{style:{fontSize:"13px"},children:["T\xean truy c\u1eadp",(0,F.jsx)("span",{style:{color:"red",marginLeft:"2px"},children:"*"})]}),value:(null===u||void 0===u?void 0:u.userName)||"",onChange:e=>{x("userName",e.target.value)},helperText:p.userName&&g.userName&&(0,F.jsx)("span",{children:g.userName})}),(0,F.jsx)(h.Z,{size:"small",fullWidth:!0,name:"emailAddress",label:(0,F.jsxs)("label",{style:{fontSize:"13px"},children:["Email",(0,F.jsx)("span",{style:{color:"red",marginLeft:"2px"},children:"*"})]}),value:(null===u||void 0===u?void 0:u.emailAddress)||"",onChange:e=>{x("emailAddress",e.target.value)},helperText:p.emailAddress&&g.emailAddress&&(0,F.jsx)("span",{children:g.emailAddress})})]})})]}),(0,F.jsxs)(o.ZP,{container:!0,spacing:2,paddingTop:2,children:[(0,F.jsx)(o.ZP,{item:!0,xs:12,children:(0,F.jsx)(O.Z,{label:"Chi nh\xe1nh m\u1eb7c \u0111\u1ecbnh",dataChiNhanh:s,idChosed:(null===u||void 0===u?void 0:u.idChiNhanhMacDinh)||"",handleChoseItem:e=>{x("idChiNhanhMacDinh",null===e||void 0===e?void 0:e.id)}})}),0!==i&&le&&(0,F.jsx)(o.ZP,{item:!0,xs:12,children:(0,F.jsx)(I.Z,{control:(0,F.jsx)(H.Z,{size:"small",checked:null===u||void 0===u?void 0:u.changePassword,onChange:()=>{ne((()=>!te)),x("changePassword",!te)}}),label:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"})}),(te||0===i)&&(0,F.jsx)(o.ZP,{item:!0,xs:12,children:(0,F.jsx)(h.Z,{size:"small",fullWidth:!0,name:"password",type:X?"text":"password",value:(null===u||void 0===u?void 0:u.password)||"",onChange:e=>{x("password",e.target.value)},label:(0,F.jsxs)("label",{style:{fontSize:"13px"},children:["M\u1eadt kh\u1ea9u ",0===i?"":"hi\u1ec7n t\u1ea1i",(0,F.jsx)("span",{style:{color:"red",marginLeft:"2px"},children:"*"})]}),helperText:p.password&&g.password&&(0,F.jsx)("span",{children:g.password}),InputProps:we})}),te&&(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(o.ZP,{item:!0,xs:12,sx:{display:0!==i?"":"none"},children:(0,F.jsx)(h.Z,{size:"small",fullWidth:!0,name:"passwordNew",type:J?"text":"password",value:(null===u||void 0===u?void 0:u.passwordNew)||"",label:(0,F.jsxs)("label",{style:{fontSize:"13px"},children:["M\u1eadt kh\u1ea9u m\u1edbi",(0,F.jsx)("span",{style:{color:"red",marginLeft:"2px"},children:"*"})]}),onChange:a,helperText:p.passwordNew&&g.passwordNew&&(0,F.jsx)("span",{children:g.passwordNew}),InputProps:(v=u.passwordNew,0===i||V.Z.checkNull(v)?{}:{endAdornment:(0,F.jsx)(S.Z,{position:"end",children:(0,F.jsx)(l.Z,{"aria-label":"toggle password visibility",onClick:me,edge:"end",children:J?(0,F.jsx)(Y.Z,{}):(0,F.jsx)(Q.Z,{})})})})})})}),(te||0===i)&&(0,F.jsx)(o.ZP,{item:!0,xs:12,children:(0,F.jsx)(h.Z,{size:"small",fullWidth:!0,type:"password",name:"confirmPassword",onChange:a,value:(null===u||void 0===u?void 0:u.confirmPassword)||"",label:(0,F.jsxs)("label",{style:{fontSize:"13px"},children:["Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",(0,F.jsx)("span",{style:{color:"red",marginLeft:"2px"},children:"*"})]}),helperText:p.confirmPassword&&g.confirmPassword&&(0,F.jsx)("span",{children:g.confirmPassword})})}),(0,F.jsx)(o.ZP,{item:!0,xs:12,sx:{paddingTop:0===i||te?"8px!important":"0px!important"},children:(0,F.jsx)(P.Z,{children:0!==i&&(0,F.jsx)(I.Z,{control:(0,F.jsx)(H.Z,{name:"isActive",value:null===u||void 0===u?void 0:u.isActive,onChange:a,checked:null===u||void 0===u?void 0:u.isActive,size:"small"}),label:"K\xedch ho\u1ea1t"})})})]})]}),(0,F.jsx)(E.Z,{value:"2",children:(0,F.jsx)(ie,{userId:i,allRoles:r,chiNhanhRoles:he,passDataToParent:Ce})})]}),(0,F.jsx)(o.ZP,{container:!0,justifyContent:"end",children:(0,F.jsxs)(b.Z,{spacing:1,justifyContent:"flex-end",direction:"row",children:[(0,F.jsx)(d.Z,{variant:"outlined",onClick:c,children:"H\u1ee7y"}),(0,F.jsx)(d.Z,{variant:"contained",type:"submit",children:"L\u01b0u"})]})})]});var v}})})]})})}var oe=n(22639);class he extends i.Z{constructor(){super(...arguments),this.state={modalVisible:!1,maxResultCount:10,userId:0,filter:"",listUser:[],totalCount:0,currentPage:1,totalPage:0,startIndex:1,userEdit:{userName:"",name:"",surname:"",emailAddress:"",phoneNumber:"",isActive:!1,roleNames:[],password:"",id:0,nhanSuId:"",isAdmin:!1},isShowConfirmDelete:!1,roles:[],suggestNhanSu:[],anchorEl:null,selectedRowId:0,rowSelectedModel:[],allChiNhanh:[]},this.handlePageChange=async(e,t)=>{await this.setState({currentPage:t}),this.getAll()},this.handlePerPageChange=async e=>{await this.setState({maxResultCount:parseInt(e.target.value.toString(),10),currentPage:1,skipCount:1}),this.getAll()},this.handleSearchChange=e=>{const t=e.target.value;this.setState({filter:t})},this.Modal=()=>{this.setState({modalVisible:!this.state.modalVisible})},this.handleCreate=()=>{this.getAll(),this.Modal()},this.onShowDelete=()=>{this.setState({isShowConfirmDelete:!this.state.isShowConfirmDelete})},this.onOkDelete=()=>{this.delete(this.state.selectedRowId),this.onShowDelete(),this.handleCloseMenu()},this.handleOpenMenu=(e,t)=>{this.setState({anchorEl:e.currentTarget,selectedRowId:t})},this.handleCloseMenu=async()=>{await this.setState({anchorEl:null,selectedRowId:0}),await this.getAll()},this.handleView=()=>{this.handleCloseMenu()},this.handleEdit=()=>{var e;this.createOrUpdateModalOpen(null!==(e=this.state.selectedRowId)&&void 0!==e?e:0),this.handleCloseMenu()}}async componentDidMount(){await this.getAll(),await this.getAllChiNhanh(),await this.getAllRole()}async getAllChiNhanh(){const e=await oe.Z.GetAll({keyword:"",maxResultCount:100,skipCount:0});this.setState({allChiNhanh:e.items})}async getAllRole(){const e=await g.Z.getRoles();this.setState({roles:e})}async getAll(){const e=await g.Z.getAll({maxResultCount:this.state.maxResultCount,skipCount:this.state.currentPage,keyword:this.state.filter}),t=await m.Z.SuggestNhanSu();this.setState({listUser:e.items,totalCount:e.totalCount,totalPage:Math.ceil(e.totalCount/this.state.maxResultCount),suggestNhanSu:t})}async delete(e){null!=await g.Z.delete(e)?(0,Z.yv)("X\xf3a b\u1ea3n ghi th\xe0nh c\xf4ng",{variant:"success",autoHideDuration:3e3}):(0,Z.yv)("C\xf3 l\u1ed7i s\u1ea3y ra vui l\xf2ng th\u1eed l\u1ea1i sau!",{variant:"error",autoHideDuration:3e3}),await this.getAll()}async createOrUpdateModalOpen(e){this.setState({userId:e}),this.Modal()}render(){const e=[{field:"userName",headerName:"T\xean \u0111\u0103ng nh\u1eadp",minWidth:125,flex:1,renderHeader:e=>(0,F.jsx)(s.Z,{sx:{fontWeight:"700"},title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(s.Z,{sx:{fontSize:"13px",width:"100%",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},title:e.value,children:e.value})},{field:"fullName",headerName:"H\u1ecd v\xe0 t\xean",minWidth:125,flex:1,renderHeader:e=>(0,F.jsx)(s.Z,{sx:{fontWeight:"700",textOverflow:"ellipsis",overflow:"hidden"},title:e.colDef.headerName,width:"100%",children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(s.Z,{sx:{fontSize:"13px",width:"100%",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},title:e.value,children:e.value})},{field:"roleNames",headerName:"Vai tr\xf2",minWidth:100,flex:1,renderHeader:e=>(0,F.jsx)(s.Z,{sx:{fontWeight:"700"},title:e.colDef.headerName,children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(s.Z,{sx:{fontSize:"13px",width:"100%",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},title:e.value.join(", "),children:e.value.join(", ")})},{field:"emailAddress",headerName:"\u0110\u1ecba ch\u1ec9 email",minWidth:125,flex:1,renderHeader:e=>(0,F.jsx)(s.Z,{sx:{fontWeight:"700",textOverflow:"ellipsis",overflow:"hidden",width:"100%"},title:e.colDef.headerName,children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(s.Z,{sx:{fontSize:"13px",width:"100%",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},title:e.value,children:e.value})},{field:"isActive",headerName:"Tr\u1ea1ng th\xe1i",headerAlign:"center",minWidth:116,flex:.8,renderCell:e=>(0,F.jsx)(r.Z,{variant:"body2",alignItems:"center",borderRadius:"12px",padding:"4px 8px",sx:{margin:"auto",backgroundColor:!0===e.row.isActive?"#E8FFF3":"#FFF8DD",color:!0===e.row.isActive?"#50CD89":"#FF9900"},fontSize:"13px",fontWeight:"400",children:!0===e.value?"Ho\u1ea1t \u0111\u1ed9ng":"Ng\u1eebng ho\u1ea1t \u0111\u1ed9ng"}),renderHeader:e=>(0,F.jsx)(s.Z,{sx:{fontSize:"13px"},children:e.colDef.headerName})},{field:"creationTime",headerName:"Th\u1eddi gian t\u1ea1o",minWidth:150,headerAlign:"center",flex:1,renderHeader:e=>(0,F.jsx)(s.Z,{sx:{fontWeight:"700"},title:e.colDef.headerName,children:e.colDef.headerName}),renderCell:e=>(0,F.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"center"},children:[(0,F.jsx)(c.r,{style:{marginRight:4}}),(0,F.jsx)(r.Z,{fontSize:"13px",fontWeight:"400",variant:"h6",color:"#333233",lineHeight:"16px",children:new Date(e.value).toLocaleDateString("en-GB")})]})},{field:"action",headerName:"H\xe0nh \u0111\u1ed9ng",maxWidth:60,flex:1,disableColumnMenu:!0,renderCell:e=>(0,F.jsx)(s.Z,{children:(0,F.jsx)(l.Z,{"aria-label":"Actions","aria-controls":"actions-menu-".concat(e.row.id),"aria-haspopup":"true",onClick:t=>{this.handleOpenMenu(t,e.row.id)},children:(0,F.jsx)(N.Z,{})})}),renderHeader:e=>(0,F.jsx)(s.Z,{sx:{display:"none"},children:e.colDef.headerName})}];return(0,F.jsxs)(s.Z,{sx:{paddingTop:"16px"},children:[(0,F.jsx)(s.Z,{children:(0,F.jsxs)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",rowGap:"16px",children:[(0,F.jsx)(o.ZP,{item:!0,xs:"auto",children:(0,F.jsxs)(s.Z,{display:"flex",gap:"10px",alignItems:"center",children:[(0,F.jsx)(r.Z,{variant:"h1",fontWeight:"700",fontSize:"16px",color:"#333233",children:"Danh s\xe1ch ng\u01b0\u1eddi d\xf9ng"}),(0,F.jsx)(s.Z,{children:(0,F.jsx)(h.Z,{onKeyDown:e=>{"Enter"==e.key&&this.getAll()},onChange:this.handleSearchChange,size:"small",sx:{borderColor:"#E6E1E6!important",bgcolor:"#fff"},placeholder:"T\xecm ki\u1ebfm...",InputProps:{startAdornment:(0,F.jsx)(p.r,{onClick:()=>{this.getAll()},style:{marginRight:"8px",color:"gray"}})}})})]})}),(0,F.jsx)(o.ZP,{item:!0,xs:"auto",sx:{display:"flex",justifyContent:"flex-end"},children:(0,F.jsx)("div",{children:(0,F.jsx)(s.Z,{display:"flex",alignItems:"center",children:(0,F.jsx)(s.Z,{display:"flex",gap:"8px",children:(0,F.jsx)(d.Z,{hidden:!j.Z.isGrandPermission("Pages.Administration.Users.Create"),variant:"contained",startIcon:(0,F.jsx)("img",{src:x.Z}),size:"small",onClick:()=>{this.createOrUpdateModalOpen(0)},sx:{height:"40px",fontSize:"14px",textTransform:"unset",fontWeight:"400",backgroundColor:"var(--color-main)!important"},children:"Th\xeam ng\u01b0\u1eddi d\xf9ng"})})})})})]})}),(0,F.jsxs)(s.Z,{className:"page-content",sx:{paddingTop:"16px",borderRadius:"8px"},children:[(0,F.jsxs)(s.Z,{children:[this.state.rowSelectedModel.length>0?(0,F.jsx)(s.Z,{mb:1,children:(0,F.jsxs)(d.Z,{variant:"contained",color:"secondary",children:["X\xf3a ",this.state.rowSelectedModel.length," b\u1ea3n ghi \u0111\xe3 ch\u1ecdn"]})}):null,(0,F.jsx)(u._$,{rowHeight:46,columns:e,rows:this.state.listUser,rowSelectionModel:this.state.rowSelectedModel||void 0,onRowSelectionModelChange:e=>{this.setState({rowSelectedModel:e})},disableRowSelectionOnClick:!0,checkboxSelection:!1,sx:{"& .MuiDataGrid-columnHeader":{background:"#EEF0F4"}},hideFooterPagination:!0,hideFooter:!0,localeText:C.g})]}),(0,F.jsx)(w.Z,{currentPage:this.state.currentPage,rowPerPage:this.state.maxResultCount,totalPage:this.state.totalPage,totalRecord:this.state.totalCount,handlePerPageChange:this.handlePerPageChange,handlePageChange:this.handlePageChange}),(0,F.jsx)(le,{isShowModal:this.state.modalVisible,onCancel:()=>{this.setState({modalVisible:!1})},dataNhanVien:this.state.suggestNhanSu.filter((e=>{var t;return!(null!==(t=this.state.listUser)&&void 0!==t&&t.map((e=>e.nhanSuId)).includes(e.id))})),dataChiNhanh:this.state.allChiNhanh,userId:this.state.userId,allRoles:this.state.roles,onOk:this.handleCreate}),(0,F.jsx)(v.Z,{isShow:this.state.isShowConfirmDelete,onOk:this.onOkDelete,onCancel:this.onShowDelete}),(0,F.jsx)(f.Z,{anchorEl:this.state.anchorEl,selectedRowId:this.state.selectedRowId,closeMenu:this.handleCloseMenu,handleView:this.handleEdit,permissionView:"Pages.Administration.Users.Edit",handleEdit:this.handleEdit,permissionEdit:"Pages.Administration.Users.Edit",handleDelete:this.onShowDelete,permissionDelete:"Pages.Administration.Users.Delete"})]})]})}}const de=he},59837:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(96219),i=n(68507);const s=new class{async SuggestPhongBan(){try{return(await a.Z.post("api/services/app/Suggest/SuggestPhongBans")).data.result}catch(e){return console.error("Error occurred while suggesting PhongBans:",e),[]}}async SuggestCaLamViec(){try{return(await a.Z.post("api/services/app/Suggest/SuggestCaLamViecs")).data.result}catch(e){return console.error("Error occurred while suggesting CaLamViec:",e),[]}}async SuggestChiNhanh(){try{return(await a.Z.post("api/services/app/Suggest/SuggestChiNhanhs")).data.result}catch(e){return console.error("Error occurred while suggesting ChiNhanhs:",e),[]}}async SuggestLoaiHangHoa(){try{return(await a.Z.post("api/services/app/Suggest/SuggestLoaiHangHoas")).data.result}catch(e){return console.error("Error occurred while suggesting LoaiHangHoas:",e),[]}}async SuggestNhomHangHoa(){try{return(await a.Z.post("api/services/app/Suggest/SuggestNhomHangHoas")).data.result}catch(e){return console.error("Error occurred while suggesting LoaiHangHoas:",e),[]}}async SuggestHangHoa(){try{return(await a.Z.post("api/services/app/Suggest/SuggestHangHoas")).data.result}catch(e){return console.error("Error occurred while suggesting HangHoas:",e),[]}}async SuggestDichVu(e){try{let t="api/services/app/Suggest/SuggestDichVu";null!==e&&void 0!==e&&""!=e&&(t+="?idNhanVien=".concat(e));return(await a.Z.post(t)).data.result}catch(t){return console.error("C\xf3 l\u1ed7i s\u1ea3y ra khi l\u1ea5y d\u1eef li\u1ec7u:",t),[]}}async SuggestDonViQuiDoi(){try{return(await a.Z.post("api/services/app/Suggest/SuggestDonViQuiDois")).data.result}catch(e){return console.error("Error occurred while suggesting DonViQuiDois:",e),[]}}async SuggestNguonKhach(){try{return(await a.Z.post("api/services/app/Suggest/SuggestNguonKhachHangs")).data.result}catch(e){return console.error("Error occurred while suggesting NguonKhachHangs:",e),[]}}async SuggestNhomKhach(){try{return(await a.Z.post("api/services/app/Suggest/SuggestNhomKhachHangs")).data.result}catch(e){return console.error("Error occurred while suggesting NhomKhachHangs:",e),[]}}async SuggestLoaiKhach(){try{return(await a.Z.post("api/services/app/Suggest/SuggestLoaiKhachHangs")).data.result}catch(e){return console.error("Error occurred while suggesting LoaiKhachHangs:",e),[]}}async SuggestKhachHang(){try{return(await a.Z.post("api/services/app/Suggest/SuggestKhachHangs")).data.result}catch(e){return console.error("Error occurred while suggesting KhachHangs:",e),[]}}async SuggestNhanSu(){try{return(await a.Z.post("api/services/app/Suggest/SuggestNhanSus?idChiNhanh=".concat(i.Z.get("IdChiNhanh")))).data.result}catch(e){return console.error("Error occurred while suggesting NhanSus:",e),[]}}async SuggestChucVu(){try{return(await a.Z.post("api/services/app/Suggest/SuggestChucVus")).data.result}catch(e){return console.error("Error occurred while suggesting ChucVus:",e),[]}}async SuggestLoaiChungTu(){try{return(await a.Z.post("api/services/app/Suggest/SuggestLoaiChungTus")).data.result}catch(e){return console.error("Error occurred while suggesting Lo\u1ea1i Ch\u1ee9ng T\u1eeb:",e),[]}}async SuggestNhanVienLamDichVu(e){try{let t="api/services/app/Suggest/SuggestNhanVienThucHienDichVu?idChiNhanh=".concat(i.Z.get("IdChiNhanh"));e&&""!==e&&(t+="&idNhanVien=".concat(e));return(await a.Z.post(t)).data.result}catch(t){return console.error("Error occurred while suggesting nhan vien:",t),[]}}async SuggestNhanVienByIdDichVu(e){try{let t="api/services/app/Suggest/SuggestNhanVienByIdDichVu?idChiNhanh=".concat(i.Z.get("IdChiNhanh"));t+="&idDichVu=".concat(e);return(await a.Z.post(t)).data.result}catch(t){return console.error("Error occurred while suggesting nhan vien:",t),[]}}async SuggestNganHang(){return(await a.Z.post("api/services/app/Suggest/SuggestNganHang")).data.result}async SuggestTaiKhoanNganHangQr(e){return(await a.Z.post("api/services/app/Suggest/SuggestTaiKhoanNganHangQr?idChiNhanh=".concat(e))).data.result}}},89460:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(80280),i=n(96219),s=n(68507);const r=new class{constructor(){var e=this;this.AppendFile_toFormData=e=>{const t=new FormData;return t.append("file",e),t},this.GoogleApi_GetFileIdfromLink=e=>{if(!a.Z.checkNull(e)){const t=e.split("=");if(3===t.length)return t[2]}return""},this.GoogleApi_UploaFileToDrive=async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=s.Z.get("TenantName");a.Z.checkNull(r)&&(r="Default");const l=e.AppendFile_toFormData(t);return await i.Z.post("api/services/app/GoogleAPI/GoogleApi_UploaFileToDrive?tenantName=".concat(r,"&subFolder=").concat(n),l).then((e=>e.data.result))},this.GoogleApi_RemoveFile_byId=async e=>{if(!a.Z.checkNull(e))try{return await i.Z.get("api/services/app/GoogleAPI/GoogleApi_RemoveFile_byId?fileId=".concat(e)).then((e=>e.data.result))}catch(t){return!0}return!0}}async downloadImportTemplate(e){return(await i.Z.get("/api/upload-file/download-import-template?fileName=".concat(e))).data}}}}]);