"use strict";(self.webpackChunklayout_jsx=self.webpackChunklayout_jsx||[]).push([[7453],{36073:(e,t,n)=>{n.d(t,{Z:()=>d,r:()=>o});var s,i,a=n(47313);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r.apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...o}=e;return a.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},o),n?a.createElement("title",{id:l},n):null,s||(s=a.createElement("path",{d:"M4 8H12",stroke:"#FFFAFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=a.createElement("path",{d:"M8 12V4",stroke:"#FFFAFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const o=a.forwardRef(l),d=n.p+"static/media/add.0b705e20dfa5086a83bee9c502946102.svg"},61566:(e,t,n)=>{n.d(t,{Z:()=>d,r:()=>o});var s,i,a=n(47313);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r.apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...o}=e;return a.createElement("svg",r({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},o),n?a.createElement("title",{id:l},n):null,s||(s=a.createElement("path",{d:"M9.58335 17.5003C13.9556 17.5003 17.5 13.9559 17.5 9.58366C17.5 5.2114 13.9556 1.66699 9.58335 1.66699C5.2111 1.66699 1.66669 5.2114 1.66669 9.58366C1.66669 13.9559 5.2111 17.5003 9.58335 17.5003Z",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=a.createElement("path",{d:"M18.3334 18.3337L16.6667 16.667",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const o=a.forwardRef(l),d=n.p+"static/media/search-normal.4032718719c7e2bac848ef728621bbbe.svg"},87068:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(94469),i=n(33604),a=n(35898),r=n(61113),l=n(96467),o=n(24193),d=n(10298),h=n(46417);const c=e=>{let{isShow:t,onOk:n,onCancel:c,title:m="",mes:u=""}=e;return(0,h.jsxs)(s.Z,{open:t,onClose:c,fullWidth:!0,maxWidth:"xs",PaperProps:{sx:{height:"auto",width:"450px"}},children:[(0,h.jsx)(i.Z,{children:(0,h.jsxs)(a.Z,{direction:"row",spacing:2,justifyContent:"space-between",children:[(0,h.jsx)(r.Z,{color:"#3D475C",fontSize:"18px",fontWeight:700,children:""!=m?m:"Th\xf4ng b\xe1o x\xf3a"}),(0,h.jsx)(d.Z,{sx:{height:"24px"},onClick:c})]})}),(0,h.jsx)(l.Z,{children:(0,h.jsxs)(a.Z,{direction:"column",children:[(0,h.jsx)(r.Z,{color:"#679",fontSize:"14px",fontWeight:400,children:""!=u?u:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\u1ea3n ghi n\xe0y kh\xf4ng?"}),(0,h.jsxs)(a.Z,{mt:3,direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[(0,h.jsx)(o.Z,{variant:"outlined",onClick:c,sx:{fontSize:"14px",textTransform:"unset",color:"#666466"},className:"btn-outline-hover",children:"B\u1ecf qua"}),(0,h.jsx)(o.Z,{sx:{background:"#F1416C",color:"#EEF0F4","&:hover":{background:"#FF316A",color:"#FFF"}},onClick:n,children:"X\xf3a"})]})]})})]})}},33985:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(85582),i=n(51405),a=n(61113),r=n(47313),l=n(33973),o=n(65954),d=n(17885),h=n(14881),c=n(46417);class m extends r.Component{render(){const{selectedRowId:e,anchorEl:t,closeMenu:n,handleView:r,handleDelete:m,handleEdit:u,permissionDelete:x,permissionEdit:p,permissionView:g}=this.props;return(0,c.jsxs)(s.Z,{id:"actions-menu-".concat(e),anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:n,sx:{minWidth:"120px"},children:[(0,c.jsxs)(i.Z,{onClick:r,hidden:!h.Z.isGrandPermission(null!==g&&void 0!==g?g:"notHavePermission"),children:[(0,c.jsx)(a.Z,{color:"#009EF7",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"Xem"}),(0,c.jsx)(l.Z,{sx:{color:"#009EF7"}})]}),(0,c.jsxs)(i.Z,{onClick:u,hidden:!h.Z.isGrandPermission(null!==p&&void 0!==p?p:"notHavePermission"),children:[(0,c.jsx)(a.Z,{color:"#009EF7",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"S\u1eeda"}),(0,c.jsx)(o.Z,{sx:{color:"#009EF7"}})]}),(0,c.jsxs)(i.Z,{onClick:m,hidden:!h.Z.isGrandPermission(null!==x&&void 0!==x?x:"notHavePermission"),children:[(0,c.jsx)(a.Z,{color:"#F1416C",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"X\xf3a"}),(0,c.jsx)(d.Z,{sx:{color:"#F1416C"}})]})]})}}const u=m},46734:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(9019),i=n(9506),a=n(1550),r=n(40454),l=n(51405),o=n(61113),d=n(74312),h=n(47313),c=n(46417);class m extends h.Component{render(){const{totalPage:e,totalRecord:t,currentPage:n,rowPerPage:h,handlePageChange:m,handlePerPageChange:u}=this.props;return(0,c.jsxs)(s.ZP,{container:!0,sx:{display:t>0?"":"none",backgroundColor:"#fff"},padding:"0px 16px",children:[(0,c.jsx)(s.ZP,{item:!0,xs:6,md:3,children:(0,c.jsx)(i.Z,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",height:48},children:(0,c.jsx)(a.Z,{variant:"standard",children:(0,c.jsxs)(r.Z,{sx:{height:"32px"},onChange:u,defaultValue:h,children:[(0,c.jsx)(l.Z,{value:5,children:(0,c.jsx)(o.Z,{variant:"body2",children:"5/ Trang"})}),(0,c.jsx)(l.Z,{value:10,children:(0,c.jsx)(o.Z,{variant:"body2",children:"10/ Trang"})}),(0,c.jsx)(l.Z,{value:20,children:(0,c.jsx)(o.Z,{variant:"body2",children:"20/ Trang"})}),(0,c.jsx)(l.Z,{value:50,children:(0,c.jsx)(o.Z,{variant:"body2",children:"50/ Trang"})}),(0,c.jsx)(l.Z,{value:100,children:(0,c.jsx)(o.Z,{variant:"body2",children:"100/ Trang"})})]})})})}),(0,c.jsx)(s.ZP,{item:!0,xs:12,md:9,children:(0,c.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:48},children:[(0,c.jsxs)(o.Z,{variant:"body2",children:["Hi\u1ec3n th\u1ecb ",(n-1)*h+1," -"," ",h*n>t?t:h*n," c\u1ee7a"," ",t," m\u1ee5c"]}),(0,c.jsx)(d.Z,{count:e,page:n,onChange:m,sx:{"& button":{display:"inline-block",borderRadius:"4px",lineHeight:"1"},"& .Mui-selected":{backgroundColor:"var(--color-main)!important",color:"#fff"}}})]})})]})}}const u=m},33859:(e,t,n)=>{n.d(t,{g:()=>s});n(80281);const s={columnMenuUnsort:"B\u1ecf s\u1eafp x\u1ebfp",columnMenuSortAsc:"S\u1eafp x\u1ebfp t\u0103ng d\u1ea7n",columnMenuSortDesc:"S\u1eafp x\u1ebfp gi\u1ea3m d\u1ea7n",columnMenuFilter:"L\u1ecdc",columnMenuHideColumn:"\u1ea8n c\u1ed9t",columnMenuManageColumns:"\u0110i\u1ec1u ch\u1ec9nh t\u1ea5t c\u1ea3 c\u1ed9t",checkboxSelectionHeaderName:"Ch\u1ecdn",columnsPanelTextFieldLabel:"T\xecm c\u1ed9t",columnsPanelTextFieldPlaceholder:"T\xean c\u1ed9t",columnsPanelHideAllButton:"\u1ea8n t\u1ea5t c\u1ea3",columnsPanelShowAllButton:"Hi\u1ec3n th\u1ecb t\u1ea5t c\u1ea3",filterPanelOperator:"To\xe1n t\u1eed",filterOperatorContains:"Ch\u1ee9a",filterOperatorEquals:"B\u1eb1ng",filterOperatorNot:"Kh\xf4ng B\u1eb1ng",filterOperatorStartsWith:"B\u1eaft \u0111\u1ea7u v\u1edbi",filterOperatorEndsWith:"K\u1ebft th\xfac v\u1edbi",filterOperatorIsEmpty:"R\u1ed7ng",filterOperatorIsNotEmpty:"Kh\xf4ng tr\u1ed1ng",filterOperatorIsAnyOf:"L\xe0 b\u1ea5t k\u1ef3 trong",filterPanelColumns:"C\u1ed9t",filterPanelInputLabel:"Gi\xe1 tr\u1ecb",filterPanelInputPlaceholder:"Nh\u1eadp gi\xe1 tr\u1ecb \u0111\u1ec3 t\xecm ki\u1ebfm",noRowsLabel:"kh\xf4ng c\xf3 d\u1eef li\u1ec7u",noResultsOverlayLabel:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p.",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," / ").concat(t.toLocaleString(),"does nothing"),MuiTablePagination:{labelDisplayedRows:e=>{let{from:t,to:n,count:s}=e;return"hi\u1ec3n th\u1ecb ".concat(t," - ").concat(n," c\u1ee7a ").concat(s," m\u1ee5c")},labelRowsPerPage:"S\u1ed1 h\xe0ng t\u1ed1i \u0111a tr\xean m\u1ed7i trang "},labelRowsPerPage:"S\u1ed1 h\xe0ng t\u1ed1i \u0111a tr\xean m\u1ed7i trang ",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" H\xe0ng \u0111\u01b0\u1ee3c ch\u1ecdn":" H\xe0ng \u0111\u01b0\u1ee3c ch\u1ecdn ")}},37453:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X});var s=n(47313),i=n(9506),a=n(47131),r=n(9019),l=n(61113),o=n(24631),d=n(24193),h=n(40225),c=n(97984),m=n(36073),u=n(86618),x=(n(49786),n(87068)),p=n(6306),g=n(54045),f=n(51671),v=n(53512),Z=n(67216),j=n(83213),P=n(44758),C=n(48310),b=n(94469),w=n(33604),y=n(96467),S=n(65280),T=n(16429),R=n(4117),k=n(7410),E=n(26417),M=n(94638),F=n(50373),N=n(71673),O=n(47655),z=n(60701),D=n(21933);const I=D.Ry().shape({name:D.Z_().required("T\xean vai tr\xf2 l\xe0 b\u1eaft bu\u1ed9c"),displayName:D.Z_().required("T\xean hi\u1ec3n th\u1ecb l\xe0 b\u1eaft bu\u1ed9c")});var A=n(46417);class L extends s.Component{constructor(){var e,t;super(...arguments),t=this,this.state={selectedPermissions:null!==(e=this.props.formRef.grantedPermissions)&&void 0!==e?e:["Pages"],expandedPermissions:["Pages"],tabIndex:"1",searchKeyWord:"",tabChange:!1,filteredPermissions:this.props.permissionTree},this.handleTabChange=(e,t)=>{var n;const s=this.getDefaultExpandPermission(this.props.permissionTree),i=0===this.state.selectedPermissions.length||1===this.state.selectedPermissions.length&&"Pages"==this.state.selectedPermissions[0]?null!==(n=this.props.formRef.grantedPermissions)&&void 0!==n?n:["Pages"]:this.state.selectedPermissions;this.setState({tabIndex:t,selectedPermissions:i,expandedPermissions:s,filteredPermissions:this.props.permissionTree,tabChange:!0})},this.filterPermissions=(e,t)=>e.filter((e=>{const n=e.displayName.toLowerCase().includes(t),s=this.filterPermissions(e.children,t).length>0;return n||s})),this.handleSearchChange=e=>{const t=e.target.value.toLowerCase().toString(),n=this.filterPermissions(this.props.permissionTree,t);this.setState({searchKeyWord:t,filteredPermissions:n})},this.getDefaultExpandPermission=e=>{const t=[];return e.forEach((e=>{if(e.children.length>0){const n=this.getDefaultExpandPermission(e.children);t.push(e.name,...n)}})),t},this.handleSubmit=async e=>{const t=this.state.selectedPermissions.filter((e=>""!=e)),n=await c.Z.createOrEdit({...e,grantedPermissions:t});(0,O.yv)(n.message,{variant:n.status,autoHideDuration:3e3}),"success"==n.status&&(this.setState({tabIndex:"1",selectedPermissions:[],tabChange:!1}),this.props.onOk())},this.handleCheck=(e,t)=>{const n=e.target.checked,s=[...this.state.selectedPermissions];n?(this.addPermission(s,t),this.addChildrenPermissions(s,t.children)):(this.removePermission(s,t),this.removeChildrenPermissions(s,t.children)),this.setState({selectedPermissions:s})},this.addPermission=(e,t)=>{-1===e.indexOf(t.name)&&(e.push(t.name),0==(null===e||void 0===e?void 0:e.includes(t.parentNode))&&e.push(t.parentNode))},this.addChildrenPermissions=(e,t)=>{Array.isArray(t)&&t.forEach((t=>{this.addPermission(e,t),this.addChildrenPermissions(e,t.children)}))},this.removePermission=(e,t)=>{const n=null===e||void 0===e?void 0:e.indexOf(t.name);-1!==n&&e.splice(n,1)},this.removeChildrenPermissions=(e,t)=>{Array.isArray(t)&&t.forEach((t=>{this.removePermission(e,t),this.removeChildrenPermissions(e,t.children)}))},this.renderTree=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{searchKeyWord:s}=t.state;return e.map((e=>{var i,a;if(!(t.filterPermissions(e.children,s).length>0)&&!e.displayName.toLowerCase().includes(s))return null;const r=e.children&&e.children.length>0,l=n||!(null!==(i=t.state.expandedPermissions)&&void 0!==i&&i.includes(e.name));return(0,A.jsx)(Z.ZP,{disablePadding:!0,children:(0,A.jsxs)(j.Z,{children:[r&&(0,A.jsx)(A.Fragment,{children:l?(0,A.jsx)(p.Z,{onClick:()=>t.toggleCollapse(e.name)}):(0,A.jsx)(g.Z,{onClick:()=>t.toggleCollapse(e.name)})}),(0,A.jsx)(P.Z,{onChange:n=>t.handleCheck(n,e),checked:null===(a=t.state.selectedPermissions)||void 0===a?void 0:a.includes(e.name),sx:{color:"var(--color-main)!important"}}),(0,A.jsxs)(A.Fragment,{children:[null!==e.children&&e.children.length>0?(0,A.jsx)(f.Z,{sx:{color:"#FFA800"}}):(0,A.jsx)(v.Z,{sx:{color:"#FFA800"}})," ",e.displayName]}),r&&(0,A.jsx)(A.Fragment,{children:!l&&(0,A.jsx)(C.Z,{disablePadding:!0,sx:{pl:4},children:t.renderTree(e.children)})})]})},e.name)}))},this.toggleCollapse=e=>{const t=[...this.state.expandedPermissions],n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e),this.setState({expandedPermissions:t})},this.handleFormKeyPress=e=>{"Enter"===e.key&&e.preventDefault()}}componentDidUpdate(e,t,n){!1===this.state.tabChange&&this.props.formRef.grantedPermissions.length>0&&this.setState({selectedPermissions:this.props.formRef.grantedPermissions,tabChange:!0})}render(){const{visible:e,onCancel:t,modalType:n,formRef:s}=this.props,r={description:s.description,displayName:s.displayName,name:s.name,grantedPermissions:s.grantedPermissions,id:s.id};return(0,A.jsxs)(b.Z,{open:e,onClose:()=>{this.setState({tabIndex:"1",selectedPermissions:[],tabChange:!1}),t()},fullWidth:!0,maxWidth:"sm",children:[(0,A.jsxs)(w.Z,{children:[(0,A.jsx)(l.Z,{variant:"h3",fontSize:"24px",fontWeight:"700",children:n}),(0,A.jsx)(a.Z,{"aria-label":"close",onClick:()=>{this.setState({tabIndex:"1",selectedPermissions:[],tabChange:!1}),t()},sx:{position:"absolute",right:8,top:8,"&:hover svg":{filter:"brightness(0) saturate(100%) invert(34%) sepia(44%) saturate(2405%) hue-rotate(316deg) brightness(98%) contrast(92%)"}},children:(0,A.jsx)(E.r,{})})]}),(0,A.jsx)(y.Z,{children:(0,A.jsx)(k.J9,{initialValues:r,onSubmit:this.handleSubmit,validationSchema:I,children:e=>{let{values:n,handleChange:s,errors:a,touched:r,isSubmitting:l}=e;return(0,A.jsx)(k.l0,{onKeyPress:this.handleFormKeyPress,children:(0,A.jsxs)(i.Z,{children:[(0,A.jsxs)(M.ZP,{value:this.state.tabIndex,children:[(0,A.jsx)(i.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,A.jsxs)(F.Z,{onChange:this.handleTabChange,"aria-label":"lab API tabs example",sx:{"& .MuiTabs-flexContainer":{gap:"24px"},"& button":{fontSize:"14px"}},children:[(0,A.jsx)(S.Z,{label:"Vai tr\xf2",value:"1",sx:{textTransform:"unset!important",padding:"0"}}),(0,A.jsx)(S.Z,{label:"Quy\u1ec1n",value:"2",sx:{textTransform:"unset!important",padding:"0"}})]})}),(0,A.jsxs)(N.Z,{value:"1",sx:{padding:"0","& label":{fontSize:"14px"},display:"flex",flexDirection:"column",gap:"16px",marginTop:"16px"},children:[(0,A.jsx)(T.Z,{children:(0,A.jsx)(o.Z,{className:"mt-2",label:(0,A.jsxs)("label",{htmlFor:"name",className:"modal-lable",children:["T\xean vai tr\xf2",(0,A.jsx)("span",{style:{color:"red",marginRight:"3px"},children:"*"})]}),fullWidth:!0,size:"small",id:"name",type:"text",error:!(!a.name||!r.name),helperText:a.name&&(0,A.jsx)("small",{className:"text-danger",children:a.name}),name:"name",value:n.name,onChange:s})}),(0,A.jsx)(T.Z,{children:(0,A.jsx)(o.Z,{className:"mt-2",fullWidth:!0,label:(0,A.jsxs)("label",{htmlFor:"displayName",className:"modal-lable",children:["T\xean hi\u1ec3n th\u1ecb",(0,A.jsx)("span",{style:{color:"red",marginRight:"3px"},children:"*"})]}),error:!(!a.displayName||!r.displayName),helperText:a.displayName&&(0,A.jsx)("small",{className:"text-danger",children:a.displayName}),size:"small",id:"displayName",type:"text",name:"displayName",value:n.displayName,onChange:s})}),(0,A.jsx)(T.Z,{children:(0,A.jsx)(o.Z,{className:"mt-2",fullWidth:!0,label:(0,A.jsx)("label",{htmlFor:"description",className:"modal-lable",children:"M\xf4 t\u1ea3"}),size:"small",id:"description",type:"text",name:"description",value:n.description,onChange:s})})]}),(0,A.jsxs)(N.Z,{value:"2",sx:{padding:"0"},children:[(0,A.jsx)(o.Z,{size:"small",fullWidth:!0,type:"text",onChange:this.handleSearchChange,placeholder:"T\xecm ki\u1ebfm...",sx:{paddingTop:1,paddingBottom:2}}),(0,A.jsx)(T.Z,{sx:{"& .MuiFormControlLabel-root":{width:"100%"},overflowY:"auto",overflowX:"hidden",maxHeight:"450px"},children:(0,A.jsx)(C.Z,{component:"nav",disablePadding:!0,children:this.renderTree(this.state.filteredPermissions)})})]})]}),(0,A.jsx)(R.Z,{sx:{paddingRight:"0!important",paddingTop:"16px !important",paddingBottom:"0px !important"},children:(0,A.jsxs)(i.Z,{display:"flex",width:"fit-content",marginLeft:"auto",gap:"8px",sx:{"& button":{textTransform:"unset!important"}},children:[(0,A.jsx)(d.Z,{variant:"outlined",size:"small",sx:{color:"var(--color-main)",fontSize:"14px",textTransform:"unset"},onClick:()=>{this.setState({tabIndex:"1",selectedPermissions:[],tabChange:!1}),t()},className:"btn-outline-hover",children:"H\u1ee7y"}),l?(0,A.jsx)(d.Z,{variant:"contained",sx:{fontSize:"14px",textTransform:"unset"},size:"small",className:"btn-container-hover",children:"\u0110ang l\u01b0u"}):(0,A.jsx)(d.Z,{variant:"contained",type:"submit",sx:{fontSize:"14px",textTransform:"unset"},size:"small",className:"btn-container-hover",children:"L\u01b0u"})]})})]})})}})})]})}}const W=(0,z.Pi)(L);var H=n(61566),V=n(33859),B=n(33985),K=n(46734),U=n(94662),_=n(14881);class q extends s.Component{constructor(){super(...arguments),this.state={modalVisible:!1,maxResultCount:10,skipCount:0,roleId:0,filter:"",listRole:[],totalCount:0,permissionTree:[],roleEdit:{description:"",displayName:"",name:"",grantedPermissions:[],id:0},currentPage:1,totalPage:0,startIndex:1,isShowConfirmDelete:!1,selectedRowId:0,anchorEl:null,rowSelectedModel:[]},this.handleSearch=e=>{const t=e.target.value;this.setState({filter:t},(async()=>this.getAll()))},this.handlePageChange=async(e,t)=>{await this.setState({currentPage:t,skipCount:t}),this.getAll()},this.handlePerPageChange=async e=>{await this.setState({maxResultCount:parseInt(e.target.value.toString(),10),currentPage:1,skipCount:1}),this.getAll()},this.Modal=()=>{this.setState({modalVisible:!this.state.modalVisible})},this.handleCreate=async()=>{this.getAll(),await U.Z.initCreateOrEditRoleDto(),this.setState({modalVisible:!1})},this.onShowDelete=()=>{this.setState({isShowConfirmDelete:!this.state.isShowConfirmDelete})},this.onOkDelete=()=>{this.delete(this.state.selectedRowId),this.onShowDelete()},this.handleOpenMenu=(e,t)=>{this.setState({anchorEl:e.currentTarget,selectedRowId:t})},this.handleCloseMenu=async()=>{await this.setState({anchorEl:null,selectedRowId:0}),await this.getAll()},this.handleEdit=()=>{var e;this.createOrUpdateModalOpen(null!==(e=this.state.selectedRowId)&&void 0!==e?e:0),this.handleCloseMenu()},this.handleView=()=>{this.handleCloseMenu()}}async componentDidMount(){await this.getAll()}async getAll(){const e=await c.Z.getAll({maxResultCount:this.state.maxResultCount,skipCount:this.state.currentPage,keyword:this.state.filter}),t=await c.Z.getAllPermissionTree();this.setState({listRole:e.items,totalCount:e.totalCount,permissionTree:t,totalPage:Math.ceil(e.totalCount/this.state.maxResultCount),roleEdit:{id:0,name:"",displayName:"",grandPermissions:[],description:""}})}async createOrUpdateModalOpen(e){if(0===e){const e=await c.Z.getAllPermissionTree();await U.Z.initCreateOrEditRoleDto(),await this.setState({permissionTree:e,roleEdit:U.Z.createOrEditRoleDto})}else{await U.Z.getRoleForEdit(e);const t=U.Z.createOrEditRoleDto,n=await c.Z.getAllPermissionTree();this.setState({permissionTree:n,roleId:e,roleEdit:t})}this.setState({roleId:e}),this.Modal()}async delete(e){null!=await c.Z.delete(e)?(0,O.yv)("X\xf3a b\u1ea3n ghi th\xe0nh c\xf4ng",{variant:"success",autoHideDuration:3e3}):(0,O.yv)("C\xf3 l\u1ed7i s\u1ea3y ra vui l\xf2ng th\u1eed l\u1ea1i sau!",{variant:"error",autoHideDuration:3e3}),this.getAll()}render(){const e=[{field:"name",headerName:"T\xean vai tr\xf2",minWidth:125,flex:1,renderHeader:e=>(0,A.jsx)(i.Z,{sx:{fontWeight:"700",textAlign:"left"},title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,A.jsx)(i.Z,{width:"100%",textAlign:"left",fontSize:"13px",fontWeight:400,fontFamily:"Roboto",children:e.value})},{field:"description",headerName:"M\xf4 t\u1ea3",minWidth:125,flex:1,renderHeader:e=>(0,A.jsx)(i.Z,{sx:{fontWeight:"700",textAlign:"left"},title:e.colDef.headerName,children:e.colDef.headerName}),renderCell:e=>(0,A.jsx)(i.Z,{sx:{fontSize:"13px",width:"100%",fontWeight:"400",fontFamily:"Roboto",overflow:"hidden",textOverflow:"ellipsis"},title:e.value,children:e.value})},{field:"action",headerName:"H\xe0nh \u0111\u1ed9ng",maxWidth:60,flex:1,disableColumnMenu:!0,renderCell:e=>(0,A.jsx)(i.Z,{children:(0,A.jsx)(a.Z,{"aria-controls":"actions-menu-".concat(e.row.id),"aria-haspopup":"true",onClick:t=>{this.handleOpenMenu(t,e.row.id)},children:(0,A.jsx)(u.Z,{})})}),renderHeader:e=>(0,A.jsx)(i.Z,{sx:{display:"none"},children:e.colDef.headerName})}];return(0,A.jsxs)(i.Z,{children:[(0,A.jsx)(i.Z,{children:(0,A.jsxs)(r.ZP,{container:!0,justifyContent:"space-between",paddingTop:"16px",children:[(0,A.jsx)(r.ZP,{item:!0,children:(0,A.jsx)("div",{children:(0,A.jsxs)(i.Z,{display:"flex",alignItems:"center",gap:"10px",children:[(0,A.jsx)(l.Z,{variant:"h1",fontSize:"16px",color:"#333233",fontWeight:"700",children:"Danh s\xe1ch vai tr\xf2"}),(0,A.jsx)(i.Z,{children:(0,A.jsx)(o.Z,{onChange:this.handleSearch,size:"small",sx:{borderColor:"#E6E1E6!important",bgcolor:"#fff"},placeholder:"T\xecm ki\u1ebfm...",InputProps:{startAdornment:(0,A.jsx)(H.r,{style:{marginRight:"8px",color:"gray"}})}})})]})})}),(0,A.jsx)(r.ZP,{item:!0,style:{display:"flex",justifyContent:"flex-end"},children:(0,A.jsx)("div",{children:(0,A.jsx)(i.Z,{children:(0,A.jsx)(i.Z,{display:"flex",alignItems:"center",gap:"8px",children:(0,A.jsx)(d.Z,{hidden:!_.Z.isGrandPermission("Pages.Administration.Roles.Create"),variant:"contained",startIcon:(0,A.jsx)("img",{src:m.Z}),size:"small",onClick:()=>{this.createOrUpdateModalOpen(0)},sx:{height:"40px",fontSize:"14px",textTransform:"unset",fontWeight:"400"},className:"btn-container-hover",children:"Th\xeam vai tr\xf2"})})})})})]})}),(0,A.jsxs)(i.Z,{paddingTop:"16px",borderRadius:"8px",children:[this.state.rowSelectedModel.length>0?(0,A.jsx)(i.Z,{mb:1,children:(0,A.jsxs)(d.Z,{variant:"contained",color:"secondary",children:["X\xf3a ",this.state.rowSelectedModel.length," b\u1ea3n ghi \u0111\xe3 ch\u1ecdn"]})}):null,(0,A.jsx)(h._$,{rowHeight:46,columns:e,rows:this.state.listRole,rowSelectionModel:this.state.rowSelectedModel||void 0,onRowSelectionModelChange:e=>{this.setState({rowSelectedModel:e})},disableRowSelectionOnClick:!0,checkboxSelection:!1,hideFooter:!0,hideFooterPagination:!0,localeText:V.g}),(0,A.jsx)(B.Z,{selectedRowId:this.state.selectedRowId,anchorEl:this.state.anchorEl,closeMenu:this.handleCloseMenu,handleView:this.handleEdit,permissionView:"Pages.Administration.Roles.Edit",handleEdit:this.handleEdit,permissionEdit:"Pages.Administration.Roles.Edit",handleDelete:this.onShowDelete,permissionDelete:"Pages.Administration.Roles.Delete"}),(0,A.jsx)(K.Z,{currentPage:this.state.currentPage,rowPerPage:this.state.maxResultCount,totalRecord:this.state.totalCount,totalPage:this.state.totalPage,handlePerPageChange:this.handlePerPageChange,handlePageChange:this.handlePageChange})]}),(0,A.jsx)(W,{visible:this.state.modalVisible,onCancel:async()=>{this.setState({modalVisible:!1}),await U.Z.initCreateOrEditRoleDto()},modalType:0===this.state.roleId?"Th\xeam m\u1edbi quy\u1ec1n":"C\u1eadp nh\u1eadt quy\u1ec1n",onOk:this.handleCreate,permissionTree:this.state.permissionTree,formRef:U.Z.createOrEditRoleDto}),(0,A.jsx)(x.Z,{isShow:this.state.isShowConfirmDelete,onOk:this.onOkDelete,onCancel:this.onShowDelete})]})}}const X=(0,z.Pi)(q)},54045:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45045)),a=n(46417),r=(0,i.default)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=r},10298:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45045)),a=n(46417),r=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined");t.Z=r},17885:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45045)),a=n(46417),r=(0,i.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");t.Z=r},65954:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45045)),a=n(46417),r=(0,i.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=r},51671:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45045)),a=n(46417),r=(0,i.default)((0,a.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");t.Z=r},33973:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45045)),a=n(46417),r=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=r},53512:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45045)),a=n(46417),r=(0,i.default)((0,a.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}),"InsertDriveFileOutlined");t.Z=r},86618:(e,t,n)=>{var s=n(64836);t.Z=void 0;var i=s(n(45045)),a=n(46417),r=(0,i.default)((0,a.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.Z=r},94638:(e,t,n)=>{n.d(t,{ZP:()=>r,_i:()=>l,pQ:()=>d,uU:()=>o});var s=n(47313),i=n(46417);const a=s.createContext(null);function r(e){const{children:t,value:n}=e,r=function(){const[e,t]=s.useState(null);return s.useEffect((()=>{t("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),e}(),l=s.useMemo((()=>({idPrefix:r,value:n})),[r,n]);return(0,i.jsx)(a.Provider,{value:l,children:t})}function l(){return s.useContext(a)}function o(e,t){const{idPrefix:n}=e;return null===n?null:"".concat(e.idPrefix,"-P-").concat(t)}function d(e,t){const{idPrefix:n}=e;return null===n?null:"".concat(e.idPrefix,"-T-").concat(t)}},50373:(e,t,n)=>{n.d(t,{Z:()=>h});var s=n(87462),i=n(63366),a=n(47313),r=n(5297),l=n(94638),o=n(46417);const d=["children"],h=a.forwardRef((function(e,t){const{children:n}=e,h=(0,i.Z)(e,d),c=(0,l._i)();if(null===c)throw new TypeError("No TabContext provided");const m=a.Children.map(n,(e=>a.isValidElement(e)?a.cloneElement(e,{"aria-controls":(0,l.uU)(c,e.props.value),id:(0,l.pQ)(c,e.props.value)}):null));return(0,o.jsx)(r.Z,(0,s.Z)({},h,{ref:t,value:c.value,children:m}))}))},71673:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(87462),i=n(63366),a=n(47313),r=n(94146),l=n(17592),o=n(77342),d=n(21921),h=n(32298);function c(e){return(0,h.Z)("MuiTabPanel",e)}(0,n(77430).Z)("MuiTabPanel",["root"]);var m=n(94638),u=n(46417);const x=["children","className","value"],p=(0,l.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(3)}})),g=a.forwardRef((function(e,t){const n=(0,o.Z)({props:e,name:"MuiTabPanel"}),{children:a,className:l,value:h}=n,g=(0,i.Z)(n,x),f=(0,s.Z)({},n),v=(e=>{const{classes:t}=e;return(0,d.Z)({root:["root"]},c,t)})(f),Z=(0,m._i)();if(null===Z)throw new TypeError("No TabContext provided");const j=(0,m.uU)(Z,h),P=(0,m.pQ)(Z,h);return(0,u.jsx)(p,(0,s.Z)({"aria-labelledby":P,className:(0,r.Z)(v.root,l),hidden:h!==Z.value,id:j,ref:t,role:"tabpanel",ownerState:f},g,{children:h===Z.value&&a}))}))}}]);