"use strict";(self.webpackChunklayout_jsx=self.webpackChunklayout_jsx||[]).push([[2922],{68186:(i,a,n)=>{n.d(a,{Z:()=>l});n(47313);var t=n(35898),e=n(36373),o=n(99881),h=n(46417);function l(i){let{handleClose:a,showAlert:n,type:l=1,title:s=""}=i;return(0,h.jsx)(t.Z,{spacing:2,sx:{width:"100%",zIndex:1e4},children:(0,h.jsx)(e.Z,{open:n,autoHideDuration:3e3,onClose:a,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,h.jsx)(o.Z,{onClose:a,severity:1==l?"success":"error",sx:{width:"100%"},children:s})})})}},20803:(i,a,n)=>{n.d(a,{Z:()=>d});var t=n(47313),e=n(48623),o=n(24631),h=n(9019),l=n(61113),s=n(9506),c=n(46417);function d(i){let{handleChoseItem:a,idChosed:n,lstData:d,label:r,helperText:u}=i;const[T,g]=(0,t.useState)(null);t.useEffect((()=>{const i=null===d||void 0===d?void 0:d.filter((i=>i.id==n));i.length>0?g(i[0]):g(null)}),[n]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.Z,{size:"small",fullWidth:!0,disablePortal:!0,autoComplete:!0,multiple:!1,value:T,onChange:(i,n)=>{a(n)},filterOptions:i=>i,isOptionEqualToValue:(i,a)=>i.id===a.id,options:d,getOptionLabel:i=>i.text1?i.text1:"",renderInput:i=>(0,c.jsx)(o.Z,{...i,label:null!==r&&void 0!==r?r:"T\xecm ki\u1ebfm",helperText:u}),renderOption:(i,a)=>(0,c.jsx)("li",{...i,children:(0,c.jsx)(h.ZP,{container:!0,alignItems:"center",spacing:1,children:(0,c.jsxs)(h.ZP,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:[(0,c.jsx)(l.Z,{style:{fontSize:"14px"},children:a.text1}),(0,c.jsx)(s.Z,{component:"span",style:{fontWeight:500,color:"#acaca5",fontSize:"12px"},children:a.text2})]})})})})})}},48127:(i,a,n)=>{n.d(a,{Z:()=>o});var t=n(10298),e=n(46417);function o(i){let{onClose:a}=i;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(t.Z,{onClick:a,sx:{position:"absolute",right:"16px",top:"16px",minWidth:20,"&:hover":{filter:"brightness(0) saturate(100%) invert(34%) sepia(44%) saturate(2405%) hue-rotate(316deg) brightness(98%) contrast(92%)"}}})})}},2538:(i,a,n)=>{n.d(a,{Z:()=>s});var t=n(1550),e=n(23306),o=n(40454),h=n(51405),l=n(46417);function s(i){let{idChosed:a,data:n,handleChange:s,label:c}=i;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(t.Z,{fullWidth:!0,size:"small",children:[(0,l.jsx)(e.Z,{sx:{fontSize:"15px"},children:c}),(0,l.jsx)(o.Z,{value:a,label:c,children:null===n||void 0===n?void 0:n.map(((i,a)=>(0,l.jsx)(h.Z,{value:i.value,onClick:()=>(i=>{s(i)})(i),children:i.text},a)))})]})})}},142:(i,a,n)=>{n.d(a,{k:()=>h});n(47313);var t=n(17592),e=n(67426),o=n(46417);const h=(0,t.ZP)((i=>(0,o.jsx)(e.Z,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...i})))((i=>{let{theme:a}=i;return{width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:"dark"===a.palette.mode?"#2ECA45":"var(--color-main)",opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:"light"===a.palette.mode?a.palette.grey[100]:a.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:"light"===a.palette.mode?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:13,backgroundColor:"light"===a.palette.mode?"#E9E9EA":"#39393D",opacity:1,transition:a.transitions.create(["background-color"],{duration:500})}}}))},69551:(i,a,n)=>{n.d(a,{K4:()=>l,LB:()=>h,Uv:()=>t,ZP:()=>s,u6:()=>e,xG:()=>o});const t={HOM_NAY:"HOM_NAY",HOM_QUA:"HOM_QUA",NGAY_MAI:"NGAY_MAI",TUAN_NAY:"TUAN_NAY",TUAN_TRUOC:"TUAN_TRUOC",TUAN_TOI:"TUAN_TOI",THANG_NAY:"THANG_NAY",THANG_TRUOC:"THANG_TRUOC",THANG_TOI:"THANG_TOI",QUY_NAY:"QUY_NAY",QUY_TRUOC:"QUY_TRUOC",NAM_NAY:"NAM_NAY",NAM_TRUOC:"NAM_TRUOC",TUY_CHON:"TUY_CHON",TAT_CA:"TAT_CA"},e={TIN_THUONG:1,TIN_SINH_NHAT:2,TIN_LICH_HEN:3,TIN_GIAO_DICH:4},o={DRAFT:1,SUCCESS:100,NOT_BALANCE:103,BRANDNAME_NOTEXIST:104,MESSAGE_NOT_VALID:118,ERROR_UNDEFINED:99},h={INSEART:1,UPDATE:2,DELETE:3},l={SECOND:1,MINUTES:2,HOUR:3,DAY:4,MONTH:5},s={userManagement:{defaultAdminUserName:"admin"},localization:{defaultLocalizationSourceName:"BanHangBeautify"},authorization:{encrptedAuthTokenName:"enc_auth_token"},appBaseUrl:"http://192.168.1.63:2001",remoteServiceBaseUrl:"https://localhost:44311/",guidEmpty:"00000000-0000-0000-0000-000000000000",pageOption:[{value:10,text:"10/ trang"},{value:20,text:"20/ trang"}],TimeType:{HOUR:"HOUR",MINUTES:"MINUTES",SECOND:"SECOND"},ListTimeType:[{value:l.SECOND,text:"Gi\xe2y"},{value:l.MINUTES,text:"Ph\xfat"},{value:l.HOUR,text:"Gi\u1edd"},{value:l.DAY,text:"Ng\xe0y"},{value:l.MONTH,text:"Th\xe1ng"}],DanhSachBienSMS:[{value:"{TenKhachHang}",text:"T\xean kh\xe1ch h\xe0ng"},{value:"{BookingDate}",text:"Ng\xe0y h\u1eb9n"},{value:"{ThoiGianHen}",text:"Th\u1eddi gian h\u1eb9n"},{value:"{MaHoaDon}",text:"M\xe3 giao d\u1ecbch"},{value:"{NgayLapHoaDon}",text:"Ng\xe0y giao d\u1ecbch"},{value:"{TenHangHoa}",text:"D\u1ecbch v\u1ee5 h\u1eb9n"},{value:"{TenCuaHang}",text:"T\xean c\u1eeda h\xe0ng"},{value:"{SDTCuaHang}",text:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a h\xe0ng"}],smsLoaiTin:[{value:e.TIN_THUONG,text:"Tin th\u01b0\u1eddng"},{value:e.TIN_SINH_NHAT,text:"Tin sinh nh\u1eadt"},{value:e.TIN_LICH_HEN,text:"Tin l\u1ecbch h\u1eb9n"},{value:e.TIN_GIAO_DICH,text:"Tin giao d\u1ecbch"}],ListTrangThaiGuiTin:[{value:o.SUCCESS,text:"Th\xe0nh c\xf4ng"},{value:o.NOT_BALANCE,text:"Kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0"},{value:o.BRANDNAME_NOTEXIST,text:"Brandname kh\xf4ng t\u1ed3n t\u1ea1i"},{value:o.MESSAGE_NOT_VALID,text:"Tin nh\u1eafn kh\xf4ng h\u1ee3p l\u1ec7"},{value:o.ERROR_UNDEFINED,text:"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh"}],ListDateType:[{id:t.HOM_NAY,text:"H\xf4m nay"},{id:t.HOM_QUA,text:"H\xf4m qua"},{id:t.NGAY_MAI,text:"Ng\xe0y mai"},{id:t.TUAN_NAY,text:"Tu\u1ea7n n\xe0y"},{id:t.TUAN_TRUOC,text:"Tu\u1ea7n tr\u01b0\u1edbc"},{id:t.TUAN_TOI,text:"Tu\u1ea7n t\u1edbi"},{id:t.THANG_NAY,text:"Th\xe1ng n\xe0y"},{id:t.THANG_TRUOC,text:"Th\xe1ng tr\u01b0\u1edbc"},{id:t.THANG_TOI,text:"Th\xe1ng t\u1edbi"},{id:t.QUY_NAY,text:"Qu\xfd n\xe0y"},{id:t.QUY_TRUOC,text:"Qu\xfd tr\u01b0\u1edbc"},{id:t.NAM_NAY,text:"N\u0103m n\xe0y"},{id:t.NAM_TRUOC,text:"N\u0103m tr\u01b0\u1edbc"},{id:t.TAT_CA,text:"To\xe0n th\u1eddi gian"},{id:t.TUY_CHON,text:"T\xf9y ch\u1ec9nh"}],trangThaiCheckIn:[{value:1,name:"\u0110\u1eb7t l\u1ecbch"},{value:2,name:"\u0110\xe3 g\u1ecdi (nh\u1eafn tin) cho kh\xe1ch"},{value:3,name:"Check in"},{value:4,name:"Ho\xe0n th\xe0nh"},{value:0,name:"X\xf3a"}],hinhThucThanhToan:[{value:1,text:"Ti\u1ec1n m\u1eb7t"},{value:2,text:"Chuy\u1ec3n kho\u1ea3n"},{value:3,text:"Qu\u1eb9t th\u1ebb"}],hinhThucKhuyenMaiHoaDon:[{value:11,name:"Gi\u1ea3m gi\xe1 h\xf3a \u0111\u01a1n"},{value:12,name:"T\u1eb7ng h\xe0ng"},{value:13,name:"Gi\u1ea3m gi\xe1 h\xe0ng"},{value:14,name:"T\u1eb7ng \u0110i\u1ec3m"}],hinhThucKhuyenMaiHangHoa:[{value:21,name:"Mua h\xe0ng gi\u1ea3m gi\xe1 h\xe0ng"},{value:22,name:"Mua h\xe0ng t\u1eb7ng h\xe0ng"},{value:23,name:"Mua h\xe0ng gi\u1ea3m gi\xe1 theo s\u1ed1 l\u01b0\u1ee3ng mua"},{value:24,name:"Mua h\xe0ng t\u1eb7ng \u0111i\u1ec3m"}],loaiTinNhan:[{name:"Tin th\u01b0\u1eddng",value:1},{name:"Sinh nh\u1eadt",value:2},{name:"L\u1ecbch h\u1eb9n",value:3},{name:"\u0110\xe1nh gi\xe1",value:4}],loaiBooking:{online:0,offline:1,cuaHangBook:2},loaiKhuyenMai:{hangHoa:2,hoaDon:1},listColumnCustomer:{actions:!0,cuocHenGanNhat:!0,gioiTinh:!0,nhanVienPhuTrach:!0,soDienThoai:!0,tenKhachHang:!0,tenNguonKhach:!0,tenNhomKhach:!0,tongChiTieu:!0},emailRegex:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phoneRegex:/(84[1-9]|0[1-9])+([0-9]{8})\b/g,passwordRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{6,}$/,yyyyMMddHHmmRegex:/^\d{4}-[0-1][0-2]-[0-3]\d\s([0-1][0-9]|2[0-3]):[0-5]\d$/,dayOfWeek:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},lstMauInMacDinh:[{value:1,text:"M\u1eabu K80"},{value:2,text:"M\u1eabu A4"}]}},42922:(i,a,n)=>{n.r(a),n.d(a,{default:()=>k});var t=n(9019),e=n(61113),o=n(35898),h=n(24193),l=n(36350),s=n(26152),c=n(14668),d=n(10298),r=n(142),u=n(47313),T=n(43032),g=n(69551),x=n(94469),v=n(33604),p=n(9506),N=n(96467),m=n(24631),C=n(4117),M=n(7410),S=n(21933),y=n(80280),D=n(68186),A=n(48127),Z=n(85905),_=n(2538);class H{constructor(i){let{id:a=Z.i.EMPTY,idLoaiTin:n=1,idMauTin:t=null,noiDungTin:e="",nhacTruocKhoangThoiGian:o=0,loaiThoiGian:h=0,trangThai:l=1,caiDatNhacNhoChiTiets:s=[]}=i;this.id=void 0,this.idLoaiTin=void 0,this.idMauTin=void 0,this.noiDungTin=void 0,this.nhacTruocKhoangThoiGian=0,this.loaiThoiGian=0,this.trangThai=1,this.noiDungXemTruoc="",this.caiDatNhacNhoChiTiets=[],this.id=a,this.idLoaiTin=n,this.idMauTin=t,this.noiDungTin=e,this.nhacTruocKhoangThoiGian=o,this.loaiThoiGian=h,this.trangThai=l,this.caiDatNhacNhoChiTiets=s,this.noiDungXemTruoc=""}}var j=n(96219),f=n(89600);const I={idKhachHang:"",maKhachHang:"KH001",tenKhachHang:"Ch\u1ecb Mai H\u01b0\u01a1ng",soDienThoai:"0978005006",ngaySinh:new Date("1990-11-11"),bookingDate:new Date,thoiGianHen:"14:00 - 16:00",tenDichVu:"C\u1eaft t\xf3c",maHoaDon:"HD001",ngayLapHoaDon:new Date};const w=new class{constructor(){this.ReplaceBienSMS=i=>{var a,n,t;let e=i;return e=e.replace("{TenKhachHang}",null===I||void 0===I?void 0:I.tenKhachHang),e=e.replace("{NgaySinh}",(0,f.Z)(null===I||void 0===I?void 0:I.ngaySinh,"dd/MM/yyyy")),e=e.replace("{BookingDate}",(0,f.Z)(null===I||void 0===I?void 0:I.bookingDate,"dd/MM/yyyy")),e=e.replace("{ThoiGianHen}",null!==(a=null===I||void 0===I?void 0:I.thoiGianHen)&&void 0!==a?a:""),e=e.replace("{MaHoaDon}",null!==(n=null===I||void 0===I?void 0:I.maHoaDon)&&void 0!==n?n:""),e=e.replace("{NgayLapHoaDon}",(0,f.Z)(null===I||void 0===I?void 0:I.ngayLapHoaDon,"dd/MM/yyyy")),e=e.replace("{TenHangHoa}",null!==(t=null===I||void 0===I?void 0:I.tenDichVu)&&void 0!==t?t:""),e=e.replace("{TenCuaHang}","Nail salon HN"),e=e.replace("{SDTCuaHang}","0243.933.033"),e},this.GetAllCaiDatNhacNho=async()=>(await j.Z.get("api/services/app/CaiDatNhacNho/GetAllCaiDat")).data.result,this.GetInforCaiDatNhacNho_byId=async i=>(await j.Z.get("api/services/app/CaiDatNhacNho/GetInforCaiDatNhacNho_byId?idCaiDatNhacNho=".concat(i))).data.result,this.CreateCaiDatNhacNho=async i=>(await j.Z.post("api/services/app/CaiDatNhacNho/CreateCaiDatNhacNho",i)).data.result,this.UpdateCaiDatNhacNho=async i=>(await j.Z.post("api/services/app/CaiDatNhacNho/UpdateCaiDatNhacNho",i)).data.result,this.CaiDatNhacNho_UpdateTrangThai=async function(i){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(await j.Z.get("api/services/app/CaiDatNhacNho/CaiDatNhacNho_UpdateTrangThai?idCaiDatNhacNho=".concat(i,"&trangThai=").concat(a))).data.result},this.CreateOrUpdateCaiDatNhacNhoChiTiet=async(i,a)=>(await j.Z.post("api/services/app/CaiDatNhacNho/CreateOrUpdateCaiDatNhacNhoChiTiet?idCaiDatNhacNho=".concat(i),a)).data.result}};var b=n(20803),G=n(83567),O=n(46417);const U=i=>{let{visiable:a,onCancel:n,lstMauTinSMS:l,idLoaiTin:s,idSetup:c,onOK:d}=i;const[T,j]=(0,u.useState)(new H({id:"",trangThai:1,noiDungTin:""})),[f,I]=(0,u.useState)({show:!1,type:1,mes:""}),[U,E]=(0,u.useState)(!1),[k,L]=(0,u.useState)("");(0,u.useEffect)((()=>{if(a){if(y.Z.checkNull(c)||c===Z.i.EMPTY)switch(s){case g.u6.TIN_SINH_NHAT:case g.u6.TIN_GIAO_DICH:j(new H({loaiThoiGian:g.K4.SECOND,idLoaiTin:s}));break;case g.u6.TIN_LICH_HEN:j(new H({loaiThoiGian:g.K4.HOUR,idLoaiTin:s}))}else R(c);switch(s){case g.u6.TIN_SINH_NHAT:L("C\xe0i \u0111\u1eb7t ch\xfac m\u1eebng sinh nh\u1eadt");break;case g.u6.TIN_LICH_HEN:L("C\xe0i \u0111\u1eb7t nh\u1eafc nh\u1edf cu\u1ed9c h\u1eb9n");break;case g.u6.TIN_GIAO_DICH:L("C\xe0i \u0111\u1eb7t th\xf4ng b\xe1o giao d\u1ecbch")}}}),[a]);const R=async i=>{const a=await w.GetInforCaiDatNhacNho_byId(i);return null!=a&&j({id:i,idLoaiTin:s,idMauTin:a.idMauTin,nhacTruocKhoangThoiGian:a.nhacTruocKhoangThoiGian,loaiThoiGian:a.loaiThoiGian,noiDungTin:a.noiDungTin,trangThai:a.trangThai,noiDungXemTruoc:w.ReplaceBienSMS(a.noiDungTin)}),a},Y=S.Ry().shape({noiDungTin:S.Z_().required("Vui l\xf2ng nh\u1eadp n\u1ed9i dung tin")});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(D.Z,{showAlert:f.show,type:f.type,title:f.mes,handleClose:()=>I({show:!1,mes:"",type:1})}),(0,O.jsxs)(x.Z,{open:a,onClose:n,children:[(0,O.jsx)(v.Z,{children:(0,O.jsxs)(p.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,O.jsx)(e.Z,{className:"modal-title",children:k}),(0,O.jsx)(A.Z,{onClose:n})]})}),(0,O.jsx)(N.Z,{sx:{overflow:"hidden"},children:(0,O.jsx)(M.J9,{enableReinitialize:!0,initialValues:T,validationSchema:Y,onSubmit:async i=>{if(y.Z.checkNull(i.id)||i.id===Z.i.EMPTY){i.id=Z.i.EMPTY;const a=await w.CreateCaiDatNhacNho(i);i.id=a.id,d(i,g.LB.INSEART),I({...f,show:!0,mes:"Th\xeam m\u1edbi m\u1eabu tin th\xe0nh c\xf4ng"})}else await w.UpdateCaiDatNhacNho(i),d(i,g.LB.UPDATE),I({...f,show:!0,mes:"C\u1eadp nh\u1eadt m\u1eabu tin th\xe0nh c\xf4ng"})},children:i=>{var a;let{values:c,handleChange:d,errors:u,touched:T,isSubmitting:x,setFieldValue:v}=i;return(0,O.jsxs)(M.l0,{children:[(0,O.jsxs)(t.ZP,{container:!0,spacing:2,paddingTop:1,children:[(0,O.jsx)(t.ZP,{item:!0,xs:12,children:(0,O.jsxs)(o.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,O.jsx)(e.Z,{variant:"body2",children:"K\xedch ho\u1ea1t"}),(0,O.jsx)(r.k,{sx:{m:1},value:c.trangThai,checked:1==c.trangThai,onChange:()=>{const i=1==c.trangThai?0:1;v("trangThai",i)}})]})}),s===g.u6.TIN_LICH_HEN&&(0,O.jsx)(t.ZP,{item:!0,xs:12,children:(0,O.jsxs)(t.ZP,{container:!0,spacing:1,children:[(0,O.jsx)(t.ZP,{item:!0,xs:9,children:(0,O.jsx)(m.Z,{name:"nhacTruocKhoangThoiGian",label:"G\u1eedi tr\u01b0\u1edbc",value:null===c||void 0===c?void 0:c.nhacTruocKhoangThoiGian,onChange:d,size:"small",fullWidth:!0,helperText:T.nhacTruocKhoangThoiGian&&u.nhacTruocKhoangThoiGian&&(0,O.jsx)("span",{children:u.nhacTruocKhoangThoiGian})})}),(0,O.jsx)(t.ZP,{item:!0,xs:3,children:(0,O.jsx)(_.Z,{label:"Lo\u1ea1i th\u1eddi gian",data:g.ZP.ListTimeType,idChosed:c.loaiThoiGian,handleChange:i=>{v("loaiThoiGian",i.value)}})})]})}),(0,O.jsx)(t.ZP,{item:!0,xs:12,children:(0,O.jsx)(b.Z,{label:"M\u1eabu tin",idChosed:null===c||void 0===c?void 0:c.idMauTin,lstData:null===l||void 0===l?void 0:l.filter((i=>i.idLoaiTin===(null===c||void 0===c?void 0:c.idLoaiTin))).map((i=>({id:i.id,text1:i.tenMauTin,text2:i.noiDungTinMau}))),handleChoseItem:i=>{v("idMauTin",null===i||void 0===i?void 0:i.id),v("noiDungTin",null===i||void 0===i?void 0:i.text2)}})}),(0,O.jsx)(t.ZP,{item:!0,xs:12,children:(0,O.jsx)(m.Z,{name:"noiDungTin",multiline:!0,rows:3,label:"N\u1ed9i dung tin",value:null===c||void 0===c?void 0:c.noiDungTin,onChange:d,size:"small",fullWidth:!0,helperText:T.noiDungTin&&u.noiDungTin&&(0,O.jsx)("span",{children:u.noiDungTin})})}),(0,O.jsx)(t.ZP,{item:!0,xs:12,children:(0,O.jsxs)(p.Z,{sx:{position:"relative"},children:[(0,O.jsx)(h.Z,{variant:"contained",endIcon:(0,O.jsx)(G.Z,{}),onClick:()=>E(!U),children:"Ch\xe8n"}),(0,O.jsx)(p.Z,{sx:{display:U?"":"none",overflow:"auto",maxHeight:"180px",position:"absolute",borderRadius:"4px",border:"1px solid #cccc",minWidth:160,backgroundColor:"rgba(248,248,248,1)","& .MuiStack-root .MuiStack-root:hover":{backgroundColor:"#cccc"}},children:(0,O.jsx)(o.Z,{alignContent:"center",children:null===(a=g.ZP.DanhSachBienSMS)||void 0===a?void 0:a.map(((i,a)=>(0,O.jsx)(o.Z,{direction:"row",spacing:1,padding:"6px",onClick:()=>{var a;const n=null===(a=c.noiDungTin)||void 0===a?void 0:a.concat(i.value.toString());v("noiDungTin",n),v("noiDungXemTruoc",w.ReplaceBienSMS(n)),E(!1)},children:(0,O.jsx)(e.Z,{variant:"subtitle2",marginLeft:1,children:i.text})},a)))})})]})}),(0,O.jsx)(t.ZP,{item:!0,xs:12,children:(0,O.jsxs)(o.Z,{padding:2,spacing:2,sx:{border:"1px dashed #ccc"},alignItems:"center",children:[(0,O.jsx)(e.Z,{fontSize:16,fontWeight:600,color:"#525F7A",children:"Xem tr\u01b0\u1edbc tin nh\u1eafn"}),(0,O.jsx)(o.Z,{sx:{width:"100%",backgroundColor:"#EEF0F4",borderRadius:"4px",alignItems:"center"},children:(0,O.jsx)(e.Z,{fontSize:14,padding:1,children:null===c||void 0===c?void 0:c.noiDungXemTruoc})})]})})]}),(0,O.jsxs)(C.Z,{sx:{padding:"16px 0px 0px !important"},children:[(0,O.jsx)(h.Z,{onClick:n,variant:"outlined",sx:{fontSize:"14px",textTransform:"unset",color:"var(--color-main)"},className:"btn-outline-hover",children:"H\u1ee7y"}),x?(0,O.jsx)(h.Z,{variant:"contained",sx:{fontSize:"14px",textTransform:"unset",color:"#fff",border:"none"},className:"btn-container-hover",children:"\u0110ang l\u01b0u"}):(0,O.jsx)(h.Z,{type:"submit",variant:"contained",sx:{fontSize:"14px",textTransform:"unset",color:"#fff",border:"none"},className:"btn-container-hover",children:"L\u01b0u"})]})]})}})})]})]})};var E=n(19487);function k(i){let{aa:a}=i;const n=[{id:Z.i.EMPTY,text:"",value:0,trangThai:0},{id:Z.i.EMPTY,text:"Sms",value:1,trangThai:0},{id:Z.i.EMPTY,text:"Zalo",value:2,trangThai:0}],[x,v]=(0,u.useState)([{id:Z.i.EMPTY,type:g.u6.TIN_SINH_NHAT,icon:(0,O.jsx)(s.Z,{sx:{color:"#800AC7"}}),title:"Sinh nh\u1eadt",text:"G\u1eedi l\u1eddi ch\xfac m\u1eebng v\xe0o ng\xe0y sinh nh\u1eadt c\u1ee7a kh\xe1ch h\xe0ng",trangThai:0,listButton:n},{id:Z.i.EMPTY,type:g.u6.TIN_LICH_HEN,icon:(0,O.jsx)(l.Z,{sx:{color:"#FF7DA1",width:30,height:30}}),title:"Nh\u1eafc nh\u1edf cu\u1ed9c h\u1eb9n",text:"G\u1eedi \u0111\u1ec3 nh\u1eafc nh\u1edf kh\xe1ch h\xe0ng v\u1ec1 cu\u1ed9c h\u1eb9n s\u1eafp t\u1edbi",trangThai:0,listButton:n},{id:Z.i.EMPTY,type:g.u6.TIN_GIAO_DICH,icon:(0,O.jsx)(T.Z,{sx:{color:"#50CD89"}}),title:"Giao d\u1ecbch",text:"G\u1eedi th\xf4ng b\xe1o cho kh\xe1ch h\xe0ng sau khi th\u1ef1c hi\u1ec7n giao d\u1ecbch",trangThai:0,listButton:n}]),[p,N]=(0,u.useState)(!1),[m,C]=(0,u.useState)(0),[M,S]=(0,u.useState)(""),[y,A]=(0,u.useState)([]),[_,j]=(0,u.useState)({show:!1,type:1,mes:""});(0,u.useEffect)((()=>{(async()=>{const i=await E.Z.GetAllMauTinSMS();null!==i&&A(i)})(),(async()=>{const i=await w.GetAllCaiDatNhacNho();if(null!==i){const a=null===i||void 0===i?void 0:i.map((i=>i.idLoaiTin));v(x.map((n=>{if(a.includes(n.type)){const a=i.filter((i=>i.idLoaiTin==n.type));var t;return a.length>0?{...n,id:a[0].id,trangThai:a[0].trangThai,listButton:null===(t=n.listButton)||void 0===t?void 0:t.map((i=>{var n;const t=null===(n=a[0].caiDatNhacNhoChiTiets)||void 0===n?void 0:n.filter((a=>a.hinhThucGui==i.value));return void 0!==t&&(null===t||void 0===t?void 0:t.length)>0?{...i,id:t[0].id,trangThai:t[0].trangThai}:i}))}:n}return n})))}})()}),[]);const f=async function(i){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i.id===Z.i.EMPTY){const n=new H({id:Z.i.EMPTY,idLoaiTin:i.type,idMauTin:null,noiDungTin:"",nhacTruocKhoangThoiGian:0,loaiThoiGian:0,trangThai:a});return await w.CreateCaiDatNhacNho(n)}return await w.CaiDatNhacNho_UpdateTrangThai(i.id,a)};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(U,{visiable:p,onCancel:()=>N(!1),lstMauTinSMS:y,idLoaiTin:m,idSetup:M,onOK:(i,a)=>{v(null===x||void 0===x?void 0:x.map((a=>a.type===i.idLoaiTin?{...a,id:i.id,trangThai:i.trangThai}:a))),N(!1)}}),(0,O.jsx)(D.Z,{showAlert:_.show,type:_.type,title:_.mes,handleClose:()=>j({show:!1,mes:"",type:1})}),(0,O.jsxs)(t.ZP,{container:!0,spacing:3,paddingTop:2,children:[(0,O.jsx)(t.ZP,{item:!0,xs:12,children:(0,O.jsx)(e.Z,{fontSize:18,fontWeight:600,children:"Tin nh\u1eafn t\u1ef1 \u0111\u1ed9ng"})}),null===x||void 0===x?void 0:x.map(((i,a)=>{var n;return(0,O.jsx)(t.ZP,{item:!0,xs:4,children:(0,O.jsxs)(o.Z,{spacing:4,padding:"20px 24px",sx:{border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"white"},children:[(0,O.jsxs)(o.Z,{spacing:1.5,children:[(0,O.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",children:[(0,O.jsxs)(o.Z,{spacing:1,direction:"row",alignItems:"center",children:[i.icon,(0,O.jsx)(e.Z,{fontWeight:600,fontSize:16,onClick:()=>(i=>{N(!0),C(i.type),S(i.id)})(i),children:null===i||void 0===i?void 0:i.title})]}),(0,O.jsx)(r.k,{sx:{m:1},value:null===i||void 0===i?void 0:i.trangThai,checked:1==(null===i||void 0===i?void 0:i.trangThai),onChange:a=>(async(i,a)=>{const n=a.target.checked?1:0,t=await f(i,n);j({..._,show:!0,mes:"B\u1ea1n v\u1eeba ".concat(1==n?"k\xedch ho\u1ea1t":"t\u1eaft"," t\u1ef1 \u0111\u1ed9ng g\u1eedi tin cho ").concat(i.title)});const e=t.id,o=[];if(void 0!=i.listButton){for(let a=0;a<(null===(h=i.listButton)||void 0===h?void 0:h.length);a++){var h;const t=i.listButton[a];if(0!==t.value){const i={id:t.id,idCaiDatNhacTuDong:e,hinhThucGui:t.value,trangThai:n},a=await w.CreateOrUpdateCaiDatNhacNhoChiTiet(e,i);o.push(a)}}v(null===x||void 0===x?void 0:x.map((a=>{var t;return a.type===i.type?{...a,id:e,trangThai:n,listButton:null===(t=a.listButton)||void 0===t?void 0:t.map((i=>{const a=o.filter((a=>a.hinhThucGui==i.value));return a.length>0?{...i,id:a[0].id,trangThai:n}:i}))}:a})))}})(i,a)})]}),(0,O.jsxs)(e.Z,{fontSize:14,children:[" ",null===i||void 0===i?void 0:i.text]})]}),(0,O.jsx)(o.Z,{direction:"row",spacing:1,justifyContent:"end",alignItems:"center",children:null===(n=i.listButton)||void 0===n?void 0:n.map(((a,n)=>(0,O.jsx)("div",{children:""==(null===a||void 0===a?void 0:a.text)?(0,O.jsx)("div",{}):(0,O.jsx)(h.Z,{variant:"outlined",onClick:()=>async function(i,a){const n=0==(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)?1:0;let t=i.id;if(t===Z.i.EMPTY){const a=await f(i,i.trangThai);t=a.id}const e={id:a.id,idCaiDatNhacTuDong:t,hinhThucGui:a.value,trangThai:n},o=await w.CreateOrUpdateCaiDatNhacNhoChiTiet(t,e);v(null===x||void 0===x?void 0:x.map((e=>{var h;return e.type===i.type?{...e,id:t,listButton:null===(h=e.listButton)||void 0===h?void 0:h.map((i=>i.value===a.value?{...i,id:o.id,trangThai:n}:i))}:e}))),j({..._,show:!0,mes:"B\u1ea1n v\u1eeba ".concat(1==n?"b\u1eadt":"t\u1eaft","  ").concat(a.text," cho ").concat(i.title)})}(i,a,null===a||void 0===a?void 0:a.trangThai),startIcon:1==(null===a||void 0===a?void 0:a.trangThai)?(0,O.jsx)(c.Z,{sx:{color:"#50CD89"}}):(0,O.jsx)(d.Z,{sx:{color:"red"}}),sx:{color:"black",borderColor:"#ccc"},children:a.text})},n)))})]})},a)}))]})]})}},19487:(i,a,n)=>{n.d(a,{Z:()=>e});var t=n(96219);const e=new class{constructor(){this.GetAllMauTinSMS=async()=>(await t.Z.get("api/services/app/MauTinSMS/GetAllMauTinSMS")).data.result,this.GetAllMauTinSMS_GroupLoaiTin=async()=>(await t.Z.get("api/services/app/MauTinSMS/GetAllMauTinSMS_GroupLoaiTin")).data.result,this.CreateMauTinSMS=async i=>(await t.Z.post("api/services/app/MauTinSMS/CreateMauTinSMS",i)).data.result,this.UpdateMauTinSMS=async i=>(await t.Z.post("api/services/app/MauTinSMS/UpdateMauTinSMS",i)).data.result}}}}]);