"use strict";(self.webpackChunklayout_jsx=self.webpackChunklayout_jsx||[]).push([[5611],{9331:(e,n,t)=>{t.d(n,{Z:()=>a});t(47313);const a=t.p+"static/media/add-logo.6d9cac4f063d6a7a327f09226028aaac.svg"},30185:(e,n,t)=>{t.d(n,{r:()=>r});var a,i=t(47313);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o.apply(this,arguments)}function l(e,n){let{title:t,titleId:l,...r}=e;return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":l},r),t?i.createElement("title",{id:l},t):null,a||(a=i.createElement("path",{d:"M5.24984 10.8666L0.849837 6.46656C0.783171 6.39989 0.735837 6.32767 0.707837 6.24989C0.680282 6.17211 0.666504 6.08878 0.666504 5.99989C0.666504 5.911 0.680282 5.82767 0.707837 5.74989C0.735837 5.67211 0.783171 5.59989 0.849837 5.53323L5.24984 1.13323C5.37206 1.011 5.52473 0.947003 5.70784 0.941226C5.89139 0.935892 6.04984 0.999892 6.18317 1.13323C6.3165 1.25545 6.38606 1.40811 6.39184 1.59123C6.39717 1.77478 6.33317 1.93323 6.19984 2.06656L2.93317 5.33323H10.3832C10.5721 5.33323 10.7305 5.397 10.8585 5.52456C10.9861 5.65256 11.0498 5.811 11.0498 5.99989C11.0498 6.18878 10.9861 6.347 10.8585 6.47456C10.7305 6.60256 10.5721 6.66656 10.3832 6.66656H2.93317L6.19984 9.93323C6.32206 10.0554 6.38606 10.211 6.39184 10.3999C6.39717 10.5888 6.33317 10.7443 6.19984 10.8666C6.07762 10.9999 5.92206 11.0666 5.73317 11.0666C5.54428 11.0666 5.38317 10.9999 5.24984 10.8666Z",fill:"#3B4758"})))}const r=i.forwardRef(l);t.p},64247:(e,n,t)=>{t.d(n,{Z:()=>s,r:()=>h});var a,i,o,l=t(47313);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},r.apply(this,arguments)}function d(e,n){let{title:t,titleId:d,...h}=e;return l.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":d},h),t?l.createElement("title",{id:d},t):null,a||(a=l.createElement("path",{d:"M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=l.createElement("path",{d:"M11.3333 5.33301L8.00001 1.99967L4.66668 5.33301",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=l.createElement("path",{d:"M8 2L8 10",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const h=l.forwardRef(d),s=t.p+"static/media/upload.66c1c8a63dcade851b73fbd88865202c.svg"},72517:(e,n,t)=>{t.d(n,{Z:()=>h});var a=t(47313),i=t(48623),o=t(24631),l=t(9019),r=t(61113),d=t(46417);function h(e){let{handleChoseItem:n,idChosed:t,dataChiNhanh:h,label:s}=e;const[c,x]=(0,a.useState)(null);a.useEffect((()=>{const e=null===h||void 0===h?void 0:h.filter((e=>e.id==t));e.length>0?x(e[0]):x(null)}),[t]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.Z,{size:"small",fullWidth:!0,disablePortal:!0,autoComplete:!0,multiple:!1,value:c,onChange:(e,t)=>{n(t)},filterOptions:e=>e,isOptionEqualToValue:(e,n)=>e.id===n.id,options:h,getOptionLabel:e=>e.tenChiNhanh?e.tenChiNhanh:"",renderInput:e=>(0,d.jsx)(o.Z,{...e,label:null!==s&&void 0!==s?s:"T\xecm ki\u1ebfm"}),renderOption:(e,n)=>(0,d.jsx)("li",{...e,children:(0,d.jsx)(l.ZP,{container:!0,alignItems:"center",children:(0,d.jsx)(l.ZP,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:(0,d.jsx)(r.Z,{style:{fontSize:"14px"},children:n.tenChiNhanh})})})})})})}},61200:(e,n,t)=>{t.d(n,{Z:()=>I});var a=t(25002),i=t(9019),o=t(9506),l=t(24193),r=t(23208),d=t(36296),h=t(35200),s=t(64352),c=t(57779),x=t(47313),u=t(69551),g=t(89600),p=t(6021),m=t(56148),v=t(85825),f=t(99004),Z=t(59376),j=t(34605),C=t(41156),w=t(98589),y=t(54497),b=t(1603),T=t(90949),N=t(9519),D=t(26537),H=t(1711),F=t(52028),S=t(95352),k=t(80280),P=t(46417);function A(e){let{defaultVal:n,handleChangeDate:t,disable:a=!1}=e;const i=new Date,[o,l]=(0,x.useState)(new Date((0,g.Z)(i,"yyyy-MM-01")));return(0,x.useEffect)((()=>{k.Z.checkNull(n)?l(null):l(new Date(n))}),[n]),(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(r._,{dateAdapter:s.H,adapterLocale:F.Z,localeText:d.I.components.MuiLocalizationProvider.defaultProps.localeText,children:(0,P.jsx)(S.W,{value:o,sx:{width:"240px","& .MuiPickersCalendarHeader-label":{fontSize:"13px"},"& .MuiPickersDay-root":{width:"32px",height:"32px"}},onChange:e=>{var n;n=e,"Invalid Date"!==new Date(n).toString()&&(t((0,g.Z)(new Date(n),"yyyy-MM-dd")),l(n))},disabled:a,dayOfWeekFormatter:e=>k.Z.Mui_GetDayOfWeekFormatter(e)})})})}function M(e){let{defaultVal:n,handleChangeDate:t,label:a,disabled:i}=e;const o=new Date,[l,u]=(0,x.useState)(new Date((0,g.Z)(o,"yyyy-MM-01")));return(0,x.useEffect)((()=>{k.Z.checkNull(n)?u(null):u(new Date(n))}),[n]),(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(r._,{dateAdapter:s.H,adapterLocale:F.Z,localeText:d.I.components.MuiLocalizationProvider.defaultProps.localeText,children:(0,P.jsx)(h.N,{label:null!==a&&void 0!==a?a:"",value:l,disabled:null!==i&&void 0!==i&&i,onChange:e=>(e=>{"Invalid Date"!==new Date(e).toString()&&(t((0,g.Z)(new Date(e),"yyyy-MM-dd")),u(e))})(e),slotProps:{textField:{size:"small",fullWidth:!0,InputProps:{startAdornment:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(c.r,{style:{marginRight:"8px"}})})}}}})})})}function I(e){let{id:n,open:t,anchorEl:r,onClose:d,onApplyDate:h,isFuture:s=0,dateTypeDefault:c}=e;const F=new Date,[S,k]=(0,x.useState)("Th\xe1ng n\xe0y"),[I,W]=(0,x.useState)(u.Uv.THANG_NAY),[O,L]=(0,x.useState)(!0),[U,E]=(0,x.useState)((0,p.Z)(new Date(F))),[_,z]=(0,x.useState)((0,m.Z)(new Date(F))),R=s?u.ZP.ListDateType.filter((e=>![u.Uv.HOM_QUA,u.Uv.TUAN_TRUOC,u.Uv.THANG_TRUOC,u.Uv.QUY_TRUOC,u.Uv.NAM_TRUOC].includes(e.id))):u.ZP.ListDateType.filter((e=>![u.Uv.NGAY_MAI,u.Uv.TUAN_NAY,u.Uv.TUAN_TRUOC,u.Uv.TUAN_TOI,u.Uv.THANG_TOI].includes(e.id)));(0,x.useEffect)((()=>{void 0!==c&&W(c)}),[c]);const B=e=>{E(new Date(e))},V=e=>{z(new Date(e))};return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(a.ZP,{id:null!==n&&void 0!==n?n:"popover-date-filter",open:t,anchorEl:r,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,P.jsx)("div",{style:{width:"690px"},children:(0,P.jsxs)(i.ZP,{container:!0,spacing:2,padding:"16px",children:[(0,P.jsx)(i.ZP,{item:!0,xs:3,children:(0,P.jsx)(o.Z,{display:"flex",flexDirection:"column",borderRight:"1px solid #EEF0F4",children:R.map((e=>(0,P.jsx)(l.Z,{fullWidth:!0,sx:{justifyContent:"left",color:"#525F7A",backgroundColor:e.id==I?"var(--color-bg)":""},onClick:()=>{(async e=>{switch(W(e.id),k(e.text),L(!0),e.id){case u.Uv.HOM_NAY:E(F),z(F);break;case u.Uv.HOM_QUA:{const e=(0,v.Z)(F,1);E(e),z(e)}break;case u.Uv.NGAY_MAI:{const e=(0,f.Z)(F,1);E(e),z(e)}break;case u.Uv.TUAN_NAY:E((0,Z.Z)(F,{weekStartsOn:1})),z((0,j.Z)(F,{weekStartsOn:1}));break;case u.Uv.TUAN_TRUOC:{const e=(0,v.Z)(F,7);E((0,Z.Z)(e,{weekStartsOn:1})),z((0,j.Z)(e,{weekStartsOn:1}))}break;case u.Uv.TUAN_TOI:{const e=(0,f.Z)(F,7);E((0,Z.Z)(e,{weekStartsOn:1})),z((0,j.Z)(e,{weekStartsOn:1}))}break;case u.Uv.THANG_NAY:E((0,C.Z)(F)),z((0,w.Z)(F));break;case u.Uv.THANG_TRUOC:{const e=(0,v.Z)((0,C.Z)(F),1);E((0,C.Z)(e)),z((0,w.Z)(e))}break;case u.Uv.THANG_TOI:{const e=(0,f.Z)((0,C.Z)(F),1);E((0,C.Z)(e)),z((0,w.Z)(e))}break;case u.Uv.QUY_NAY:E((0,y.Z)(F)),z((0,b.Z)(F));break;case u.Uv.QUY_TRUOC:{const e=(0,T.Z)(F,1);E((0,C.Z)(e)),z((0,w.Z)(e))}break;case u.Uv.NAM_NAY:E((0,N.Z)(F)),z((0,D.Z)(F));break;case u.Uv.NAM_TRUOC:{const e=(0,H.Z)(F,1);E((0,N.Z)(e)),z((0,D.Z)(e))}break;case u.Uv.TAT_CA:{const e=new Date("2023-01-01");E(e),z((0,m.Z)(F))}break;case u.Uv.TUY_CHON:L(!1)}})(e)},children:e.text},e.id)))})}),(0,P.jsx)(i.ZP,{item:!0,xs:9,children:(0,P.jsxs)(i.ZP,{item:!0,container:!0,spacing:2,children:[(0,P.jsxs)(i.ZP,{item:!0,xs:6,children:[(0,P.jsx)(M,{disabled:O,defaultVal:U,handleChangeDate:B}),(0,P.jsx)(A,{defaultVal:U,handleChangeDate:B,disable:O})]}),(0,P.jsxs)(i.ZP,{item:!0,xs:6,children:[(0,P.jsx)(M,{disabled:O,defaultVal:_,handleChangeDate:V}),(0,P.jsx)(A,{defaultVal:_,handleChangeDate:V,disable:O})]}),(0,P.jsxs)(i.ZP,{item:!0,xs:12,display:"flex",justifyContent:"end",gap:"8px",alignItems:"end",paddingTop:"22px !important",borderTop:"1px solid #EEF0F4",children:[(0,P.jsx)(l.Z,{variant:"outlined",sx:{color:"#525F7A",border:"1px solid #C2C9D6"},onClick:d,children:"H\u1ee7y"}),(0,P.jsx)(l.Z,{variant:"contained",onClick:async()=>{if(null!=U&&null!=_){const e=(0,g.Z)(U,"yyyy-MM-dd"),n=(0,g.Z)(_,"yyyy-MM-dd");h(e,n,I,S)}},children:"\xc1p d\u1ee5ng"})]})]})})]})})})})}},15611:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ce});var a,i=t(47313),o=t(9506),l=t(9019),r=t(24631),d=t(47131),h=t(35898),s=t(24193),c=t(38247),x=t(55233),u=t(35045),g=t(40225);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},p.apply(this,arguments)}function m(e,n){let{title:t,titleId:o,...l}=e;return i.createElement("svg",p({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},l),t?i.createElement("title",{id:o},t):null,a||(a=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04345 2C2.46738 2 2 2.47524 2 3.06027V3.6843C2 4.11765 2.16479 4.53439 2.45957 4.84785L5.69007 8.28288L5.69149 8.28072C6.31514 8.91919 6.66604 9.78228 6.66604 10.6822V13.7301C6.66604 13.9338 6.87913 14.0638 7.056 13.9677L8.8957 12.9653C9.17343 12.8136 9.34675 12.5189 9.34675 12.1989V10.6743C9.34675 9.77939 9.69267 8.91991 10.3106 8.28288L13.5411 4.84785C13.8352 4.53439 14 4.11765 14 3.6843V3.06027C14 2.47524 13.5333 2 12.9573 2H3.04345Z",stroke:"#FFFAFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const v=i.forwardRef(m);t.p;var f=t(64247),Z=t(33859),j=t(46734),C=t(94469),w=t(61113),y=t(5297),b=t(65280),T=t(27458),N=t(6396),D=t(13827),H=t(9331),F=t(50324),S=t(46417);function k(e){let{hoadon:n,chitietHoaDon:t}=e;const a=[{field:"tenHangHoa",headerName:"T\xean d\u1ecbch v\u1ee5",flex:2,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.value})},{field:"soLuong",headerName:"S\u1ed1 l\u01b0\u1ee3ng",headerAlign:"center",align:"center",minWidth:80,flex:.8,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:new Intl.NumberFormat("vi-VN").format(e.value),children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"donGiaTruocCK",headerName:"\u0110\u01a1n gi\xe1",headerAlign:"right",align:"right",minWidth:90,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsxs)(o.Z,{title:new Intl.NumberFormat("vi-VN").format(e.value),children:[" ",new Intl.NumberFormat("vi-VN").format(e.value)]})},{field:"tienChietKhau",headerName:"Chi\u1ebft kh\u1ea5u",headerAlign:"right",align:"right",minWidth:100,flex:.8,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:new Intl.NumberFormat("vi-VN").format(e.value),children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"thanhTienSauCK",headerName:"Th\xe0nh ti\u1ec1n",headerAlign:"right",align:"right",minWidth:100,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:new Intl.NumberFormat("vi-VN").format(e.value),children:new Intl.NumberFormat("vi-VN").format(e.value)})}];return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,S.jsx)(l.ZP,{item:!0,xs:9,children:(0,S.jsx)(g._$,{disableRowSelectionOnClick:!0,autoHeight:!0,rowHeight:46,columns:a,rows:t,localeText:Z.g})}),(0,S.jsx)(l.ZP,{item:!0,xs:3,children:(0,S.jsxs)(o.Z,{sx:{padding:"24px",bgcolor:"#fff",boxShadow:"0px 4px 20px 0px #AAA9B81A",borderRadius:"12px"},children:[(0,S.jsx)(w.Z,{variant:"h2",fontSize:"16px",fontWeight:"700",color:"#3B4758",mb:"36px",children:"Chi ti\u1ebft thanh to\xe1n"}),(0,S.jsxs)(l.ZP,{container:!0,alignItems:"center",rowGap:"24px",sx:{"& .MuiGrid-item:nth-of-typ(even) .MuiTypography-root":{textAlign:"right"}},children:[(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsxs)(w.Z,{color:"#3B4758",variant:"h3",fontSize:"14px",fontWeight:"400",children:["T\u1ed5ng ti\u1ec1n h\xe0ng"," "]})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(w.Z,{variant:"body1",fontSize:"14px",fontWeight:"700",color:"#3B4758",children:new Intl.NumberFormat("vi-VN").format(null===n||void 0===n?void 0:n.tongTienHang)})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsxs)(w.Z,{color:"#3B4758",variant:"h3",fontSize:"14px",fontWeight:"400",children:["Gi\u1ea3m h\xf3a \u0111\u01a1n"," "]})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(w.Z,{variant:"body1",fontSize:"14px",fontWeight:"700",color:"#3B4758",children:new Intl.NumberFormat("vi-VN").format(null===n||void 0===n?void 0:n.tongGiamGiaHD)})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsxs)(w.Z,{color:"#3B4758",variant:"h3",fontSize:"14px",fontWeight:"400",children:["T\u1ed5ng thanh to\xe1n"," "]})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(w.Z,{variant:"body1",fontSize:"14px",fontWeight:"700",color:"#3B4758",children:new Intl.NumberFormat("vi-VN").format(null===n||void 0===n?void 0:n.tongThanhToan)})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsxs)(w.Z,{color:"#3B4758",variant:"h3",fontSize:"14px",fontWeight:"400",children:["Kh\xe1ch \u0111\xe3 tr\u1ea3"," "]})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(w.Z,{variant:"body1",fontSize:"14px",fontWeight:"700",color:"#3B4758",children:new Intl.NumberFormat("vi-VN").format(null===n||void 0===n?void 0:n.daThanhToan)})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,marginTop:"28px",children:(0,S.jsx)(w.Z,{color:"#3B4758",variant:"h3",fontSize:"18px",fontWeight:"700",children:"C\xf2n n\u1ee3"})}),(0,S.jsx)(l.ZP,{item:!0,xs:6,marginTop:"28px",children:(0,S.jsx)(w.Z,{variant:"body1",fontSize:"18px",fontWeight:"700",color:"#3B4758",children:new Intl.NumberFormat("vi-VN").format(null===n||void 0===n?void 0:n.conNo)})})]})]})})]})})}var P=t(89600),A=t(82739),M=t(80280);function I(e){let{idHoaDon:n}=e;const[t,a]=(0,i.useState)([]);(0,i.useEffect)((()=>{M.Z.checkNull(n)||(async()=>{const e=await A.Z.GetNhatKyThanhToan_ofHoaDon(n);a(e)})()}),[n]);const l=[{field:"maHoaDon",headerName:"M\xe3 phi\u1ebfu",minWidth:120,flex:.6,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{component:"span",children:e.value})},{field:"ngayLapHoaDon",headerName:"Ng\xe0y l\u1eadp phi\u1ebfu",headerAlign:"center",minWidth:120,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{textAlign:"center",width:"100%",children:(0,P.Z)(new Date(e.value),"dd/MM/yyyy HH:mm")})},{field:"sLoaiPhieu",headerName:"Lo\u1ea1i thu/chi",minWidth:90,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{width:"100%",children:e.value})},{field:"sHinhThucThanhToan",headerName:"Ph\u01b0\u01a1ng th\u1ee9c",minWidth:100,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{width:"100%",children:e.value})},{field:"tongTienThu",headerName:"Ti\u1ec1n thu",headerAlign:"right",minWidth:100,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{width:"100%",children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{textAlign:"right",width:"100%",children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"sTrangThai",headerName:"Tr\u1ea1ng th\xe1i",headerAlign:"center",minWidth:100,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{margin:"auto",sx:{padding:"4px",borderRadius:"100px",color:1===e.row.trangThai?"#50CD89":0===e.row.trangThai?"#FF9900":"#F1416C",bgcolor:1===e.row.trangThai?"#E8FFF3":0===e.row.trangThai?"#FFF8DD":"#FFF5F8"},children:e.value})}];return(0,S.jsx)(o.Z,{children:(0,S.jsx)(g._$,{disableRowSelectionOnClick:!0,autoHeight:!0,hideFooter:!0,rowHeight:46,columns:l,rows:t,localeText:Z.g})})}var W,O,L=t(30185);function U(){return U=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},U.apply(this,arguments)}function E(e,n){let{title:t,titleId:a,...o}=e;return i.createElement("svg",U({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},o),t?i.createElement("title",{id:a},t):null,W||(W=i.createElement("rect",{width:24,height:24,rx:12,fill:"#FBBF24"})),O||(O=i.createElement("path",{d:"M8.63365 15H15.3694C15.8402 15 16.1437 14.5882 15.9307 14.24L12.5628 9.28896C12.3306 8.90368 11.666 8.90368 11.4338 9.28896L8.06594 14.24C7.85934 14.5874 8.16285 15 8.63365 15ZM12.5299 13.8487C12.5299 14.1058 12.3041 14.3038 11.9814 14.3038C11.6587 14.3038 11.4329 14.1058 11.4329 13.8487V13.8381C11.4329 13.581 11.6587 13.383 11.9814 13.383C12.3041 13.383 12.5299 13.581 12.5299 13.8381V13.8487ZM11.6852 10.504H12.3178C12.4915 10.504 12.5948 10.6268 12.5756 10.7823L12.2977 12.7945C12.2785 12.9393 12.1624 13.0296 12.0006 13.0296C11.8397 13.0296 11.7227 12.9386 11.7035 12.7945L11.4256 10.7823C11.4082 10.6268 11.5115 10.504 11.6852 10.504Z",fill:"white"})))}const _=i.forwardRef(E);t.p;var z=t(26417);const R=e=>{let{open:n,onClose:t,onOK:a}=e;return(0,S.jsx)(C.Z,{open:n,onClose:t,children:(0,S.jsxs)(o.Z,{sx:{borderRadius:"12px",bgcolor:"#fff",maxWidth:"500px",padding:"24px",position:"relative"},children:[(0,S.jsx)(s.Z,{onClick:t,sx:{padding:"0",position:"absolute",right:"16px",top:"16px",minWidth:"unset"},children:(0,S.jsx)(z.r,{})}),(0,S.jsx)(w.Z,{variant:"h3",color:"#333233",fontWeight:"700",fontSize:"24px",children:"H\u1ee7y h\xf3a \u0111\u01a1n ?"}),(0,S.jsx)(w.Z,{variant:"body1",fontSize:"14px",color:"#666466",marginY:"24px",children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn h\u1ee7y h\xf3a \u0111\u01a1n n\xe0y kh\xf4ng? Sau khi H\u1ee7y, th\xf4ng tin h\xf3a \u0111\u01a1n c\u1ee7a b\u1ea1n s\u1ebd b\u1ecb x\xf3a v\u0129nh vi\u1ec5n. B\u1ea1n kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c l\u1ea1i ."}),(0,S.jsxs)(o.Z,{sx:{display:"flex",borderLeft:"6px solid #FF9900",padding:"24px",bgcolor:"#FFF8DD",borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px"},children:[(0,S.jsx)(o.Z,{pr:"24px",children:(0,S.jsx)(_,{width:"31px",height:"31px"})}),(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(w.Z,{variant:"h4",fontSize:"16px",fontWeight:"700",color:"#9D5425",children:"Cu\u1ed9c h\u1eb9n s\u1ebd b\u1ecb h\u1ee7y"}),(0,S.jsxs)(w.Z,{variant:"body1",fontSize:"16px",color:"#D0915C",mt:"8px",children:["Trong tr\u01b0\u1eddng h\u1ee3p c\xf3 h\u1eb9n, cu\u1ed9c h\u1eb9n s\u1ebd b\u1ecb \u0111\xe1nh d\u1ea5u l\xe0"," ",(0,S.jsx)("span",{style:{color:"#F1416C"},children:"H\u1ee7y"})]})]})]}),(0,S.jsxs)(o.Z,{sx:{display:"flex",borderLeft:"6px solid #FF9900",padding:"24px",bgcolor:"#FFF8DD",borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px",mt:"24px"},children:[(0,S.jsx)(o.Z,{pr:"24px",children:(0,S.jsx)(_,{width:"31px",height:"31px"})}),(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(w.Z,{variant:"h4",fontSize:"16px",fontWeight:"700",color:"#9D5425",children:"Ho\xe0n t\xe1c c\xe1c d\u1eef li\u1ec7u li\xean quan"}),(0,S.jsx)(w.Z,{variant:"body1",fontSize:"16px",color:"#D0915C",mt:"8px",children:"T\u1ea5t c\u1ea3 d\u1ecbch v\u1ee5, g\xf3i, s\u1ea3n ph\u1ea9m, th\u1ebb qu\xe0 t\u1eb7ng, t\u01b0 c\xe1ch th\xe0nh vi\xean, h\xe0ng t\u1ed3n kho s\u1ebd \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt l\u1ea1i v\xe0 t\u1ea5t c\u1ea3 c\xe1c giao d\u1ecbch s\u1ebd b\u1ecb ho\xe0n t\xe1c."})]})]}),(0,S.jsxs)(o.Z,{display:"flex",gap:"8px",marginTop:"40px",justifyContent:"end",children:[(0,S.jsx)(s.Z,{onClick:a,variant:"contained",sx:{bgcolor:"#F1416C","&:hover":{bgcolor:"red"}},children:"\u0110\u1ed3ng \xfd"}),(0,S.jsx)(s.Z,{onClick:t,variant:"outlined",sx:{borderColor:"#E6E1E6",color:"#666466!important"},className:"btn-outline-hover",children:"Hu\u1ef7"})]})]})})};var B=t(71294),V=t(44008),G=t(4031),K=t(2447),Y=t(72517),Q=t(21132),X=t(54725),q=t(68186),$=t(32210),J=t(70894),ee=t(12757),ne=t(13882);const te=(0,T.Z)({components:{MuiOutlinedInput:{styleOverrides:{root:{borderRadius:"8px"}}}}}),ae=e=>{var n;let{idHoaDon:t,hoadon:a,handleGotoBack:h,open:c,listMauIn:x}=e;const[u,g]=(0,i.useState)(!1),[p,m]=(0,i.useState)({show:!1,type:1,mes:""}),[v,f]=(0,i.useState)(!1),Z=(0,i.useContext)(K.Il),[j,T]=(0,i.useState)(new V.Z({id:""})),[P,W]=(0,i.useState)([]),[O,U]=(0,i.useState)(!1),[E,_]=(0,i.useState)(""),[ae,ie]=(0,i.useState)(0),oe=(0,i.useContext)(K.Fy);(0,i.useEffect)((()=>{(async()=>{if(!M.Z.checkNull(t)){const e=await B.Z.GetChiTietHoaDon_byIdHoaDon(t);W(e)}})(),T(a),ie(0)}),[t]);const le=()=>{h(j,ae)},[re,de]=(0,i.useState)(0),he=e=>{let{children:n,value:t,index:a}=e;return(0,S.jsx)(o.Z,{role:"tabpanel",hidden:t!==a,children:t===a&&(0,S.jsx)(o.Z,{children:n})})};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C.Z,{open:v,onClose:()=>f(!1),maxWidth:"md",children:(0,S.jsx)($.Z,{formType:0,toggleDetail:()=>f(!1),tongTienHang:null===j||void 0===j?void 0:j.tongTienHang,dataHoaDonAfterSave:j,onClickThanhToan:function(){var e,n;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;m({...p,show:!0,mes:"Thanh to\xe1n h\xf3a \u0111\u01a1n th\xe0nh c\xf4ng"}),f(!1),ie(1),T({...j,daThanhToan:(null!==(e=null===j||void 0===j?void 0:j.daThanhToan)&&void 0!==e?e:0)+t,conNo:(null!==(n=null===j||void 0===j?void 0:j.conNo)&&void 0!==n?n:0)-t})}})}),(0,S.jsxs)(C.Z,{open:c,onClose:le,maxWidth:"xl",fullWidth:!0,children:[(0,S.jsx)(q.Z,{showAlert:p.show,type:p.type,title:p.mes,handleClose:()=>m({show:!1,mes:"",type:1})}),(0,S.jsx)(Q.Z,{formType:0,isShow:O,hoadonChiTiet:""===E?P:P.filter((e=>e.id===E)),handleSave:async e=>{var n,t;ie(1),U(!1),m({...p,show:!0,mes:"C\u1eadp nh\u1eadt chi ti\u1ebft h\xf3a \u0111\u01a1n th\xe0nh c\xf4ng"}),W([...e]);let i=0,o=0,l=0,r=0,d=0,h=0;for(let a=0;a<e.length;a++){var s,c,x,u,g,v,f;const n=e[a];i+=null!==(s=null===n||void 0===n?void 0:n.thanhTienTruocCK)&&void 0!==s?s:0,o+=(null!==(c=null===n||void 0===n?void 0:n.soLuong)&&void 0!==c?c:0)*(null!==(x=null===n||void 0===n?void 0:n.tienChietKhau)&&void 0!==x?x:0),l+=null!==(u=null===n||void 0===n?void 0:n.thanhTienSauCK)&&void 0!==u?u:0,r+=(null!==(g=null===n||void 0===n?void 0:n.soLuong)&&void 0!==g?g:0)*(null!==(v=null===n||void 0===n?void 0:n.tienThue)&&void 0!==v?v:0),d+=null!==(f=null===n||void 0===n?void 0:n.thanhTienSauVAT)&&void 0!==f?f:0}h=d-(null!==(n=null===a||void 0===a?void 0:a.tongGiamGiaHD)&&void 0!==n?n:0);const Z={...j};Z.tongTienHangChuaChietKhau=i,Z.tongChietKhauHangHoa=o,Z.tongTienHang=l,Z.tongTienThue=r,Z.tongTienHDSauVAT=d,Z.tongThanhToan=h,console.log("objHDAfter ",Z);const C=await B.Z.Update_InforHoaDon(Z);T({...j,tongTienHangChuaChietKhau:i,tongChietKhauHangHoa:o,tongTienHang:l,tongTienThue:r,tongTienHDSauVAT:d,tongThanhToan:h,maHoaDon:null===C||void 0===C?void 0:C.maHoaDon,conNo:h-(null!==(t=null===j||void 0===j?void 0:j.daThanhToan)&&void 0!==t?t:0)})},handleClose:()=>U(!1)}),(0,S.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"calc(100vh - 70px)"},children:[(0,S.jsx)(R,{open:u,onClose:()=>g(!1),onOK:async()=>{g(!1),await B.Z.DeleteHoaDon(t),await A.Z.HuyPhieuThuChi_ofHoaDonLienQuan(t);const e={...j};e.trangThai=0,T({...j,trangThai:0}),ie(1),h(e,2)}}),(0,S.jsxs)(o.Z,{padding:"16px 2.2222222222222223vw ",children:[(0,S.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(l.ZP,{item:!0,xs:"auto",children:(0,S.jsxs)(X.Z,{gap:1,direction:"row",children:[(0,S.jsx)(o.Z,{sx:{fontSize:"24px",color:"#999699"},children:"H\xf3a \u0111\u01a1n"}),(0,S.jsx)(o.Z,{sx:{fontSize:"24px",fontWeight:"700",color:"#333233"},children:null===j||void 0===j?void 0:j.maHoaDon}),(0,S.jsx)(F.Z,{sx:{color:"var(--color-main)"},onClick:async()=>{J.Z.hoadon={...j},J.Z.hoadonChiTiet=[...P],J.Z.khachhang={maKhachHang:null===j||void 0===j?void 0:j.maKhachHang,tenKhachHang:null===j||void 0===j?void 0:j.tenKhachHang,soDienThoai:null===a||void 0===a?void 0:a.soDienThoai},J.Z.chinhanh={tenChiNhanh:null===a||void 0===a?void 0:a.tenChiNhanh},J.Z.congty=Z.congty;const e=await ee.Z.GetContentMauInMacDinh(1,1);let n=J.Z.replaceChiTietHoaDon(e);if(n=J.Z.replaceChiNhanh(n),n=J.Z.replaceHoaDon(n),n.includes("QRCode")){let e="";const t=await ne.Z.GetDefault_TaiKhoanNganHang(j.idChiNhanh);null!==t&&(e=await ne.Z.GetQRCode({tenChuThe:t.tenChuThe,soTaiKhoan:t.soTaiKhoan,tenNganHang:t.tenNganHang,maPinNganHang:t.maPinNganHang},j.tongThanhToan)),n=n.replace("{QRCode}",'<img style="width: 100%" src='.concat(e," />"))}J.Z.Print(n)}})]})}),(0,S.jsx)(l.ZP,{item:!0,xs:"auto",children:(0,S.jsx)(d.Z,{onClick:le,sx:{"&:hover svg":{filter:"brightness(0) saturate(100%) invert(34%) sepia(44%) saturate(2405%) hue-rotate(316deg) brightness(98%) contrast(92%)"}},children:(0,S.jsx)(z.r,{})})})]}),(0,S.jsxs)(l.ZP,{container:!0,sx:{mt:"16px",boxShadow:"0px 4px 20px 0px #AAA9B81A",borderRadius:"12px",padding:"24px 24px 0px 24px",bgcolor:"#fff",alignItems:"center"},children:[(0,S.jsx)(l.ZP,{item:!0,xs:1.5,children:(0,S.jsx)(o.Z,{sx:{borderRadius:"6px","& img":{maxWidth:"100%",maxHeight:"100%",objectFit:"cover"}},children:M.Z.checkNull(null===j||void 0===j?void 0:j.avatar)?(0,S.jsx)("img",{width:100,src:H.Z,alt:"avatar",style:{border:"1px solid #cccc",padding:"20px"}}):(0,S.jsx)("img",{width:100,style:{backgroundColor:"var(--color-bg)"},src:null===j||void 0===j?void 0:j.avatar,alt:"avatar"})})}),(0,S.jsxs)(l.ZP,{item:!0,xs:10.5,sx:{"& .MuiFormLabel-root, & legend":{display:"none"},"& input":{height:"100%"}},children:[(0,S.jsxs)(o.Z,{display:"flex",gap:"23px",mb:"12px",children:[(0,S.jsxs)(X.Z,{direction:"row",gap:1,children:[(0,S.jsx)(w.Z,{variant:"h4",color:"#3B4758",fontWeight:"700",fontSize:"24px",children:null===j||void 0===j?void 0:j.tenKhachHang}),(0,S.jsx)(D.Z,{style:{color:"#999699",display:"none"}})]}),(0,S.jsx)(o.Z,{sx:{padding:"2px 3px",borderRadius:"100px",color:3===(null===j||void 0===j?void 0:j.trangThai)?"#50CD89":1===(null===j||void 0===j?void 0:j.trangThai)?"#FF9900":"#F1416C",bgcolor:3===(null===j||void 0===j?void 0:j.trangThai)?"#E8FFF3":1===(null===j||void 0===j?void 0:j.trangThai)?"#FFF8DD":"#FFF5F8",width:"fit-content",fontSize:"12px",height:"fit-content"},children:null===j||void 0===j?void 0:j.txtTrangThaiHD})]}),(0,S.jsxs)(l.ZP,{container:!0,sx:{"& .MuiFormControl-root":{width:"100%"}},spacing:"2.7vw",children:[(0,S.jsxs)(l.ZP,{item:!0,xs:3,children:[(0,S.jsx)(w.Z,{variant:"h5",fontSize:"12px",color:"#999699",fontWeight:"400",height:24,children:"M\xe3 h\xf3a \u0111\u01a1n"}),(0,S.jsx)(r.Z,{fullWidth:!0,size:"small",className:"inputEdit",onChange:e=>T({...j,maHoaDon:e.target.value}),value:null===j||void 0===j?void 0:j.maHoaDon})]}),(0,S.jsxs)(l.ZP,{item:!0,xs:3,children:[(0,S.jsx)(w.Z,{variant:"h5",fontSize:"12px",color:"#999699",fontWeight:"400",height:24,children:"Ng\xe0y l\u1eadp"}),(0,S.jsx)(N.Z,{theme:te,children:(0,S.jsx)(G.Z,{className:"inputEdit",defaultVal:null===j||void 0===j?void 0:j.ngayLapHoaDon,handleChangeDate:e=>{T({...j,ngayLapHoaDon:e})}})})]}),(0,S.jsxs)(l.ZP,{item:!0,xs:3,children:[(0,S.jsx)(w.Z,{variant:"h5",fontSize:"12px",color:"#999699",fontWeight:"400",height:24,children:"Chi nh\xe1nh"}),(0,S.jsx)(N.Z,{theme:te,children:(0,S.jsx)(Y.Z,{dataChiNhanh:oe,idChosed:null===j||void 0===j?void 0:j.idChiNhanh,handleChoseItem:e=>{T({...j,idChiNhanh:null===e||void 0===e?void 0:e.id})}})})]})]})]}),(0,S.jsx)(l.ZP,{xs:12,item:!0,children:(0,S.jsxs)(y.Z,{value:re,onChange:(e,n)=>{de(n)},sx:{borderTop:"1px solid #EEF0F4",paddingTop:"16px",marginTop:"20px","& .MuiTabs-flexContainer":{gap:"32px"},"& button":{textTransform:"unset",color:"#999699",fontSize:"16px",fontWeight:"400",padding:"0",minWidth:"unset",minHeight:"unset"},"& .Mui-selected":{color:"var(--color-main)!important"},"& .MuiTabs-indicator":{bgcolor:"var(--color-main)"}},children:[(0,S.jsx)(b.Z,{label:"Th\xf4ng tin"}),(0,S.jsx)(b.Z,{label:"Nh\u1eadt k\xfd thanh to\xe1n"})]})})]}),(0,S.jsxs)(o.Z,{sx:{mt:"40px"},children:[(0,S.jsx)(he,{value:re,index:0,children:(0,S.jsx)(k,{hoadon:j,chitietHoaDon:P})}),(0,S.jsx)(he,{value:re,index:1,children:(0,S.jsx)(I,{idHoaDon:t})})]})]}),(0,S.jsxs)(o.Z,{sx:{bgcolor:"#fff",width:"100%",padding:"24px 32px",display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)(o.Z,{children:(0,S.jsx)(s.Z,{startIcon:(0,S.jsx)(L.r,{}),variant:"outlined",sx:{color:"#3B4758",borderColor:"#3B4758"},className:"btn-outline-hover",onClick:le,children:"Quay tr\u1edf l\u1ea1i"})}),(0,S.jsxs)(o.Z,{display:"flex",gap:"8px",children:[0===(null===j||void 0===j?void 0:j.trangThai)&&(0,S.jsx)(s.Z,{variant:"outlined",sx:{borderColor:"#3B4758",color:"#4C4B4C"},className:"btn-outline-hover",onClick:le,children:"\u0110\xf3ng"}),0!==(null===j||void 0===j?void 0:j.trangThai)&&(0,S.jsxs)(S.Fragment,{children:[(null!==(n=null===j||void 0===j?void 0:j.conNo)&&void 0!==n?n:0)>0&&(0,S.jsx)(s.Z,{variant:"outlined",sx:{borderColor:"#3B4758",color:"var(--color-main)"},className:"btn-outline-hover",onClick:()=>f(!0),children:"Thanh to\xe1n"}),(0,S.jsx)(s.Z,{variant:"outlined",sx:{borderColor:"#3B4758",color:"var(--color-main)"},className:"btn-outline-hover",onClick:()=>{U(!0),_("")},children:"Ch\u1ec9nh s\u1eeda"}),(0,S.jsx)(s.Z,{variant:"contained",sx:{color:"#fff"},className:"btn-container-hover",onClick:async()=>{const e=await B.Z.Update_InforHoaDon(j);T({...j,maHoaDon:null===e||void 0===e?void 0:e.maHoaDon}),m({...p,show:!0,mes:"C\u1eadp nh\u1eadt th\xf4ng tin h\xf3a \u0111\u01a1n th\xe0nh c\xf4ng"}),h(j,1)},children:"L\u01b0u"}),(0,S.jsx)(s.Z,{onClick:()=>g(!0),variant:"contained",sx:{transition:".4s",bgcolor:"#FF316A!important",color:"#fff","&:hover":{bgcolor:"red!important"}},children:"X\xf3a"})]})]})]})]})]})]})};var ie=t(22639),oe=t(41202),le=t(66185),re=t(65231),de=t(87068),he=t(93857),se=t(61200);const ce=()=>{var e,n;const t=new Date,a=(0,i.useRef)(!0),p=(0,i.useContext)(K.Il),m=p.chinhanhCurrent,[C,w]=(0,i.useState)({show:!1,type:1,mes:""}),[y,b]=(0,i.useState)(""),[T,N]=(0,i.useState)(new V.Z({id:""})),[D,H]=(0,i.useState)([]),[F,k]=(0,i.useState)([]),[A,I]=(0,i.useState)(new he.tf({show:!1})),[W,O]=(0,i.useState)({textSearch:"",idChiNhanhs:[null===m||void 0===m?void 0:m.id],currentPage:1,pageSize:5,columnSort:"NgayLapHoaDon",typeSort:"DESC",fromDate:(0,P.Z)(t,"yyyy-MM-01"),toDate:(0,P.Z)((0,oe.Z)(t),"yyyy-MM-dd")}),[L,U]=(0,i.useState)({totalCount:0,totalPage:0,items:[]}),[E,_]=i.useState([]),z=async()=>{const e=await B.Z.GetListHoaDon(W);U({totalCount:e.totalCount,totalPage:M.Z.getTotalPage(e.totalCount,W.pageSize),items:e.items})},R=()=>{z(),(async()=>{const e=await ie.Z.GetAll({keyword:"",maxResultCount:10,skipCount:1});null!=e&&H(e.items)})(),(async()=>{const e=await ee.Z.GetAllMauIn_byChiNhanh(null===m||void 0===m?void 0:m.id,1);k(e)})()};(0,i.useEffect)((()=>{R()}),[]),(0,i.useEffect)((()=>{O({...W,idChiNhanhs:[m.id]})}),[m.id]),(0,i.useEffect)((()=>{a.current?a.current=!1:z()}),[W.currentPage,W.pageSize,W.fromDate,W.toDate,W.idChiNhanhs]);const G=()=>{1!==W.currentPage?O({...W,currentPage:1}):z()},[Y,Q]=(0,i.useState)(!1),[X,$]=(0,i.useState)(null),ne=Boolean(X),te=[{field:"maHoaDon",headerName:"M\xe3 h\xf3a \u0111\u01a1n",minWidth:100,flex:.8,renderHeader:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{component:"span",title:e.value,children:e.value})},{field:"ngayLapHoaDon",headerName:"Ng\xe0y b\xe1n",headerAlign:"center",align:"center",minWidth:130,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:e.value,children:(0,P.Z)(new Date(e.value),"dd/MM/yyyy HH:mm")})},{field:"tenKhachHang",headerName:"T\xean kh\xe1ch h\xe0ng",minWidth:140,flex:1.5,renderHeader:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:e.value,component:"span",textOverflow:"ellipsis",children:e.value})},{field:"tongTienHang",headerName:"T\u1ed5ng ti\u1ec1n h\xe0ng",headerAlign:"center",align:"right",minWidth:118,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:e.value,children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"tongThanhToan",headerName:"T\u1ed5ng ph\u1ea3i tr\u1ea3",headerAlign:"center",align:"right",minWidth:118,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:e.value,children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"daThanhToan",headerName:"Kh\xe1ch \u0111\xe3 tr\u1ea3",headerAlign:"center",align:"right",minWidth:118,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:e.value,textAlign:"center",width:"100%",children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"conNo",headerName:"C\xf2n n\u1ee3",headerAlign:"right",align:"right",minWidth:100,flex:.5,renderHeader:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:e.value,component:"span",children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"txtTrangThaiHD",headerAlign:"center",headerName:"Tr\u1ea1ng th\xe1i",minWidth:118,flex:1,renderHeader:e=>(0,S.jsx)(o.Z,{title:e.value,children:e.colDef.headerName}),renderCell:e=>(0,S.jsx)(o.Z,{title:e.value,sx:{padding:"4px 8px",borderRadius:"100px",backgroundColor:3===e.row.trangThai?"#E8FFF3":1===e.row.trangThai?"#FFF8DD":"#FFF5F8",color:3===e.row.trangThai?"#50CD89":1===e.row.trangThai?"#FF9900":"#F1416C",margin:"auto"},className:"state-thanh-toan",children:e.value})}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(K.Fy.Provider,{value:D,children:(0,S.jsx)(ae,{idHoaDon:y,hoadon:T,open:Y,handleGotoBack:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(Q(!1),b(""),n){case 1:e.idChiNhanh!==(null===T||void 0===T?void 0:T.idChiNhanh)?U({...L,items:L.items.filter((n=>n.id!==e.id))}):U({...L,items:L.items.map((n=>n.id===e.id?e:n))});break;case 2:U({...L,items:L.items.map((n=>n.id===e.id?{...n,trangThai:0,txtTrangThaiHD:"\u0110\xe3 h\u1ee7y"}:n))}),w({...C,show:!0,mes:"H\u1ee7y h\xf3a \u0111\u01a1n th\xe0nh c\xf4ng"})}},listMauIn:F})}),(0,S.jsx)(q.Z,{showAlert:C.show,type:C.type,title:C.mes,handleClose:()=>w({show:!1,mes:"",type:1})}),(0,S.jsx)(de.Z,{isShow:A.show,title:A.title,mes:A.mes,onOk:async()=>{await B.Z.Delete_MultipleHoaDon(E),I({...A,show:!1}),w({show:!0,mes:"X\xf3a th\xe0nh c\xf4ng",type:1}),U({...L,items:L.items.map((e=>E.toString().indexOf(e.id)>-1?{...e,trangThai:0,txtTrangThaiHD:"\u0110\xe3 h\u1ee7y"}:e))})},onCancel:()=>I({...A,show:!1})}),(0,S.jsxs)(o.Z,{paddingTop:2,children:[(0,S.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,S.jsx)(l.ZP,{item:!0,xs:12,sm:12,md:12,lg:6,alignItems:"center",gap:"10px",children:(0,S.jsxs)(l.ZP,{container:!0,alignItems:"center",children:[(0,S.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,S.jsx)("span",{className:"page-title",children:" Giao d\u1ecbch thanh to\xe1n"})}),(0,S.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,S.jsx)(r.Z,{size:"small",fullWidth:!0,sx:{backgroundColor:"#fff",borderColor:"#CDC9CD!important"},className:"search-field",variant:"outlined",type:"search",placeholder:"T\xecm ki\u1ebfm",InputProps:{startAdornment:(0,S.jsx)(d.Z,{type:"button",children:(0,S.jsx)(u.Z,{})})},onChange:e=>O((n=>({...n,textSearch:e.target.value}))),onKeyDown:e=>{(e=>{13===e.keyCode&&G()})(e)}})})]})}),(0,S.jsx)(l.ZP,{item:!0,xs:12,sm:12,md:12,lg:6,children:(0,S.jsxs)(o.Z,{sx:{display:"flex",gap:"8px",justifyContent:{lg:"end"}},children:[(0,S.jsxs)(h.Z,{children:[(0,S.jsx)(r.Z,{label:"Th\u1eddi gian",size:"small",fullWidth:!0,variant:"outlined",sx:{"& .MuiInputBase-root":{height:"40px!important"}},onClick:e=>$(e.currentTarget),value:"".concat((0,P.Z)(new Date(W.fromDate),"dd/MM/yyyy")," - ").concat((0,P.Z)(new Date(W.toDate),"dd/MM/yyyy"))}),(0,S.jsx)(se.Z,{id:"popover-date-filter",open:ne,anchorEl:X,onClose:()=>$(null),onApplyDate:async(e,n,t)=>{$(null),O({...W,fromDate:e,toDate:n})}})]}),(0,S.jsxs)(s.Z,{variant:"outlined",onClick:async()=>{const e=await B.Z.ExportToExcel(W);le.Z.downloadExportFile(e)},startIcon:(0,S.jsx)(f.r,{}),sx:{borderColor:"#CDC9CD!important",bgcolor:"#fff!important",color:"#333233",fontSize:"14px"},className:"btn-outline-hover",children:["Xu\u1ea5t"," "]}),(0,S.jsxs)(s.Z,{variant:"contained",startIcon:(0,S.jsx)(v,{}),sx:{bgcolor:"var(--color-main)!important",color:"#fff",fontSize:"14px"},className:"btn-container-hover",children:["B\u1ed9 l\u1ecdc"," "]})]})})]}),E.length>0&&(0,S.jsx)("div",{style:{marginTop:"24px"},children:(0,S.jsx)(re.Z,{lstOption:[{id:"1",text:"X\xf3a h\xf3a \u0111\u01a1n",icon:(0,S.jsx)(x.Z,{sx:{width:"1rem",height:"1rem"}})},{id:"2",text:"In h\xf3a \u0111\u01a1n",icon:(0,S.jsx)(c.Z,{sx:{width:"1rem",height:"1rem"}})}],countRowSelected:E.length,title:"h\xf3a \u0111\u01a1n",choseAction:async e=>{switch(parseInt(e.id)){case 1:I({...A,show:!0,mes:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a nh\u1eefng h\xf3a \u0111\u01a1n n\xe0y kh\xf4ng?"});break;case 2:{let e="";for(let a=0;a<E.length;a++){const i=E[a].toString(),o=await B.Z.GetInforHoaDon_byId(i),l=await B.Z.GetChiTietHoaDon_byIdHoaDon(i);if(o.length>0){var n,t;J.Z.hoadon=o[0],J.Z.hoadonChiTiet=l,J.Z.khachhang={maKhachHang:null===(n=o[0])||void 0===n?void 0:n.maKhachHang,tenKhachHang:null===(t=o[0])||void 0===t?void 0:t.tenKhachHang,soDienThoai:null===T||void 0===T?void 0:T.soDienThoai},J.Z.chinhanh={tenChiNhanh:null===T||void 0===T?void 0:T.tenChiNhanh},J.Z.congty=p.congty;const i=await ee.Z.GetContentMauInMacDinh(1,1);let r=J.Z.replaceChiTietHoaDon(i);r=J.Z.replaceChiNhanh(r),r=J.Z.replaceHoaDon(r),r=await J.Z.replacePhieuThuChi(r),e=a<E.length-1?e.concat(r,'<p style="page-break-before:always;"></p>'):e.concat(r)}}J.Z.Print(e)}}}})}),(0,S.jsxs)(h.Z,{marginTop:E.length>0?1:5,className:"page-box-right",spacing:1,children:[(0,S.jsx)(g._$,{disableRowSelectionOnClick:!0,className:E.length>0?"data-grid-row-chosed":"data-grid-row",rowHeight:46,autoHeight:0===L.items.length,columns:te,rows:L.items,hideFooter:!0,checkboxSelection:!0,onRowClick:e=>{return n=e,console.log("into"),b(n.id),N(n.row),void Q(!0);var n},localeText:Z.g,onRowSelectionModelChange:e=>{_(e)},rowSelectionModel:E}),(0,S.jsx)(j.Z,{currentPage:null!==(e=W.currentPage)&&void 0!==e?e:1,rowPerPage:null!==(n=W.pageSize)&&void 0!==n?n:10,totalRecord:L.totalCount,totalPage:L.totalPage,handlePerPageChange:e=>{O({...W,pageSize:parseInt(e.target.value.toString(),10)})},handlePageChange:(e,n)=>{O({...W,currentPage:n})}})]})]})]})}}}]);