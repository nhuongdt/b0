"use strict";(self.webpackChunklayout_jsx=self.webpackChunklayout_jsx||[]).push([[5052],{25052:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var o=n(9506),i=n(60701),a=n(61113),r=n(9019),l=n(24631),s=n(47131),d=n(24193),h=n(6820),x=n(48623),c=n(41727),m=n(47313),f=n(64247),p=n(61566),u=n(89469),g=n(40225),v=n(33859),y=n(23683),C=n(68507),Z=n(41156),j=n(98589),S=n(89600),b=n(46734),w=n(66185),T=n(66136),H=n(2447),F=n(46417);const D=(0,i.Pi)((e=>{let{handleChangeTab:t}=e;const n=(0,m.useContext)(H.Il).chinhanhCurrent,[i,D]=(0,m.useState)(""),[N,W]=(0,m.useState)(1),[z,k]=(0,m.useState)(10),[I,P]=(0,m.useState)("maHoaDon"),[B,M]=(0,m.useState)("desc"),[R,A]=(0,m.useState)((0,Z.Z)(new Date)),[O,V]=(0,m.useState)((0,j.Z)(new Date)),[E,L]=(0,m.useState)("Th\xe1ng n\xe0y"),[_,K]=(0,m.useState)(""),[X,$]=(0,m.useState)([]),[G,q]=(0,m.useState)(0),[J,Q]=(0,m.useState)(0),[U,Y]=(0,m.useState)(null),[ee,te]=(0,m.useState)(!0);(0,m.useEffect)((()=>{ne()}),[]);const ne=async()=>{await u.default.getSuggestDichVu()},oe=async()=>{$([]);const e=await y.Z.getBaoCaoBanHangChiTiet({filter:i,idChiNhanh:n.id,idDichVu:""===_?void 0:_,maxResultCount:z,skipCount:N,timeFrom:(0,S.Z)(R,"yyyy/MM/dd HH:mm:ss"),timeTo:(0,S.Z)(O,"yyyy/MM/dd HH:mm:ss"),sortBy:I,sortType:B});$(e.items),Q(e.totalCount),q(Math.ceil(e.totalCount/z))};(0,m.useEffect)((()=>{oe()}),[N,z,I,B,_,n.id]);const ie=()=>{Y(null)},ae=[{field:"maHoaDon",headerName:"M\xe3 h\xf3a \u0111\u01a1n",minWidth:90,flex:.8,renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:e.value})},{field:"ngayLapHoaDon",headerName:"Ng\xe0y l\u1eadp",minWidth:120,flex:.8,renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:(0,S.Z)(new Date(e.value),"dd/MM/yyyy HH:mm")}),renderHeader:e=>(0,F.jsx)(o.Z,{children:e.colDef.headerName})},{field:"tenKhachHang",headerName:"T\xean kh\xe1ch h\xe0ng",minWidth:150,flex:.7,renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:e.value}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})},{field:"soDienThoai",headerName:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",minWidth:75,flex:1,renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:e.value})},{field:"nhomHangHoa",headerName:"T\xean nh\xf3m d\u1ecbch v\u1ee5",minWidth:120,flex:1,renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:e.value}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",color:"#525F7A",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})},{field:"tenHangHoa",headerName:"T\xean d\u1ecbch v\u1ee5",minWidth:120,flex:1,renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:e.value}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",color:"#525F7A",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})},{field:"giaBan",headerName:"\u0110\u01a1n gi\xe1",minWidth:75,flex:1,renderCell:e=>(0,F.jsx)(o.Z,{width:"100%",textAlign:"left",fontSize:"13px",children:new Intl.NumberFormat("vi-VN").format(e.value)}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",color:"#525F7A",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})},{field:"soLuong",headerName:"S\u1ed1 l\u01b0\u1ee3ng",minWidth:50,flex:1,renderCell:e=>(0,F.jsx)(o.Z,{width:"100%",textAlign:"left",fontSize:"13px",children:new Intl.NumberFormat("vi-VN").format(e.value)}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",color:"#525F7A",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})},{field:"thanhTien",headerName:"Th\xe0nh ti\u1ec1n",minWidth:120,flex:1,renderCell:e=>(0,F.jsx)(o.Z,{width:"100%",textAlign:"left",fontSize:"13px",children:new Intl.NumberFormat("vi-VN").format(e.value)}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",color:"#525F7A",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})}],re=Boolean(U),le=re?"simple-popover":void 0;return(0,F.jsxs)(o.Z,{paddingTop:"16px",children:[(0,F.jsxs)(r.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,F.jsxs)(r.ZP,{item:!0,xs:12,md:"auto",display:"flex",alignItems:"center",gap:"10px",children:[(0,F.jsx)(a.Z,{variant:"h1",fontSize:"16px",fontWeight:"700",color:"#333233",children:"B\xe1o c\xe1o b\xe1n h\xe0ng chi ti\u1ebft"}),(0,F.jsx)(o.Z,{className:"form-search",children:(0,F.jsx)(l.Z,{sx:{backgroundColor:"#fff",borderColor:"#CDC9CD",height:"40px","& .MuiInputBase-root":{pl:"0"}},onChange:e=>{D(e.target.value)},onKeyDown:e=>{"Enter"==e.key&&oe()},size:"small",className:"search-field",variant:"outlined",placeholder:"T\xecm ki\u1ebfm",InputProps:{startAdornment:(0,F.jsx)(s.Z,{type:"button",onClick:()=>{oe()},children:(0,F.jsx)("img",{src:p.Z})})}})})]}),(0,F.jsxs)(r.ZP,{xs:12,md:"auto",item:!0,display:"flex",gap:"8px",justifyContent:"end",children:[(0,F.jsx)(d.Z,{variant:"outlined",size:"small",sx:{backgroundColor:"#fff!important",textTransform:"capitalize",fontWeight:"400",color:"#666466",padding:"10px 16px",height:"40px",borderRadius:"4px!important"},"aria-describedby":le,onClick:e=>{Y(e.currentTarget)},className:"btn-outline-hover",children:E}),(0,F.jsx)(d.Z,{variant:"outlined",size:"small",startIcon:(0,F.jsx)("img",{src:f.Z}),sx:{backgroundColor:"#fff!important",textTransform:"capitalize",fontWeight:"400",color:"#666466",padding:"10px 16px",height:"40px",borderRadius:"4px!important"},onClick:async()=>{var e;const t=await y.Z.exportBaoCaoBanHangChiTiet({filter:i,idChiNhanh:null!==(e=C.Z.get("IdChiNhanh"))&&void 0!==e?e:void 0,idDichVu:""===_?void 0:_,maxResultCount:z,skipCount:N,timeFrom:(0,S.Z)(R,"yyyy/MM/dd HH:mm:ss"),timeTo:(0,S.Z)(O,"yyyy/MM/dd HH:mm:ss"),sortBy:I,sortType:B});w.Z.downloadExportFile(t)},className:"btn-outline-hover",children:"Xu\u1ea5t"})]})]}),(0,F.jsxs)(r.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",marginTop:2,marginBottom:2,children:[(0,F.jsx)(r.ZP,{item:!0,xs:6,display:"flex",alignItems:"center",gap:"10px",children:(0,F.jsxs)(h.Z,{sx:{height:"40px",bottom:"24px",right:"50px",float:"right",gap:"8px","& button":{padding:"8px 10px!important",lineHeight:"24px"}},children:[(0,F.jsx)(d.Z,{variant:"outlined",sx:{fontSize:"16px",textTransform:"unset",color:"#8492AE",borderColor:"transparent!important",boxShadow:"none!important","&:hover":{color:"#319DFF",backgroundColor:"#FFF",border:"none !important",borderBottom:"2px outset #319DFF !important",boxShadow:"none!important"}},onClick:()=>{t(1)},children:"T\u1ed5ng h\u1ee3p"}),(0,F.jsx)(d.Z,{variant:"outlined",sx:{fontSize:"16px",textTransform:"unset",color:"#319DFF",border:"none !important",borderBottom:"2px outset #319DFF !important",boxShadow:"none!important"},onClick:()=>{t(2)},children:"Chi ti\u1ebft"})]})}),(0,F.jsx)(r.ZP,{xs:12,md:6,item:!0,display:"flex",gap:"8px",justifyContent:"end",children:(0,F.jsx)(x.Z,{options:u.default.suggestDichVu||[],getOptionLabel:e=>"".concat(e.tenDichVu),onChange:(e,t)=>{var n;K(null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:"")},size:"small",fullWidth:!0,sx:{width:"35%"},renderInput:e=>(0,F.jsx)(l.Z,{sx:{bgcolor:"#fff"},...e,placeholder:"T\xecm t\xean",InputProps:{...e.InputProps,startAdornment:(0,F.jsxs)(F.Fragment,{children:[e.InputProps.startAdornment,(0,F.jsx)(c.Z,{position:"start",children:(0,F.jsx)("img",{src:p.Z})})]})}})})})]}),(0,F.jsx)(g._$,{disableRowSelectionOnClick:!0,rowHeight:46,rows:X,getRowId:e=>e.maHoaDon,columns:ae,checkboxSelection:!1,hideFooter:!0,localeText:v.g,sortingOrder:["desc","asc"],onSortModelChange:e=>{var t,n,o;e.length>0&&(async(e,t)=>{P(t),M(e)})(null!==(t=null===(n=e[0].sort)||void 0===n?void 0:n.toString())&&void 0!==t?t:"creationTime",null!==(o=e[0].field)&&void 0!==o?o:"desc")}}),(0,F.jsx)(b.Z,{currentPage:N,rowPerPage:z,totalPage:G,totalRecord:J,handlePerPageChange:async e=>{k(parseInt(e.target.value.toString(),10)),W(1)},handlePageChange:async(e,t)=>{W(t)}}),(0,F.jsx)(T.Z,{open:re,anchorEl:U,onClose:ie,id:le,dateTimeType:E,setDateTimeType:L,timeFrom:R,timeTo:O,setTimeFrom:A,setTimeTo:V,disableSelectDate:ee,setDisableSelectDate:te,onOk:async()=>{await oe(),ie()}})]})})),N=(0,i.Pi)((e=>{let{handleChangeTab:t}=e;const n=(0,m.useContext)(H.Il).chinhanhCurrent,[i,D]=(0,m.useState)(""),[N,W]=(0,m.useState)(1),[z,k]=(0,m.useState)(10),[I,P]=(0,m.useState)("tenHangHoa"),[B,M]=(0,m.useState)("desc"),[R,A]=(0,m.useState)((0,Z.Z)(new Date)),[O,V]=(0,m.useState)((0,j.Z)(new Date)),[E,L]=(0,m.useState)("Th\xe1ng n\xe0y"),[_,K]=(0,m.useState)(""),[X,$]=(0,m.useState)([]),[G,q]=(0,m.useState)(0),[J,Q]=(0,m.useState)(0),[U,Y]=(0,m.useState)(null),[ee,te]=(0,m.useState)(!0);(0,m.useEffect)((()=>{ne()}),[]);const ne=async()=>{await u.default.getSuggestDichVu()},oe=async()=>{const e=await y.Z.getBaoCaoBanHangTongHop({filter:i,idChiNhanh:n.id,idDichVu:""===_?void 0:_,maxResultCount:z,skipCount:N,timeFrom:(0,S.Z)(R,"yyyy/MM/dd HH:mm:ss"),timeTo:(0,S.Z)(O,"yyyy/MM/dd HH:mm:ss"),sortBy:I,sortType:B});$(e.items),Q(e.totalCount),q(Math.ceil(e.totalCount/z))};(0,m.useEffect)((()=>{oe()}),[N,z,I,B,_,n.id]);const ie=()=>{Y(null)},ae=[{field:"tenHangHoa",headerName:"T\xean d\u1ecbch v\u1ee5",minWidth:150,flex:.8,renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:e.value})},{field:"maHangHoa",headerName:"M\xe3 d\u1ecbch v\u1ee5",minWidth:120,flex:.8,renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:e.value}),renderHeader:e=>(0,F.jsx)(o.Z,{children:e.colDef.headerName})},{field:"nhomHangHoa",headerName:"Nh\xf3m d\u1ecbch v\u1ee5",minWidth:120,flex:.7,renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:e.value}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})},{field:"giaBan",headerName:"Gi\xe1",minWidth:100,flex:1,renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"soLuong",headerName:"S\u1ed1 l\u01b0\u1ee3ng",minWidth:70,flex:1,renderCell:e=>(0,F.jsx)(a.Z,{fontSize:"13px",fontWeight:"400",sx:{width:"100%",textOverflow:"ellipsis",overflow:"hidden"},children:new Intl.NumberFormat("vi-VN").format(e.value)}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",color:"#525F7A",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})},{field:"doanhThu",headerName:"Doanh thu",minWidth:120,flex:1,renderCell:e=>(0,F.jsx)(o.Z,{width:"100%",textAlign:"left",fontSize:"13px",children:new Intl.NumberFormat("vi-VN").format(e.value)}),renderHeader:e=>(0,F.jsx)(o.Z,{sx:{fontWeight:"500",color:"#525F7A",fontSize:"13px",fontFamily:"Roboto"},children:e.colDef.headerName})}],re=Boolean(U),le=re?"simple-popover":void 0;return(0,F.jsxs)(o.Z,{paddingTop:"16px",children:[(0,F.jsxs)(r.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,F.jsxs)(r.ZP,{item:!0,xs:12,md:"auto",display:"flex",alignItems:"center",gap:"10px",children:[(0,F.jsx)(a.Z,{variant:"h1",fontSize:"16px",fontWeight:"700",color:"#333233",children:"B\xe1o c\xe1o b\xe1n h\xe0ng t\u1ed5ng h\u1ee3p"}),(0,F.jsx)(o.Z,{className:"form-search",children:(0,F.jsx)(l.Z,{sx:{backgroundColor:"#fff",borderColor:"#CDC9CD",height:"40px","& .MuiInputBase-root":{pl:"0"}},onChange:e=>{D(e.target.value)},onKeyDown:e=>{"Enter"==e.key&&oe()},size:"small",className:"search-field",variant:"outlined",placeholder:"T\xecm ki\u1ebfm",InputProps:{startAdornment:(0,F.jsx)(s.Z,{type:"button",onClick:()=>{oe()},children:(0,F.jsx)("img",{src:p.Z})})}})})]}),(0,F.jsxs)(r.ZP,{xs:12,md:"auto",item:!0,display:"flex",gap:"8px",justifyContent:"end",children:[(0,F.jsx)(d.Z,{variant:"outlined",size:"small",sx:{backgroundColor:"#fff!important",textTransform:"capitalize",fontWeight:"400",color:"#666466",padding:"10px 16px",height:"40px",borderRadius:"4px!important"},onClick:e=>{Y(e.currentTarget)},className:"btn-outline-hover",children:E}),(0,F.jsx)(d.Z,{variant:"outlined",size:"small",startIcon:(0,F.jsx)("img",{src:f.Z}),sx:{backgroundColor:"#fff!important",textTransform:"capitalize",fontWeight:"400",color:"#666466",padding:"10px 16px",height:"40px",borderRadius:"4px!important"},onClick:async()=>{var e;const t=await y.Z.exportBaoCaoBanHangTongHop({filter:i,idChiNhanh:null!==(e=C.Z.get("IdChiNhanh"))&&void 0!==e?e:void 0,idDichVu:""===_?void 0:_,maxResultCount:z,skipCount:N,timeFrom:(0,S.Z)(R,"yyyy/MM/dd HH:mm:ss"),timeTo:(0,S.Z)(O,"yyyy/MM/dd HH:mm:ss"),sortBy:I,sortType:B});w.Z.downloadExportFile(t)},className:"btn-outline-hover",children:"Xu\u1ea5t"})]})]}),(0,F.jsxs)(r.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",marginTop:2,marginBottom:2,children:[(0,F.jsx)(r.ZP,{item:!0,xs:6,display:"flex",alignItems:"center",gap:"10px",children:(0,F.jsxs)(h.Z,{sx:{height:"40px",bottom:"24px",right:"50px",float:"right",gap:"8px","& button":{padding:"8px 10px!important",lineHeight:"24px"}},tabIndex:1,children:[(0,F.jsx)(d.Z,{variant:"outlined",sx:{fontSize:"16px",textTransform:"unset",color:"#319DFF",border:"none !important",borderBottom:"2px outset #319DFF !important",boxShadow:"none!important"},onClick:()=>{t(1)},children:"T\u1ed5ng h\u1ee3p"}),(0,F.jsx)(d.Z,{variant:"outlined",sx:{fontSize:"16px",textTransform:"unset",color:"#8492AE",borderColor:"transparent!important",boxShadow:"none!important","&:hover":{color:"#319DFF",backgroundColor:"#FFF",border:"none !important",borderBottom:"2px outset #319DFF !important",boxShadow:"none!important"}},onClick:()=>{t(2)},children:"Chi ti\u1ebft"})]})}),(0,F.jsx)(r.ZP,{xs:12,md:6,item:!0,display:"flex",gap:"8px",justifyContent:"end",children:(0,F.jsx)(x.Z,{options:u.default.suggestDichVu||[],getOptionLabel:e=>"".concat(e.tenDichVu),onChange:(e,t)=>{var n;K(null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:"")},size:"small",fullWidth:!0,sx:{width:"35%"},renderInput:e=>(0,F.jsx)(l.Z,{sx:{bgcolor:"#fff"},...e,placeholder:"T\xecm t\xean",InputProps:{...e.InputProps,startAdornment:(0,F.jsxs)(F.Fragment,{children:[e.InputProps.startAdornment,(0,F.jsx)(c.Z,{position:"start",children:(0,F.jsx)("img",{src:p.Z})})]})}})})})]}),(0,F.jsx)(g._$,{disableRowSelectionOnClick:!0,rowHeight:46,rows:X,getRowId:e=>e.maHangHoa,columns:ae,checkboxSelection:!1,hideFooter:!0,localeText:v.g,sortingOrder:["desc","asc"],onSortModelChange:e=>{var t,n,o;e.length>0&&(async(e,t)=>{P(t),M(e)})(null!==(t=null===(n=e[0].sort)||void 0===n?void 0:n.toString())&&void 0!==t?t:"creationTime",null!==(o=e[0].field)&&void 0!==o?o:"desc")}}),(0,F.jsx)(b.Z,{currentPage:N,rowPerPage:z,totalPage:G,totalRecord:J,handlePerPageChange:async e=>{k(parseInt(e.target.value.toString(),10)),W(1)},handlePageChange:async(e,t)=>{W(t)}}),(0,F.jsx)(T.Z,{open:re,anchorEl:U,onClose:ie,id:le,dateTimeType:E,setDateTimeType:L,timeFrom:R,timeTo:O,setTimeFrom:A,setTimeTo:V,disableSelectDate:ee,setDisableSelectDate:te,onOk:async()=>{await oe(),ie()}})]})})),W=(0,i.Pi)((()=>{const[e,t]=(0,m.useState)(1),n=e=>{t(e)};return(0,F.jsx)(o.Z,{children:2===e?(0,F.jsx)(D,{handleChangeTab:n}):(0,F.jsx)(N,{handleChangeTab:n})})}))}}]);