"use strict";(self.webpackChunklayout_jsx=self.webpackChunklayout_jsx||[]).push([[1788],{36073:(e,t,i)=>{i.d(t,{Z:()=>r,r:()=>h});var a,n,s=i(47313);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},o.apply(this,arguments)}function l(e,t){let{title:i,titleId:l,...h}=e;return s.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},h),i?s.createElement("title",{id:l},i):null,a||(a=s.createElement("path",{d:"M4 8H12",stroke:"#FFFAFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=s.createElement("path",{d:"M8 12V4",stroke:"#FFFAFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const h=s.forwardRef(l),r=i.p+"static/media/add.0b705e20dfa5086a83bee9c502946102.svg"},5599:(e,t,i)=>{i.d(t,{Z:()=>d,r:()=>r});var a,n,s,o=i(47313);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},l.apply(this,arguments)}function h(e,t){let{title:i,titleId:h,...r}=e;return o.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":h},r),i?o.createElement("title",{id:h},i):null,a||(a=o.createElement("path",{d:"M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=o.createElement("path",{d:"M4.66666 6.66699L7.99999 10.0003L11.3333 6.66699",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),s||(s=o.createElement("path",{d:"M8 10V2",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const r=o.forwardRef(h),d=i.p+"static/media/download.658a35f262d37e3f8759fe6e3dbe50ed.svg"},61566:(e,t,i)=>{i.d(t,{Z:()=>r,r:()=>h});var a,n,s=i(47313);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},o.apply(this,arguments)}function l(e,t){let{title:i,titleId:l,...h}=e;return s.createElement("svg",o({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},h),i?s.createElement("title",{id:l},i):null,a||(a=s.createElement("path",{d:"M9.58335 17.5003C13.9556 17.5003 17.5 13.9559 17.5 9.58366C17.5 5.2114 13.9556 1.66699 9.58335 1.66699C5.2111 1.66699 1.66669 5.2114 1.66669 9.58366C1.66669 13.9559 5.2111 17.5003 9.58335 17.5003Z",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=s.createElement("path",{d:"M18.3334 18.3337L16.6667 16.667",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const h=s.forwardRef(l),r=i.p+"static/media/search-normal.4032718719c7e2bac848ef728621bbbe.svg"},64247:(e,t,i)=>{i.d(t,{Z:()=>d,r:()=>r});var a,n,s,o=i(47313);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},l.apply(this,arguments)}function h(e,t){let{title:i,titleId:h,...r}=e;return o.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":h},r),i?o.createElement("title",{id:h},i):null,a||(a=o.createElement("path",{d:"M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=o.createElement("path",{d:"M11.3333 5.33301L8.00001 1.99967L4.66668 5.33301",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),s||(s=o.createElement("path",{d:"M8 2L8 10",stroke:"#666466",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const r=o.forwardRef(h),d=i.p+"static/media/upload.66c1c8a63dcade851b73fbd88865202c.svg"},87068:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(94469),n=i(33604),s=i(35898),o=i(61113),l=i(96467),h=i(24193),r=i(10298),d=i(46417);const c=e=>{let{isShow:t,onOk:i,onCancel:c,title:u="",mes:g=""}=e;return(0,d.jsxs)(a.Z,{open:t,onClose:c,fullWidth:!0,maxWidth:"xs",PaperProps:{sx:{height:"auto",width:"450px"}},children:[(0,d.jsx)(n.Z,{children:(0,d.jsxs)(s.Z,{direction:"row",spacing:2,justifyContent:"space-between",children:[(0,d.jsx)(o.Z,{color:"#3D475C",fontSize:"18px",fontWeight:700,children:""!=u?u:"Th\xf4ng b\xe1o x\xf3a"}),(0,d.jsx)(r.Z,{sx:{height:"24px"},onClick:c})]})}),(0,d.jsx)(l.Z,{children:(0,d.jsxs)(s.Z,{direction:"column",children:[(0,d.jsx)(o.Z,{color:"#679",fontSize:"14px",fontWeight:400,children:""!=g?g:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\u1ea3n ghi n\xe0y kh\xf4ng?"}),(0,d.jsxs)(s.Z,{mt:3,direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[(0,d.jsx)(h.Z,{variant:"outlined",onClick:c,sx:{fontSize:"14px",textTransform:"unset",color:"#666466"},className:"btn-outline-hover",children:"B\u1ecf qua"}),(0,d.jsx)(h.Z,{sx:{background:"#F1416C",color:"#EEF0F4","&:hover":{background:"#FF316A",color:"#FFF"}},onClick:i,children:"X\xf3a"})]})]})})]})}},33985:(e,t,i)=>{i.d(t,{Z:()=>g});var a=i(85582),n=i(51405),s=i(61113),o=i(47313),l=i(33973),h=i(65954),r=i(17885),d=i(14881),c=i(46417);class u extends o.Component{render(){const{selectedRowId:e,anchorEl:t,closeMenu:i,handleView:o,handleDelete:u,handleEdit:g,permissionDelete:p,permissionEdit:x,permissionView:m}=this.props;return(0,c.jsxs)(a.Z,{id:"actions-menu-".concat(e),anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:i,sx:{minWidth:"120px"},children:[(0,c.jsxs)(n.Z,{onClick:o,hidden:!d.Z.isGrandPermission(null!==m&&void 0!==m?m:"notHavePermission"),children:[(0,c.jsx)(s.Z,{color:"#009EF7",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"Xem"}),(0,c.jsx)(l.Z,{sx:{color:"#009EF7"}})]}),(0,c.jsxs)(n.Z,{onClick:g,hidden:!d.Z.isGrandPermission(null!==x&&void 0!==x?x:"notHavePermission"),children:[(0,c.jsx)(s.Z,{color:"#009EF7",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"S\u1eeda"}),(0,c.jsx)(h.Z,{sx:{color:"#009EF7"}})]}),(0,c.jsxs)(n.Z,{onClick:u,hidden:!d.Z.isGrandPermission(null!==p&&void 0!==p?p:"notHavePermission"),children:[(0,c.jsx)(s.Z,{color:"#F1416C",fontSize:"12px",variant:"button",textTransform:"unset",width:"64px",fontWeight:"400",marginRight:"8px",children:"X\xf3a"}),(0,c.jsx)(r.Z,{sx:{color:"#F1416C"}})]})]})}}const g=u},46734:(e,t,i)=>{i.d(t,{Z:()=>g});var a=i(9019),n=i(9506),s=i(1550),o=i(40454),l=i(51405),h=i(61113),r=i(74312),d=i(47313),c=i(46417);class u extends d.Component{render(){const{totalPage:e,totalRecord:t,currentPage:i,rowPerPage:d,handlePageChange:u,handlePerPageChange:g}=this.props;return(0,c.jsxs)(a.ZP,{container:!0,sx:{display:t>0?"":"none",backgroundColor:"#fff"},padding:"0px 16px",children:[(0,c.jsx)(a.ZP,{item:!0,xs:6,md:3,children:(0,c.jsx)(n.Z,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",height:48},children:(0,c.jsx)(s.Z,{variant:"standard",children:(0,c.jsxs)(o.Z,{sx:{height:"32px"},onChange:g,defaultValue:d,children:[(0,c.jsx)(l.Z,{value:5,children:(0,c.jsx)(h.Z,{variant:"body2",children:"5/ Trang"})}),(0,c.jsx)(l.Z,{value:10,children:(0,c.jsx)(h.Z,{variant:"body2",children:"10/ Trang"})}),(0,c.jsx)(l.Z,{value:20,children:(0,c.jsx)(h.Z,{variant:"body2",children:"20/ Trang"})}),(0,c.jsx)(l.Z,{value:50,children:(0,c.jsx)(h.Z,{variant:"body2",children:"50/ Trang"})}),(0,c.jsx)(l.Z,{value:100,children:(0,c.jsx)(h.Z,{variant:"body2",children:"100/ Trang"})})]})})})}),(0,c.jsx)(a.ZP,{item:!0,xs:12,md:9,children:(0,c.jsxs)(n.Z,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:48},children:[(0,c.jsxs)(h.Z,{variant:"body2",children:["Hi\u1ec3n th\u1ecb ",(i-1)*d+1," -"," ",d*i>t?t:d*i," c\u1ee7a"," ",t," m\u1ee5c"]}),(0,c.jsx)(r.Z,{count:e,page:i,onChange:u,sx:{"& button":{display:"inline-block",borderRadius:"4px",lineHeight:"1"},"& .Mui-selected":{backgroundColor:"var(--color-main)!important",color:"#fff"}}})]})})]})}}const g=u},33859:(e,t,i)=>{i.d(t,{g:()=>a});i(80281);const a={columnMenuUnsort:"B\u1ecf s\u1eafp x\u1ebfp",columnMenuSortAsc:"S\u1eafp x\u1ebfp t\u0103ng d\u1ea7n",columnMenuSortDesc:"S\u1eafp x\u1ebfp gi\u1ea3m d\u1ea7n",columnMenuFilter:"L\u1ecdc",columnMenuHideColumn:"\u1ea8n c\u1ed9t",columnMenuManageColumns:"\u0110i\u1ec1u ch\u1ec9nh t\u1ea5t c\u1ea3 c\u1ed9t",checkboxSelectionHeaderName:"Ch\u1ecdn",columnsPanelTextFieldLabel:"T\xecm c\u1ed9t",columnsPanelTextFieldPlaceholder:"T\xean c\u1ed9t",columnsPanelHideAllButton:"\u1ea8n t\u1ea5t c\u1ea3",columnsPanelShowAllButton:"Hi\u1ec3n th\u1ecb t\u1ea5t c\u1ea3",filterPanelOperator:"To\xe1n t\u1eed",filterOperatorContains:"Ch\u1ee9a",filterOperatorEquals:"B\u1eb1ng",filterOperatorNot:"Kh\xf4ng B\u1eb1ng",filterOperatorStartsWith:"B\u1eaft \u0111\u1ea7u v\u1edbi",filterOperatorEndsWith:"K\u1ebft th\xfac v\u1edbi",filterOperatorIsEmpty:"R\u1ed7ng",filterOperatorIsNotEmpty:"Kh\xf4ng tr\u1ed1ng",filterOperatorIsAnyOf:"L\xe0 b\u1ea5t k\u1ef3 trong",filterPanelColumns:"C\u1ed9t",filterPanelInputLabel:"Gi\xe1 tr\u1ecb",filterPanelInputPlaceholder:"Nh\u1eadp gi\xe1 tr\u1ecb \u0111\u1ec3 t\xecm ki\u1ebfm",noRowsLabel:"kh\xf4ng c\xf3 d\u1eef li\u1ec7u",noResultsOverlayLabel:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p.",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," / ").concat(t.toLocaleString(),"does nothing"),MuiTablePagination:{labelDisplayedRows:e=>{let{from:t,to:i,count:a}=e;return"hi\u1ec3n th\u1ecb ".concat(t," - ").concat(i," c\u1ee7a ").concat(a," m\u1ee5c")},labelRowsPerPage:"S\u1ed1 h\xe0ng t\u1ed1i \u0111a tr\xean m\u1ed7i trang "},labelRowsPerPage:"S\u1ed1 h\xe0ng t\u1ed1i \u0111a tr\xean m\u1ed7i trang ",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" H\xe0ng \u0111\u01b0\u1ee3c ch\u1ecdn":" H\xe0ng \u0111\u01b0\u1ee3c ch\u1ecdn ")}},69551:(e,t,i)=>{i.d(t,{K4:()=>l,LB:()=>o,Uv:()=>a,ZP:()=>h,u6:()=>n,xG:()=>s});const a={HOM_NAY:"HOM_NAY",HOM_QUA:"HOM_QUA",NGAY_MAI:"NGAY_MAI",TUAN_NAY:"TUAN_NAY",TUAN_TRUOC:"TUAN_TRUOC",TUAN_TOI:"TUAN_TOI",THANG_NAY:"THANG_NAY",THANG_TRUOC:"THANG_TRUOC",THANG_TOI:"THANG_TOI",QUY_NAY:"QUY_NAY",QUY_TRUOC:"QUY_TRUOC",NAM_NAY:"NAM_NAY",NAM_TRUOC:"NAM_TRUOC",TUY_CHON:"TUY_CHON",TAT_CA:"TAT_CA"},n={TIN_THUONG:1,TIN_SINH_NHAT:2,TIN_LICH_HEN:3,TIN_GIAO_DICH:4},s={DRAFT:1,SUCCESS:100,NOT_BALANCE:103,BRANDNAME_NOTEXIST:104,MESSAGE_NOT_VALID:118,ERROR_UNDEFINED:99},o={INSEART:1,UPDATE:2,DELETE:3},l={SECOND:1,MINUTES:2,HOUR:3,DAY:4,MONTH:5},h={userManagement:{defaultAdminUserName:"admin"},localization:{defaultLocalizationSourceName:"BanHangBeautify"},authorization:{encrptedAuthTokenName:"enc_auth_token"},appBaseUrl:"http://192.168.1.63:2001",remoteServiceBaseUrl:"https://localhost:44311/",guidEmpty:"00000000-0000-0000-0000-000000000000",pageOption:[{value:10,text:"10/ trang"},{value:20,text:"20/ trang"}],TimeType:{HOUR:"HOUR",MINUTES:"MINUTES",SECOND:"SECOND"},ListTimeType:[{value:l.SECOND,text:"Gi\xe2y"},{value:l.MINUTES,text:"Ph\xfat"},{value:l.HOUR,text:"Gi\u1edd"},{value:l.DAY,text:"Ng\xe0y"},{value:l.MONTH,text:"Th\xe1ng"}],DanhSachBienSMS:[{value:"{TenKhachHang}",text:"T\xean kh\xe1ch h\xe0ng"},{value:"{BookingDate}",text:"Ng\xe0y h\u1eb9n"},{value:"{ThoiGianHen}",text:"Th\u1eddi gian h\u1eb9n"},{value:"{MaHoaDon}",text:"M\xe3 giao d\u1ecbch"},{value:"{NgayLapHoaDon}",text:"Ng\xe0y giao d\u1ecbch"},{value:"{TenHangHoa}",text:"D\u1ecbch v\u1ee5 h\u1eb9n"},{value:"{TenCuaHang}",text:"T\xean c\u1eeda h\xe0ng"},{value:"{SDTCuaHang}",text:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a h\xe0ng"}],smsLoaiTin:[{value:n.TIN_THUONG,text:"Tin th\u01b0\u1eddng"},{value:n.TIN_SINH_NHAT,text:"Tin sinh nh\u1eadt"},{value:n.TIN_LICH_HEN,text:"Tin l\u1ecbch h\u1eb9n"},{value:n.TIN_GIAO_DICH,text:"Tin giao d\u1ecbch"}],ListTrangThaiGuiTin:[{value:s.SUCCESS,text:"Th\xe0nh c\xf4ng"},{value:s.NOT_BALANCE,text:"Kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0"},{value:s.BRANDNAME_NOTEXIST,text:"Brandname kh\xf4ng t\u1ed3n t\u1ea1i"},{value:s.MESSAGE_NOT_VALID,text:"Tin nh\u1eafn kh\xf4ng h\u1ee3p l\u1ec7"},{value:s.ERROR_UNDEFINED,text:"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh"}],ListDateType:[{id:a.HOM_NAY,text:"H\xf4m nay"},{id:a.HOM_QUA,text:"H\xf4m qua"},{id:a.NGAY_MAI,text:"Ng\xe0y mai"},{id:a.TUAN_NAY,text:"Tu\u1ea7n n\xe0y"},{id:a.TUAN_TRUOC,text:"Tu\u1ea7n tr\u01b0\u1edbc"},{id:a.TUAN_TOI,text:"Tu\u1ea7n t\u1edbi"},{id:a.THANG_NAY,text:"Th\xe1ng n\xe0y"},{id:a.THANG_TRUOC,text:"Th\xe1ng tr\u01b0\u1edbc"},{id:a.THANG_TOI,text:"Th\xe1ng t\u1edbi"},{id:a.QUY_NAY,text:"Qu\xfd n\xe0y"},{id:a.QUY_TRUOC,text:"Qu\xfd tr\u01b0\u1edbc"},{id:a.NAM_NAY,text:"N\u0103m n\xe0y"},{id:a.NAM_TRUOC,text:"N\u0103m tr\u01b0\u1edbc"},{id:a.TAT_CA,text:"To\xe0n th\u1eddi gian"},{id:a.TUY_CHON,text:"T\xf9y ch\u1ec9nh"}],trangThaiCheckIn:[{value:1,name:"\u0110\u1eb7t l\u1ecbch"},{value:2,name:"\u0110\xe3 g\u1ecdi (nh\u1eafn tin) cho kh\xe1ch"},{value:3,name:"Check in"},{value:4,name:"Ho\xe0n th\xe0nh"},{value:0,name:"X\xf3a"}],hinhThucThanhToan:[{value:1,text:"Ti\u1ec1n m\u1eb7t"},{value:2,text:"Chuy\u1ec3n kho\u1ea3n"},{value:3,text:"Qu\u1eb9t th\u1ebb"}],hinhThucKhuyenMaiHoaDon:[{value:11,name:"Gi\u1ea3m gi\xe1 h\xf3a \u0111\u01a1n"},{value:12,name:"T\u1eb7ng h\xe0ng"},{value:13,name:"Gi\u1ea3m gi\xe1 h\xe0ng"},{value:14,name:"T\u1eb7ng \u0110i\u1ec3m"}],hinhThucKhuyenMaiHangHoa:[{value:21,name:"Mua h\xe0ng gi\u1ea3m gi\xe1 h\xe0ng"},{value:22,name:"Mua h\xe0ng t\u1eb7ng h\xe0ng"},{value:23,name:"Mua h\xe0ng gi\u1ea3m gi\xe1 theo s\u1ed1 l\u01b0\u1ee3ng mua"},{value:24,name:"Mua h\xe0ng t\u1eb7ng \u0111i\u1ec3m"}],loaiTinNhan:[{name:"Tin th\u01b0\u1eddng",value:1},{name:"Sinh nh\u1eadt",value:2},{name:"L\u1ecbch h\u1eb9n",value:3},{name:"\u0110\xe1nh gi\xe1",value:4}],loaiBooking:{online:0,offline:1,cuaHangBook:2},loaiKhuyenMai:{hangHoa:2,hoaDon:1},listColumnCustomer:{actions:!0,cuocHenGanNhat:!0,gioiTinh:!0,nhanVienPhuTrach:!0,soDienThoai:!0,tenKhachHang:!0,tenNguonKhach:!0,tenNhomKhach:!0,tongChiTieu:!0},emailRegex:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phoneRegex:/(84[1-9]|0[1-9])+([0-9]{8})\b/g,passwordRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{6,}$/,yyyyMMddHHmmRegex:/^\d{4}-[0-1][0-2]-[0-3]\d\s([0-1][0-9]|2[0-3]):[0-5]\d$/,dayOfWeek:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},lstMauInMacDinh:[{value:1,text:"M\u1eabu K80"},{value:2,text:"M\u1eabu A4"}]}},1788:(e,t,i)=>{i.r(t),i.d(t,{default:()=>xe});var a=i(47313),n=i(9506),s=i(61113),o=i(24631),l=i(47131),h=i(6820),r=i(24193),d=i(48623),c=i(33859),u=i(40225),g=i(86618),p=i(5599),x=i(64247),m=i(36073),v=i(61566),C=i(4793),f=i(69551),S=i(68507),y=i(96219);const N=new class{async CreateOrEdit(e){return(await y.Z.post("api/services/app/ChietKhauDichVu/CreateOrEdit",e)).data.result}async Delete(e){return(await y.Z.post("api/services/app/ChietKhauDichVu/Delete?id=".concat(e))).data.result}async GetForEdit(e){return(await y.Z.get("api/services/app/ChietKhauDichVu/GetForEdit",{params:{id:e}})).data.result}async GetAccordingByNhanVien(e,t,i){return(await y.Z.get("api/services/app/ChietKhauDichVu/GetAccordingByNhanVien",{params:{...e,idNhanVien:t,idChiNhanh:i}})).data.result}async GetAll(e){return(await y.Z.get("api/services/app/ChietKhauDichVu/GetAll",{params:{input:e}})).data.result}};const Z=new class{constructor(){this.listChietKhauDichVu=void 0,this.createOrEditDto=void 0,this.isChietKhauDichVu=void 0,this.id=void 0,(0,C.rC)(this,{listChietKhauDichVu:C.LO,createOrEditDto:C.LO,isChietKhauDichVu:C.LO,id:C.LO,createModel:C.aD,createOrEdit:C.aD,getForEdit:C.aD,delete:C.aD,getAccordingByNhanVien:C.aD,getAll:C.aD})}async changeViewHoaHong(e){this.isChietKhauDichVu=e}async createModel(){var e,t;const i=null!==(e=null===(t=S.Z.get("IdChiNhanh"))||void 0===t?void 0:t.toString())&&void 0!==e?e:f.ZP.guidEmpty;this.createOrEditDto={id:f.ZP.guidEmpty,idChiNhanh:i,giaTri:0,idDonViQuiDoi:"",idNhanViens:[],laPhanTram:!1,loaiChietKhau:1}}async createOrEdit(e){await N.CreateOrEdit(e),await this.createModel()}async getForEdit(e){const t=await N.GetForEdit(e);this.createOrEditDto=t}async delete(e){await N.Delete(e)}async getAccordingByNhanVien(e,t){var i,a;const n=null!==(i=null===(a=S.Z.get("IdChiNhanh"))||void 0===a?void 0:a.toString())&&void 0!==i?i:void 0,s=await N.GetAccordingByNhanVien(e,t,n);this.listChietKhauDichVu=s}async getAll(e){return await N.GetAll(e)}};var w=i(60701),T=i(94469),j=i(33604),V=i(96467),D=i(9019),b=i(54299),E=i(83929),A=i(74268),I=i(44758),H=i(4117),k=i(26417),M=i(7410),O=i(21933),P=i(47655),R=i(89469),K=i(62870),F=i(46417);class L extends a.Component{constructor(){super(...arguments),this.formatNumber=e=>Number(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}render(){const{title:e,onClose:t,onSave:i,visited:a}=this.props,h=Z.createOrEditDto,c=O.Ry().shape({idDonViQuiDoi:O.Z_().required("D\u1ecbch v\u1ee5 l\xe0 b\u1eaft bu\u1ed9c"),idNhanViens:O.IX().min(1,"Vui l\xf2ng ch\u1ecdn \xedt nh\u1ea5t 1 nh\xe2n vi\xean"),loaiChietKhau:O.Rx().required("Vui l\xf2ng ch\u1ecdn lo\u1ea1i chi\u1ebft kh\u1ea5u"),giaTri:O.Rx().required("Vui l\xf2ng nh\u1eadp gi\xe1 tr\u1ecb chi\u1ebft kh\u1ea5u").test({name:"non-zero",exclusive:!0,message:"Gi\xe1 tr\u1ecb chi\u1ebft kh\u1ea5u ph\u1ea3i l\u1edbn h\u01a1n 0",test:function(e){return e>0}})});return(0,F.jsxs)(T.Z,{open:a,fullWidth:!0,maxWidth:"md",children:[(0,F.jsxs)(j.Z,{sx:{fontSize:"24px",fontWeight:"700"},children:[e,t?(0,F.jsx)(l.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,"&:hover svg":{filter:"brightness(0) saturate(100%) invert(34%) sepia(44%) saturate(2405%) hue-rotate(316deg) brightness(98%) contrast(92%)"}},children:(0,F.jsx)(k.r,{})}):null]}),(0,F.jsx)(V.Z,{children:(0,F.jsx)(M.J9,{initialValues:h,validationSchema:c,onSubmit:async(e,t)=>{var a,n;if(e.id=null!==(a=e.id)&&void 0!==a?a:f.ZP.guidEmpty,e.idChiNhanh=null!==(n=S.Z.get("IdChiNhanh"))&&void 0!==n?n:"",1==e.laPhanTram&&e.giaTri>100)t.setFieldError("giaTri","Gi\xe1 tr\u1ecb kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 100 %");else{const t=await N.CreateOrEdit(e);(0,P.yv)(t.message,{variant:t.status,autoHideDuration:3e3}),await i()}},children:e=>{var i,a,l,h;let{values:c,handleChange:u,errors:g,touched:p,setFieldValue:x,isSubmitting:m}=e;return(0,F.jsxs)(M.l0,{onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},children:[(0,F.jsxs)(D.ZP,{container:!0,spacing:4,rowSpacing:2,children:[(0,F.jsxs)(D.ZP,{item:!0,xs:12,sm:6,marginTop:2,children:[(0,F.jsx)(d.Z,{multiple:!0,options:null!==(i=null===R.default||void 0===R.default?void 0:R.default.suggestNhanVien)&&void 0!==i?i:[],getOptionLabel:e=>e.tenNhanVien,value:(null===R.default||void 0===R.default||null===(a=R.default.suggestNhanVien)||void 0===a?void 0:a.filter((e=>null===c||void 0===c?void 0:c.idNhanViens.includes(e.id))))||[],disabled:c.id!==f.ZP.guidEmpty,onChange:(e,t)=>{u({target:{name:"idNhanViens",value:t?t.map((e=>e.id)):[]}})},fullWidth:!0,renderInput:e=>(0,F.jsx)(o.Z,{...e,label:(0,F.jsx)(s.Z,{variant:"subtitle2",children:"Nh\xe2n vi\xean"}),error:!(!g.idNhanViens||!p.idNhanViens),size:"small",sx:{fontSize:"16px",color:"#4c4b4c"}})}),g.idNhanViens&&p.idNhanViens&&(0,F.jsx)("small",{className:"text-danger",children:g.idNhanViens})]}),(0,F.jsxs)(D.ZP,{item:!0,xs:12,sm:6,marginTop:2,children:[(0,F.jsx)(d.Z,{options:null!==(l=null===R.default||void 0===R.default?void 0:R.default.suggestDichVu)&&void 0!==l?l:[],getOptionLabel:e=>e.tenDichVu,value:(null===(h=R.default.suggestDichVu)||void 0===h?void 0:h.find((e=>e.id===(null===c||void 0===c?void 0:c.idDonViQuiDoi))))||null,onChange:(e,t)=>{u({target:{name:"idDonViQuiDoi",value:t?t.id:""}})},fullWidth:!0,renderInput:e=>(0,F.jsx)(o.Z,{...e,label:(0,F.jsx)(s.Z,{variant:"subtitle2",children:"D\u1ecbch v\u1ee5"}),error:!(!g.idDonViQuiDoi||!p.idDonViQuiDoi),size:"small",sx:{fontSize:"16px",color:"#4c4b4c"}})}),g.idDonViQuiDoi&&p.idDonViQuiDoi&&(0,F.jsx)("small",{className:"text-danger",children:g.idDonViQuiDoi})]}),(0,F.jsxs)(D.ZP,{item:!0,xs:12,sm:6,children:[(0,F.jsxs)(b.Z,{value:null===c||void 0===c?void 0:c.loaiChietKhau,defaultValue:null===c||void 0===c?void 0:c.loaiChietKhau,title:"Lo\u1ea1i chi\u1ebft kh\u1ea5u",name:"loaiChietKhau",onChange:u,sx:{display:"flex",flexDirection:"row"},children:[(0,F.jsx)(E.Z,{value:1,control:(0,F.jsx)(A.Z,{}),label:"Th\u1ef1c hi\u1ec7n"}),(0,F.jsx)(E.Z,{value:2,control:(0,F.jsx)(A.Z,{}),label:"Y\xeau c\u1ea7u"}),(0,F.jsx)(E.Z,{value:3,control:(0,F.jsx)(A.Z,{}),label:"T\u01b0 v\u1ea5n"})]}),g.loaiChietKhau&&p.loaiChietKhau&&(0,F.jsx)("small",{className:"text-danger",children:g.loaiChietKhau})]}),(0,F.jsx)(D.ZP,{item:!0,xs:12,sm:6,children:(0,F.jsx)(K.h3,{label:(0,F.jsx)(s.Z,{children:"Gi\xe1 tr\u1ecb"}),value:c.giaTri,thousandSeparator:".",decimalSeparator:",",sx:{fontSize:"16px",color:"#4c4b4c"},error:!(!g.giaTri||!p.giaTri),helperText:g.giaTri&&p.giaTri&&(0,F.jsx)("small",{className:"text-danger",children:g.giaTri}),InputProps:{inputMode:"numeric"},fullWidth:!0,name:"giaTri",onChange:async e=>{const t=e.target.value.replaceAll(".","");x("giaTri",Number.parseInt(t,10))},customInput:o.Z,size:"small"})}),(0,F.jsx)(D.ZP,{item:!0,xs:12,children:(0,F.jsx)(E.Z,{label:"L\xe0 ph\u1ea7n tr\u0103m",value:1==(null===c||void 0===c?void 0:c.laPhanTram),checked:1==(null===c||void 0===c?void 0:c.laPhanTram),onChange:(e,t)=>{x("laPhanTram",t)},name:"laPhanTram",control:(0,F.jsx)(I.Z,{})})})]}),(0,F.jsx)(H.Z,{sx:{pr:"0!important"},children:(0,F.jsxs)(n.Z,{sx:{display:"flex",gap:"8px",bottom:"24px",right:"50px"},children:[(0,F.jsx)(r.Z,{variant:"outlined",onClick:t,sx:{fontSize:"14px",textTransform:"unset",color:"#965C85",borderColor:"#965C85"},className:"btn-outline-hover",children:"H\u1ee7y"}),m?(0,F.jsx)(r.Z,{variant:"contained",type:"submit",sx:{fontSize:"14px",textTransform:"unset",color:"#fff",backgroundColor:"#7C3367",border:"none"},className:"btn-container-hover",children:"\u0110ang l\u01b0u"}):(0,F.jsx)(r.Z,{variant:"contained",type:"submit",sx:{fontSize:"14px",textTransform:"unset",color:"#fff",backgroundColor:"#7C3367",border:"none"},className:"btn-container-hover",children:"L\u01b0u"})]})})]})}})})]})}}const _=(0,w.Pi)(L);var B=i(46734),W=i(33985),G=i(87068),U=i(14881);class z extends a.Component{constructor(){var e;super(...arguments),this.state={visited:!1,idChiNhanh:null!==(e=S.Z.get("IdChiNhanh"))&&void 0!==e?e:"",idNhanVien:f.ZP.guidEmpty,keyword:"",sortBy:"",sortType:"desc",skipCount:1,isShowConfirmDelete:!1,maxResultCount:10,totalPage:0,totalCount:0,selectedRowId:null,checkAllRow:!1,listItemSelectedModel:[],anchorEl:null,createOrEditDto:{laPhanTram:!1},activeButton:"",focusField:"",showButton:!1},this.getDataAccordingByNhanVien=async e=>{var t;await Z.getAccordingByNhanVien({keyword:null!==(t=this.state.keyword)&&void 0!==t?t:"",maxResultCount:this.state.maxResultCount,skipCount:this.state.skipCount,sortBy:this.state.sortBy,sortType:this.state.sortType},null!==e&&void 0!==e?e:f.ZP.guidEmpty)},this.handlePageChange=async(e,t)=>{await this.setState({skipCount:t,checkAllRow:!1}),this.InitData()},this.handlePerPageChange=async e=>{await this.setState({maxResultCount:parseInt(e.target.value.toString(),10),skipCount:1,checkAllRow:!1}),this.InitData()},this.handleSubmit=async()=>{await this.getDataAccordingByNhanVien(this.state.idNhanVien),this.onModal()},this.onModal=()=>{this.setState({visited:!this.state.visited})},this.onSort=async(e,t)=>{await this.setState({sortType:e,sortBy:t}),this.getDataAccordingByNhanVien(this.state.idNhanVien)},this.handleButtonClick=(e,t)=>{this.setState((i=>({...i,activeButton:{...i,[e]:t}})))},this.onFocus=e=>{this.setState({focusField:e})},this.handleOpenMenu=(e,t)=>{this.setState({anchorEl:e.currentTarget,selectedRowId:t})},this.handleCloseMenu=async()=>{await this.setState({anchorEl:null,selectedRowId:null})},this.handleEdit=()=>{var e;this.createOrUpdateModalOpen(null!==(e=this.state.selectedRowId)&&void 0!==e?e:""),this.handleCloseMenu()},this.handleDelete=()=>{this.setState({isShowConfirmDelete:!this.state.isShowConfirmDelete,anchorEl:null})},this.onShowDeleteConfirm=()=>{this.setState({isShowConfirmDelete:!this.state.isShowConfirmDelete})},this.onOkDelete=async()=>{var e;const t=await N.Delete(null!==(e=this.state.selectedRowId)&&void 0!==e?e:"");(0,P.yv)(t.message,{variant:t.status,autoHideDuration:3e3}),this.setState({selectedRowId:""}),await this.getDataAccordingByNhanVien(this.state.idNhanVien),await this.onShowDeleteConfirm()},this.handleCheckboxGridRowClick=e=>{const{id:t}=e.row,i=this.state.listItemSelectedModel.indexOf(t);let a=[];a=-1===i?[...this.state.listItemSelectedModel,t]:[...this.state.listItemSelectedModel.slice(0,i),...this.state.listItemSelectedModel.slice(i+1)],this.setState({listItemSelectedModel:a})},this.handleSelectAllGridRowClick=()=>{if(this.state.checkAllRow){var e;const t=null===(e=Z.listChietKhauDichVu)||void 0===e?void 0:e.items.map((e=>e.id)),i=this.state.listItemSelectedModel.filter((e=>!t.includes(e)));this.setState({listItemSelectedModel:i})}else{var t;const e=null===(t=Z.listChietKhauDichVu)||void 0===t?void 0:t.items.map((e=>e.id)),i=new Set([...this.state.listItemSelectedModel,...e]);this.setState({listItemSelectedModel:Array.from(i)})}this.setState({checkAllRow:!this.state.checkAllRow})}}componentDidMount(){this.InitData()}async InitData(){var e;await R.default.getSuggestNhanVien(),await R.default.getSuggestDichVu(),(null===(e=R.default.suggestNhanVien)||void 0===e?void 0:e.length)>0&&this.state.idNhanVien===f.ZP.guidEmpty?await this.getDataAccordingByNhanVien(R.default.suggestNhanVien[0].id):await this.getDataAccordingByNhanVien(this.state.idNhanVien)}async createOrUpdateModalOpen(e){""===e?await Z.createModel():await Z.getForEdit(e),this.setState({idNhanSu:e}),this.onModal()}render(){var e,t;const{listChietKhauDichVu:i}=Z,a=[{field:"tenDichVu",headerName:"T\xean d\u1ecbch v\u1ee5 ",minWidth:140,flex:1,renderCell:e=>(0,F.jsx)(n.Z,{style:{display:"flex",alignItems:"center",fontSize:"13px",width:"100%"},title:e.value,children:(0,F.jsx)(s.Z,{fontSize:"13px",fontFamily:"Roboto",fontWeight:400,textAlign:"left",sx:{textOverflow:"ellipsis",overflow:"hidden",width:"100%"},children:e.value})}),renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName})},{field:"tenNhomDichVu",headerName:"Nh\xf3m d\u1ecbch v\u1ee5",minWidth:114,flex:1,renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(n.Z,{title:e.value,sx:{textOverflow:"ellipsis",overflow:"hidden",width:"100%",fontSize:"13px",fontWeight:400,fontFamily:"Roboto",textAlign:"left"},children:e.value})},{field:"hoaHongThucHien",headerName:"Hoa h\u1ed3ng th\u1ef1c hi\u1ec7n",minWidth:150,flex:1,renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(o.Z,{type:"text",defaultValue:"0",value:0===e.value?"0":!0===e.row.laPhanTram?new Intl.NumberFormat("vi-VN").format(e.value)+" %":new Intl.NumberFormat("vi-VN").format(e.value)+" VN\u0110",sx:{height:"85%","&>div":{height:"100%"},"& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{appearance:"none"},"& .MuiOutlinedInput-root":{paddingRight:"8px"},fontSize:"13px",fontWeight:"400",fontFamily:"Roboto"}})},{field:"hoaHongYeuCauThucHien",headerName:"Hoa h\u1ed3ng theo y\xeau c\u1ea7u",minWidth:170,flex:1,renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(o.Z,{type:"text",defaultValue:"0",value:0===e.value?"0":!0===e.row.laPhanTram?new Intl.NumberFormat("vi-VN").format(e.value)+" %":new Intl.NumberFormat("vi-VN").format(e.value)+" VN\u0110",sx:{height:"85%",fontSize:"13px",fontWeight:"400",fontFamily:"Roboto","&>div":{height:"100%"},"& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{appearance:"none"},"& .MuiOutlinedInput-root":{paddingRight:"8px"}}})},{field:"hoaHongTuVan",sortable:!1,headerName:"Hoa h\u1ed3ng t\u01b0 v\u1ea5n",minWidth:130,flex:1,renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(o.Z,{type:"text",defaultValue:"0",value:0===e.value?"0":!0===e.row.laPhanTram?new Intl.NumberFormat("vi-VN").format(e.value)+" %":new Intl.NumberFormat("vi-VN").format(e.value)+" VN\u0110",sx:{fontSize:"13px",fontWeight:"400",fontFamily:"Roboto",height:"85%","&>div":{height:"100%"},"& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{appearance:"none"},"& .MuiOutlinedInput-root":{paddingRight:"8px"}}})},{field:"giaDichVu",headerName:"Gi\xe1 b\xe1n",minWidth:85,flex:.6,renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700",textOverflow:"ellipsis",overflow:"hidden",width:"100%"},children:e.colDef.headerName}),renderCell:e=>(0,F.jsx)(n.Z,{title:e.value,sx:{textOverflow:"ellipsis",overflow:"hidden",width:"100%",fontSize:"13px",fontWeight:"400",fontFamily:"Roboto"},children:new Intl.NumberFormat("vi-VN").format(e.value)})},{field:"actions",headerName:"H\xe0nh \u0111\u1ed9ng",maxWidth:48,flex:1,disableColumnMenu:!0,renderCell:e=>(0,F.jsx)(n.Z,{children:(0,F.jsx)(l.Z,{"aria-label":"Actions","aria-controls":"actions-menu-".concat(e.row.id),"aria-haspopup":"true",onClick:t=>{this.handleOpenMenu(t,e.row.id)},children:(0,F.jsx)(g.Z,{})})}),renderHeader:e=>(0,F.jsx)(n.Z,{sx:{display:"none"},children:e.colDef.headerName})}];return(0,F.jsxs)("div",{children:[(0,F.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",marginBottom:"16px",children:[(0,F.jsxs)(n.Z,{display:"flex",justifyContent:"start",alignItems:"center",children:[(0,F.jsx)(s.Z,{fontWeight:"700",fontFamily:"Roboto",fontSize:"18px",children:"Hoa h\u1ed3ng theo d\u1ecbch v\u1ee5"}),(0,F.jsx)(o.Z,{type:"text",size:"small",sx:{"& input":{bgcolor:"#fff"},"& .MuiInputBase-root":{pl:"0",bgcolor:"#fff"},marginLeft:"10px"},onChange:e=>{this.setState({keyword:e.target.value})},onKeyDown:e=>{"Enter"==e.key&&this.getDataAccordingByNhanVien(this.state.idNhanVien)},placeholder:"T\xecm ki\u1ebfm",InputProps:{startAdornment:(0,F.jsx)(l.Z,{type:"button",sx:{bgcolor:"#fff"},onClick:()=>{this.getDataAccordingByNhanVien(this.state.idNhanVien)},children:(0,F.jsx)("img",{src:v.Z})})}})]}),(0,F.jsxs)(h.Z,{variant:"contained",sx:{boxShadow:"none",gap:"8px"},className:"rounded-4px resize-height",children:[(0,F.jsx)(r.Z,{className:"border-color btn-outline-hover",variant:"outlined",startIcon:(0,F.jsx)("img",{src:p.Z}),sx:{textTransform:"capitalize",fontWeight:"400",color:"#666466",bgcolor:"#fff!important",height:40},children:"Nh\u1eadp"}),(0,F.jsx)(r.Z,{className:"border-color btn-outline-hover",variant:"outlined",startIcon:(0,F.jsx)("img",{src:x.Z}),sx:{textTransform:"capitalize",fontWeight:"400",color:"#666466",padding:"10px 16px",borderColor:"#E6E1E6",bgcolor:"#fff!important",height:40},children:"Xu\u1ea5t"}),(0,F.jsx)(r.Z,{startIcon:(0,F.jsx)("img",{src:m.Z}),variant:"contained",sx:{bgcolor:"#7C3367",height:40},onClick:()=>{this.createOrUpdateModalOpen("")},hidden:!U.Z.isGrandPermission("Pages.ChietKhauDichVu.Create"),className:"btn-container-hover",children:"Th\xeam m\u1edbi"})]})]}),(0,F.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",marginBottom:"8px",children:[(0,F.jsxs)(h.Z,{variant:"contained",sx:{gap:"8px",boxShadow:"none",". button":{height:"40px"}},children:[(0,F.jsx)(r.Z,{variant:"outlined",sx:{fontSize:"16px",textTransform:"unset",color:"#319DFF",backgroundColor:"#FFF",border:"none !important",borderBottom:"2px outset #319DFF !important"},children:"Theo d\u1ecbch v\u1ee5"}),(0,F.jsx)(r.Z,{variant:"outlined",sx:{fontSize:"16px",textTransform:"unset",color:"#8492AE",backgroundColor:"#FFF",borderColor:"transparent!important",boxShadow:"none!important","&:hover":{color:"#319DFF",backgroundColor:"#FFF",border:"none !important",borderBottom:"2px outset #319DFF !important",boxShadow:"none!important"}},onClick:async()=>{await Z.changeViewHoaHong(!1)},children:"Theo h\xf3a \u0111\u01a1n"})]}),(0,F.jsx)(d.Z,{options:R.default.suggestNhanVien,getOptionLabel:e=>"".concat(e.tenNhanVien),value:(null===(e=R.default.suggestNhanVien)||void 0===e?void 0:e.find((e=>e.id===this.state.idNhanVien)))||((null===(t=R.default.suggestNhanVien)||void 0===t?void 0:t.length)>0?R.default.suggestNhanVien[0]:null),size:"small",sx:{width:"15%",border:"1px soid #319DFF"},fullWidth:!0,disablePortal:!0,onChange:async(e,t)=>{await this.setState({idNhanVien:null===t||void 0===t?void 0:t.id}),await this.getDataAccordingByNhanVien(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,F.jsx)(o.Z,{sx:{bgcolor:"#fff"},...e,placeholder:"T\xecm t\xean"})})]}),(0,F.jsxs)(n.Z,{marginBottom:"8px",children:[this.state.listItemSelectedModel.length>0?(0,F.jsx)(n.Z,{mb:1,children:(0,F.jsxs)(r.Z,{variant:"contained",color:"secondary",children:["X\xf3a ",this.state.listItemSelectedModel.length," b\u1ea3n ghi \u0111\xe3 ch\u1ecdn"]})}):null,(0,F.jsx)(u._$,{rowHeight:46,columns:a,rows:void 0===i?[]:i.items,disableRowSelectionOnClick:!0,checkboxSelection:!1,sortingOrder:["desc","asc"],sortModel:[{field:this.state.sortBy,sort:"desc"==this.state.sortType?"desc":"asc"}],onSortModelChange:e=>{var t,i,a;e.length>0&&this.onSort(null!==(t=null===(i=e[0].sort)||void 0===i?void 0:i.toString())&&void 0!==t?t:"creationTime",null!==(a=e[0].field)&&void 0!==a?a:"desc")},localeText:c.g,hideFooter:!0}),(0,F.jsx)(B.Z,{currentPage:this.state.skipCount,rowPerPage:this.state.maxResultCount,totalRecord:void 0===i?0:i.totalCount,totalPage:void 0===i?0:Math.ceil(i.totalCount/this.state.maxResultCount),handlePerPageChange:this.handlePerPageChange,handlePageChange:this.handlePageChange}),(0,F.jsx)(W.Z,{selectedRowId:this.state.selectedRowId,anchorEl:this.state.anchorEl,closeMenu:this.handleCloseMenu,handleView:this.handleEdit,permissionView:"Pages.ChietKhauDichVu.Edit",handleEdit:this.handleEdit,permissionEdit:"Pages.ChietKhauDichVu.Edit",handleDelete:this.handleDelete,permissionDelete:"Pages.ChietKhauDichVu.Delete"}),(0,F.jsx)(G.Z,{isShow:this.state.isShowConfirmDelete,onOk:this.onOkDelete,onCancel:this.onShowDeleteConfirm})]}),(0,F.jsx)(_,{formRef:this.state.createOrEditDto,onClose:this.onModal,onSave:this.handleSubmit,idNhanVien:this.state.idNhanVien,visited:this.state.visited,title:""===this.state.selectedRowId||null==this.state.selectedRowId?"Th\xeam m\u1edbi chi\u1ebft kh\u1ea5u d\u1ecbch v\u1ee5":"C\u1eadp nh\u1eadt chi\u1ebft kh\u1ea5u d\u1ecbch v\u1ee5"})]})}}const Q=(0,w.Pi)(z);var Y=i(41434);const X=new class{async GetAll(e,t){return(await y.Z.get("api/services/app/ChietKhauHoaDon/GetAll",{params:{...e,idChiNhanh:t}})).data.result}async GetForEdit(e){return(await y.Z.get("api/services/app/ChietKhauHoaDon/GetForEdit?id=".concat(e))).data.result}async CreateOrEdit(e){return(await y.Z.post("api/services/app/ChietKhauHoaDon/CreateOrEdit",e)).data.result}async Delete(e){return(await y.Z.post("api/services/app/ChietKhauHoaDon/Delete?id=".concat(e))).data.result}};const q=new class{constructor(){this.id=void 0,this.createOrEditDto=void 0,this.chietKhauHoaDons=void 0,(0,C.ky)(this,{createOrEditDto:C.LO,createModel:C.aD})}async getAll(e){var t;const i=await X.GetAll(e,null!==(t=S.Z.get("IdChiNhanh"))&&void 0!==t?t:void 0);this.chietKhauHoaDons=i}async createOrEdit(e){return await X.CreateOrEdit(e)}async delete(e){await X.Delete(e)}async getForEdit(e){this.createOrEditDto=await X.GetForEdit(e)}async createModel(){var e;this.createOrEditDto={id:f.ZP.guidEmpty,idChiNhanh:null!==(e=S.Z.get("IdChiNhanh"))&&void 0!==e?e:f.ZP.guidEmpty,chungTuApDung:"",giaTriChietKhau:0,loaiChietKhau:1,idNhanViens:[],ghiChu:""}}};var $=i(65280),J=i(1550),ee=i(67216),te=i(83213),ie=i(74748),ae=i(32600),ne=i(48119),se=i(94638),oe=i(50373),le=i(71673),he=i(66713),re=i(10298);class de extends a.Component{constructor(){super(...arguments),this.state={tabIndex:"1",selectedChucVuId:"",listEmployee:[],listEmployeeSelected:[],listIdEmployeeAdd:[],listIdEmployeeRemove:[],filteredChucVu:[],chucVuSearchValue:"",nhanVienSearchValue:"",nhanVienSelectedSearchValue:""},this.handleChucVuSearchChange=e=>{this.setState({chucVuSearchValue:e.target.value})},this.handleNhanVienSearchChange=e=>{this.setState({nhanVienSearchValue:e.target.value})},this.handleNhanVienSelectedSearchChange=e=>{this.setState({nhanVienSelectedSearchValue:e.target.value})},this.handleAddNhanVien=(e,t)=>{if(1==t){const t=[...this.state.listIdEmployeeAdd,e];this.setState({listIdEmployeeAdd:t})}if(!1===t){const t=this.state.listIdEmployeeAdd.filter((t=>t!=e));this.setState({listIdEmployeeAdd:t})}},this.handleRemoveNhanVien=(e,t)=>{if(1==t){const t=[...this.state.listIdEmployeeRemove,e];this.setState({listIdEmployeeRemove:t})}if(!1===t){const t=this.state.listIdEmployeeRemove.filter((t=>t!=e));this.setState({listIdEmployeeRemove:t})}},this.handleMoveItemSelectToRight=()=>{const e=this.state.listEmployee.filter((e=>!this.state.listIdEmployeeAdd.includes(e)));this.setState({listEmployeeSelected:[...this.state.listEmployeeSelected,...this.state.listIdEmployeeAdd],listIdEmployeeAdd:[],listEmployee:e})},this.handleMoveItemSelectToLeft=()=>{const e=[...this.state.listEmployee,...this.state.listIdEmployeeRemove],t=this.state.listEmployeeSelected.filter((e=>!this.state.listIdEmployeeRemove.includes(e)));this.setState({listEmployeeSelected:t,listIdEmployeeRemove:[],listEmployee:e})},this.handleMoveToRight=e=>{const{listEmployeeSelected:t,listEmployee:i}=this.state,a=i.filter((t=>t.id!==e.id)),n=R.default.suggestNhanVien.filter((t=>t.id===e.id));this.setState({listEmployee:a,listEmployeeSelected:[...t,...n]})},this.handleMoveToLeft=e=>{const{listEmployeeSelected:t,listEmployee:i}=this.state,a=t.filter((t=>t.id!==e.id)),n=R.default.suggestNhanVien.filter((t=>t.id===e.id));this.setState({listEmployeeSelected:a,listEmployee:[...i,...n]})},this.handleSelectAllItemToAdd=e=>{!0===e?this.setState({listIdEmployeeAdd:this.state.listEmployee}):this.setState({listIdEmployeeAdd:[]})},this.handleSelectAllItemToRemove=e=>{!0===e?this.setState({listIdEmployeeRemove:this.state.listEmployeeSelected}):this.setState({listIdEmployeeRemove:[]})},this.handleTabChange=(e,t)=>{this.setState({tabIndex:t}),"2"===t&&this.fillDataEmployee()},this.fillDataEmployee=async()=>{if(R.default&&q){const{suggestNhanVien:e}=R.default,{createOrEditDto:t}=q;e&&t&&this.setState({listEmployee:e.filter((e=>!t.idNhanViens.includes(e.id))),listEmployeeSelected:e.filter((e=>t.idNhanViens.includes(e.id)))})}}}render(){var e;const{title:t,onClose:i,onSave:a,visited:h}=this.props,c=q.createOrEditDto,u=""===this.state.chucVuSearchValue?R.default.suggestChucVu:null===(e=R.default.suggestChucVu)||void 0===e?void 0:e.filter((e=>e.tenChucVu.toLowerCase().includes(this.state.chucVuSearchValue.toLowerCase()))),g=Array.isArray(this.state.listEmployee)?this.state.listEmployee.filter((e=>{const t=u.find((e=>e.idChucVu===this.state.selectedChucVuId));return(""===this.state.selectedChucVuId||t&&t.tenChucVu===e.chucVu)&&e.tenNhanVien&&e.tenNhanVien.toLowerCase().includes(this.state.nhanVienSearchValue.toLowerCase())})):[],p=Array.isArray(this.state.listEmployeeSelected)?this.state.listEmployeeSelected.filter((e=>e.tenNhanVien&&e.tenNhanVien.toLowerCase().includes(this.state.nhanVienSelectedSearchValue.toLowerCase()))):[];return(0,F.jsxs)(T.Z,{open:h,fullWidth:!0,maxWidth:"md",onClose:i,children:[(0,F.jsxs)(j.Z,{sx:{fontSize:"24px",fontWeight:"700"},children:[t,i?(0,F.jsx)(l.Z,{"aria-label":"close",onClick:()=>{i(),this.setState({tabIndex:"1",chucVuSearchValue:"",nhanVienSearchValue:"",nhanVienSelectedSearchValue:""})},sx:{position:"absolute",right:8,top:8,"&:hover svg":{filter:"brightness(0) saturate(100%) invert(36%) sepia(74%) saturate(1465%) hue-rotate(318deg) brightness(94%) contrast(100%)"}},children:(0,F.jsx)(k.r,{})}):null]}),(0,F.jsx)(V.Z,{children:(0,F.jsx)(M.J9,{initialValues:c,onSubmit:async(e,t)=>{if(e.idNhanViens=this.state.listEmployeeSelected.map((e=>e.id)),""==e.chungTuApDung||null==e.chungTuApDung||void 0==e.chungTuApDung)t.setFieldError("chungTuApDung","Ch\u1ee9ng t\u1eeb \xe1p d\u1ee5ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),this.setState({tabIndex:"1"});else if(0==e.idNhanViens.length)t.setFieldError("idNhanViens","Nh\xe2n vi\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),this.fillDataEmployee(),this.setState({tabIndex:"2"});else if(null==e.giaTriChietKhau||0==e.giaTriChietKhau)t.setFieldError("giaTriChietKhau","Gi\xe1 tr\u1ecb chi\u1ebft kh\u1ea5u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),this.setState({tabIndex:"1"});else if(e.giaTriChietKhau<=0)t.setFieldError("giaTriChietKhau","Gi\xe1 tr\u1ecb chi\u1ebft kh\u1ea5u ph\u1ea3i l\xe0 s\u1ed1 d\u01b0\u01a1ng"),this.setState({tabIndex:"1"});else{const t=await q.createOrEdit(e);(0,P.yv)(t.message,{variant:t.status,autoHideDuration:3e3}),this.setState({tabIndex:"1",chucVuSearchValue:"",nhanVienSearchValue:"",nhanVienSelectedSearchValue:""}),await a()}},children:e=>{var t,a,h,c;let{handleChange:x,errors:m,touched:C,values:f,setFieldValue:S,isSubmitting:y}=e;return(0,F.jsxs)(M.l0,{onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},children:[(0,F.jsxs)(se.ZP,{value:this.state.tabIndex,children:[(0,F.jsxs)(oe.Z,{onChange:this.handleTabChange,children:[(0,F.jsx)($.Z,{label:"Th\xf4ng tin",value:"1",sx:{textTransform:"unset!important"}}),(0,F.jsx)($.Z,{label:"Nh\xe2n vi\xean \xe1p d\u1ee5ng",value:"2",sx:{textTransform:"unset!important"}})]}),(0,F.jsx)(le.Z,{value:"1",sx:{padding:"16px"},children:(0,F.jsxs)(D.ZP,{container:!0,spacing:4,rowSpacing:2,children:[(0,F.jsxs)(D.ZP,{item:!0,xs:12,children:[(0,F.jsxs)(b.Z,{name:"loaiChietKhau",value:null!==(t=null===f||void 0===f?void 0:f.loaiChietKhau)&&void 0!==t?t:1,onChange:x,sx:{display:"flex",flexDirection:"row"},children:[(0,F.jsx)(E.Z,{value:1,control:(0,F.jsx)(A.Z,{}),label:"Theo % th\u1ef1c thu"}),(0,F.jsx)(E.Z,{value:2,control:(0,F.jsx)(A.Z,{}),label:" Theo % doanh thu"}),(0,F.jsx)(E.Z,{value:3,control:(0,F.jsx)(A.Z,{}),label:"Theo VN\u0110"})]}),m.loaiChietKhau&&C.loaiChietKhau&&(0,F.jsx)("span",{className:"text-danger",children:m.loaiChietKhau})]}),(0,F.jsx)(D.ZP,{item:!0,xs:12,sm:12,md:4,children:(0,F.jsx)(K.h3,{label:(0,F.jsx)(s.Z,{children:"Gi\xe1 tr\u1ecb chi\u1ebft kh\u1ea5u"}),fullWidth:!0,size:"small",name:"giaTriChietKhau",thousandSeparator:".",decimalSeparator:",",error:!(!m.giaTriChietKhau||!C.giaTriChietKhau),helperText:m.giaTriChietKhau&&C.giaTriChietKhau&&(0,F.jsx)("span",{className:"text-danger",children:m.giaTriChietKhau}),value:null===f||void 0===f?void 0:f.giaTriChietKhau,onChange:e=>{const t=e.target.value.replaceAll(".","");S("giaTriChietKhau",Number.parseInt(t))},customInput:o.Z})}),(0,F.jsxs)(D.ZP,{item:!0,xs:12,sm:12,md:8,children:[(0,F.jsx)(J.Z,{fullWidth:!0,children:(0,F.jsx)(d.Z,{options:null!==(a=R.default.suggestLoaiChungTu)&&void 0!==a?a:[],getOptionLabel:e=>e.tenLoaiChungTu,size:"small",onChange:(e,t)=>{S("chungTuApDung",null===t||void 0===t?void 0:t.tenLoaiChungTu)},value:null!==(h=null===(c=R.default.suggestLoaiChungTu)||void 0===c?void 0:c.filter((e=>e.tenLoaiChungTu==(null===f||void 0===f?void 0:f.chungTuApDung)))[0])&&void 0!==h?h:{id:0,tenLoaiChungTu:""},renderInput:e=>(0,F.jsx)(o.Z,{...e,label:(0,F.jsx)(s.Z,{variant:"subtitle2",children:"Ch\u1ee9ng t\u1eeb \xe1p d\u1ee5ng"}),error:!(!m.chungTuApDung||!C.chungTuApDung),fullWidth:!0,sx:{fontSize:"16px",color:"#4c4b4c"}})})}),m.chungTuApDung&&C.chungTuApDung&&(0,F.jsx)("span",{className:"text-danger",children:m.chungTuApDung})]}),(0,F.jsx)(D.ZP,{item:!0,xs:12,children:(0,F.jsx)(o.Z,{fullWidth:!0,name:"ghiChu",value:f.ghiChu,onChange:x,label:(0,F.jsx)(s.Z,{children:"Ghi ch\xfa"}),multiline:!0,minRows:2,maxRows:3})})]})}),(0,F.jsx)(le.Z,{value:"2",sx:{padding:"16px"},children:(0,F.jsxs)(D.ZP,{container:!0,spacing:2,children:[(0,F.jsxs)(D.ZP,{item:!0,xs:3,children:[(0,F.jsx)(s.Z,{children:"V\u1ecb tr\xed"}),(0,F.jsx)(o.Z,{fullWidth:!0,size:"small",className:"search-field",variant:"outlined",placeholder:"T\xecm ki\u1ebfm",value:this.state.chucVuSearchValue,onChange:this.handleChucVuSearchChange,InputProps:{startAdornment:(0,F.jsx)(l.Z,{type:"button",children:(0,F.jsx)("img",{src:v.Z})})}}),(0,F.jsxs)(n.Z,{maxHeight:"300px",overflow:"auto",marginTop:2,children:[(0,F.jsx)(ee.ZP,{sx:{fontSize:"13px !important",backgroundColor:""===this.state.selectedChucVuId?"#E6E6E6":"transparent"},onClick:async()=>{await this.setState({selectedChucVuId:"",chucVuSearchValue:""})},children:(0,F.jsx)(te.Z,{primary:(0,F.jsx)(s.Z,{fontSize:"13px",children:"T\u1ea5t c\u1ea3"})})}),u.map(((e,t)=>(0,F.jsx)(ee.ZP,{sx:{fontSize:"13px !important",backgroundColor:this.state.selectedChucVuId===e.idChucVu?"#E6E6E6":"transparent"},onClick:async()=>{this.setState({selectedChucVuId:e.idChucVu})},children:(0,F.jsx)(te.Z,{primary:(0,F.jsx)(s.Z,{fontSize:"13px",children:e.tenChucVu})})},t)))]})]}),(0,F.jsxs)(D.ZP,{item:!0,xs:4.5,children:[(0,F.jsx)(s.Z,{children:"Nh\xe2n vi\xean"}),(0,F.jsx)(o.Z,{fullWidth:!0,size:"small",className:"search-field",variant:"outlined",placeholder:"T\xecm ki\u1ebfm",value:this.state.nhanVienSearchValue,onChange:this.handleNhanVienSearchChange,InputProps:{startAdornment:(0,F.jsx)(l.Z,{type:"button",children:(0,F.jsx)("img",{src:v.Z})})}}),(0,F.jsxs)(n.Z,{maxHeight:"300px",overflow:"auto",marginTop:2,children:[(0,F.jsxs)(n.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,F.jsxs)(n.Z,{paddingLeft:"15px",children:[(0,F.jsx)(E.Z,{label:"Ch\u1ecdn t\u1ea5t c\u1ea3",onChange:(e,t)=>{this.handleSelectAllItemToAdd(t)},control:(0,F.jsx)(I.Z,{})}),this.state.listIdEmployeeAdd.length>0?(0,F.jsxs)(s.Z,{fontSize:"13px",children:[this.state.listIdEmployeeAdd.length," b\u1ea3n ghi \u0111\u01b0\u1ee3c ch\u1ecdn"]}):null]}),(0,F.jsx)(r.Z,{variant:"text",onClick:this.handleMoveItemSelectToRight,children:"Th\xeam"})]}),Array.isArray(g)?g.map(((e,t)=>(0,F.jsxs)(ee.ZP,{sx:{fontSize:"13px !important"},secondaryAction:(0,F.jsx)(l.Z,{edge:"end",size:"small",sx:{border:"1px solid #C2C9D6",borderRadius:"4px",padding:"2px"},onClick:()=>{this.handleMoveToRight(e)},children:(0,F.jsx)(he.Z,{})}),children:[(0,F.jsx)(ie.Z,{sx:{minWidth:"auto"},children:(0,F.jsx)(I.Z,{edge:"start",checked:this.state.listIdEmployeeAdd.includes(e),onChange:(t,i)=>{this.handleAddNhanVien(e,i)}})}),(0,F.jsx)(ae.Z,{sx:{width:"40px",height:"40px"},children:(0,F.jsx)(ne.Z,{src:e.avatar})}),(0,F.jsx)(te.Z,{primary:(0,F.jsx)(s.Z,{fontSize:"14px",children:e.tenNhanVien}),secondary:e.chucVu})]},t))):(0,F.jsx)("div",{children:"No items to display"})]})]}),(0,F.jsxs)(D.ZP,{item:!0,xs:4.5,children:[(0,F.jsx)(s.Z,{children:"Nh\xe2n vi\xean \xe1p d\u1ee5ng"}),(0,F.jsx)(o.Z,{fullWidth:!0,size:"small",className:"search-field",variant:"outlined",placeholder:"T\xecm ki\u1ebfm",value:this.state.nhanVienSelectedSearchValue,onChange:this.handleNhanVienSelectedSearchChange,InputProps:{startAdornment:(0,F.jsx)(l.Z,{type:"button",children:(0,F.jsx)("img",{src:v.Z})})}}),(0,F.jsxs)(n.Z,{maxHeight:"300px",overflow:"auto",marginTop:2,children:[(0,F.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",children:[(0,F.jsxs)(n.Z,{paddingLeft:"15px",children:[(0,F.jsx)(E.Z,{label:"Ch\u1ecdn t\u1ea5t c\u1ea3",onChange:(e,t)=>{this.handleSelectAllItemToRemove(t)},control:(0,F.jsx)(I.Z,{})}),this.state.listIdEmployeeRemove.length>0?(0,F.jsxs)(s.Z,{fontSize:"13px",children:[this.state.listIdEmployeeRemove.length," b\u1ea3n ghi \u0111\u01b0\u1ee3c ch\u1ecdn"]}):null]}),(0,F.jsx)(r.Z,{variant:"text",onClick:this.handleMoveItemSelectToLeft,children:"X\xf3a"})]}),Array.isArray(p)?p.map(((e,t)=>(0,F.jsxs)(ee.ZP,{secondaryAction:(0,F.jsx)(re.Z,{onClick:()=>{this.handleMoveToLeft(e)}}),children:[(0,F.jsx)(ie.Z,{sx:{minWidth:"auto"},children:(0,F.jsx)(I.Z,{edge:"start",checked:this.state.listIdEmployeeRemove.includes(e),onChange:(t,i)=>{this.handleRemoveNhanVien(e,i)}})}),(0,F.jsx)(ae.Z,{sx:{width:"40px",height:"40px"},children:(0,F.jsx)(ne.Z,{src:e.avatar})}),(0,F.jsx)(te.Z,{primary:e.tenNhanVien,secondary:e.chucVu})]},t))):(0,F.jsx)("div",{children:"No items to display"}),m.idNhanViens&&(0,F.jsx)(n.Z,{textAlign:"center",children:(0,F.jsx)("span",{className:"text-danger",style:{width:"100%",fontSize:"13px"},children:m.idNhanViens})})]})]})]})})]}),(0,F.jsx)(H.Z,{sx:{paddingRight:"0"},children:(0,F.jsxs)(n.Z,{sx:{display:"flex",gap:"8px",bottom:"24px",right:"50px"},children:[(0,F.jsx)(r.Z,{className:"btn-outline-hover",variant:"outlined",onClick:()=>{i(),this.setState({tabIndex:"1",chucVuSearchValue:"",nhanVienSearchValue:"",nhanVienSelectedSearchValue:""})},sx:{fontSize:"14px",textTransform:"unset",color:"var(--color-main)",borderColor:"#965C85"},children:"H\u1ee7y"}),y?(0,F.jsx)(r.Z,{className:"btn-container-hover",variant:"contained",sx:{fontSize:"14px",textTransform:"unset",color:"#fff",border:"none"},children:"\u0110ang l\u01b0u"}):(0,F.jsx)(r.Z,{className:"btn-container-hover",variant:"contained",sx:{fontSize:"14px",textTransform:"unset",color:"#fff",border:"none"},type:"submit",children:"L\u01b0u"})]})})]})}})})]})}}const ce=(0,w.Pi)(de);class ue extends a.Component{constructor(){var e;super(...arguments),this.state={idChietKhauHD:f.ZP.guidEmpty,visited:!1,isShowConfirmDelete:!1,keyword:"",sortBy:"",sortType:"desc",skipCount:1,maxResultCount:10,anchorEl:null,totalCount:0,totalPage:0,createOrEditModel:{id:f.ZP.guidEmpty,idChiNhanh:null!==(e=S.Z.get("IdChiNhanh"))&&void 0!==e?e:f.ZP.guidEmpty,chungTuApDung:"",giaTriChietKhau:0,loaiChietKhau:0,idNhanViens:[],ghiChu:""},checkAllRow:!1,listItemSelectedModel:[]},this.getAll=async()=>{await q.getAll({keyword:this.state.keyword,maxResultCount:this.state.maxResultCount,skipCount:this.state.skipCount,sortBy:this.state.sortBy,sortType:this.state.sortType}),await R.default.getSuggestChucVu(),await R.default.getSuggestNhanVien(),await q.createModel(),await R.default.getSuggestLoaiChungTu()},this.Modal=()=>{this.setState({visited:!this.state.visited,idChietKhauHD:""})},this.createOrEditShowModal=async e=>{if(""===e){const e=await q.createModel();this.setState({createOrEditModel:e})}else{const t=await q.getForEdit(e);this.setState({createOrEditModel:t})}this.setState({idChietKhauHD:e}),this.Modal()},this.handleCreate=async()=>{await this.getAll(),await q.createModel(),this.Modal()},this.delete=async e=>{await q.delete(e),this.setState({idChietKhauHD:""}),this.getAll()},this.onShowDeleteConfirm=()=>{this.setState({isShowConfirmDelete:!this.state.isShowConfirmDelete})},this.onOkDelete=async()=>{this.delete(this.state.idChietKhauHD),this.onShowDeleteConfirm()},this.onCancelDelete=()=>{this.setState({isShowConfirmDelete:!1})},this.handlePageChange=async(e,t)=>{await this.setState({skipCount:t,checkAllRow:!1}),this.getAll()},this.handlePerPageChange=async e=>{await this.setState({maxResultCount:parseInt(e.target.value.toString(),10),currentPage:1,skipCount:1,checkAllRow:!1}),this.getAll()},this.onSort=async(e,t)=>{const i="desc"===e?"asc":"desc";await this.setState({sortType:i,sortBy:t}),this.getAll()},this.handleOpenMenu=(e,t)=>{this.setState({anchorEl:e.currentTarget,idChietKhauHD:t})},this.handleCloseMenu=async()=>{await this.setState({anchorEl:null,idChietKhauHD:""})},this.handleEdit=()=>{var e;this.createOrEditShowModal(null!==(e=this.state.idChietKhauHD)&&void 0!==e?e:""),this.handleCloseMenu()},this.handleDelete=()=>{this.setState({isShowConfirmDelete:!this.state.isShowConfirmDelete,anchorEl:null})},this.handleCheckboxGridRowClick=e=>{const{id:t}=e.row,i=this.state.listItemSelectedModel.indexOf(t);let a=[];a=-1===i?[...this.state.listItemSelectedModel,t]:[...this.state.listItemSelectedModel.slice(0,i),...this.state.listItemSelectedModel.slice(i+1)],this.setState({listItemSelectedModel:a})},this.handleSelectAllGridRowClick=()=>{if(this.state.checkAllRow){var e;const t=null===(e=q.chietKhauHoaDons)||void 0===e?void 0:e.items.map((e=>e.id)),i=this.state.listItemSelectedModel.filter((e=>!t.includes(e)));this.setState({listItemSelectedModel:i})}else{var t;const e=null===(t=q.chietKhauHoaDons)||void 0===t?void 0:t.items.map((e=>e.id)),i=new Set([...this.state.listItemSelectedModel,...e]);this.setState({listItemSelectedModel:Array.from(i)})}this.setState({checkAllRow:!this.state.checkAllRow})}}componentDidMount(){this.getAll()}render(){const{chietKhauHoaDons:e}=q,t=[{field:"giaTriChietKhau",headerName:"Hoa h\u1ed3ng",minWidth:112,flex:1,renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName})},{field:"chungTuApDung",headerName:"Ch\u1ee9ng t\u1eeb \xe1p d\u1ee5ng",minWidth:120,flex:1,renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName})},{field:"ghiChu",headerName:"Ghi ch\xfa",minWidth:150,flex:1,renderHeader:e=>(0,F.jsx)(n.Z,{sx:{fontWeight:"700"},children:e.colDef.headerName})},{field:"actions",headerName:"H\xe0nh \u0111\u1ed9ng",maxWidth:48,flex:1,disableColumnMenu:!0,renderCell:e=>(0,F.jsx)(n.Z,{children:(0,F.jsx)(l.Z,{"aria-label":"Actions","aria-controls":"actions-menu-".concat(e.row.id),"aria-haspopup":"true",onClick:t=>{this.handleOpenMenu(t,e.row.id)},children:(0,F.jsx)(g.Z,{})})}),renderHeader:e=>(0,F.jsx)(n.Z,{sx:{display:"none"},children:e.colDef.headerName})}];return(0,F.jsxs)(n.Z,{children:[(0,F.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"16px",children:[(0,F.jsx)(s.Z,{fontWeight:"700",fontFamily:"Roboto",fontSize:"18px",children:"Hoa h\u1ed3ng theo h\xf3a \u0111\u01a1n"}),(0,F.jsx)(r.Z,{variant:"contained",onClick:()=>{this.createOrEditShowModal("")},sx:{height:40,color:"#FFFAFF"},startIcon:(0,F.jsx)(Y.Z,{sx:{color:"#FFFAFF"}}),hidden:!U.Z.isGrandPermission("Pages.ChietKhauHoaDon.Create"),className:"btn-container-hover",children:"Th\xeam m\u1edbi"})]}),(0,F.jsx)(D.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:(0,F.jsx)(D.ZP,{item:!0,children:(0,F.jsxs)(h.Z,{sx:{height:"40px",bottom:"24px",right:"50px",float:"right",gap:"8px","& button":{padding:"8px 10px!important",lineHeight:"24px"}},children:[(0,F.jsx)(r.Z,{variant:"outlined",sx:{fontSize:"16px",textTransform:"unset",color:"#8492AE",backgroundColor:"#FFF",borderColor:"transparent!important",boxShadow:"none!important","&:hover":{color:"#319DFF",backgroundColor:"#FFF",border:"none !important",borderBottom:"2px outset #319DFF !important",boxShadow:"none!important"}},onClick:async()=>{await Z.changeViewHoaHong(!0)},children:"Theo d\u1ecbch v\u1ee5"}),(0,F.jsx)(r.Z,{variant:"outlined",sx:{fontSize:"16px",textTransform:"unset",color:"#319DFF",backgroundColor:"#FFF",border:"none !important",borderBottom:"2px outset #319DFF !important",boxShadow:"none!important"},children:"Theo h\xf3a \u0111\u01a1n"})]})})}),(0,F.jsxs)(n.Z,{paddingTop:"8px",children:[this.state.listItemSelectedModel.length>0?(0,F.jsx)(n.Z,{mb:1,children:(0,F.jsxs)(r.Z,{variant:"contained",color:"secondary",children:["X\xf3a ",this.state.listItemSelectedModel.length," b\u1ea3n ghi \u0111\xe3 ch\u1ecdn"]})}):null,(0,F.jsx)(u._$,{rowHeight:46,columns:t,rows:void 0===e?[]:e.items,localeText:c.g,disableRowSelectionOnClick:!0,checkboxSelection:!1,sortingOrder:["desc","asc"],sortModel:[{field:this.state.sortBy,sort:"desc"==this.state.sortType?"desc":"asc"}],onSortModelChange:e=>{var t,i,a;e.length>0&&this.onSort(null!==(t=null===(i=e[0].sort)||void 0===i?void 0:i.toString())&&void 0!==t?t:"creationTime",null!==(a=e[0].field)&&void 0!==a?a:"desc")},hideFooter:!0}),(0,F.jsx)(W.Z,{selectedRowId:this.state.idChietKhauHD,anchorEl:this.state.anchorEl,closeMenu:this.handleCloseMenu,handleView:this.handleEdit,permissionView:"Pages.ChietKhauHoaDon.Edit",handleEdit:this.handleEdit,permissionEdit:"Pages.ChietKhauHoaDon.Edit",handleDelete:this.handleDelete,permissionDelete:"Pages.ChietKhauHoaDon.Delete"}),(0,F.jsx)(G.Z,{isShow:this.state.isShowConfirmDelete,onOk:this.onOkDelete,onCancel:this.onShowDeleteConfirm}),(0,F.jsx)(B.Z,{currentPage:this.state.skipCount,rowPerPage:this.state.maxResultCount,totalRecord:void 0===e?0:e.totalCount,totalPage:void 0===e?0:Math.ceil(e.totalCount/this.state.maxResultCount),handlePerPageChange:this.handlePerPageChange,handlePageChange:this.handlePageChange}),(0,F.jsx)(ce,{formRef:this.state.createOrEditModel,onClose:this.Modal,onSave:this.handleCreate,visited:this.state.visited,title:""===this.state.idChietKhauHD||this.state.idChietKhauHD===f.ZP.guidEmpty?"Th\xeam m\u1edbi hoa h\u1ed3ng theo h\xf3a \u0111\u01a1n":"C\u1eadp nh\u1eadt hoa h\u1ed3ng theo h\xf3a \u0111\u01a1n"})]})]})}}const ge=(0,w.Pi)(ue);class pe extends a.Component{render(){return(0,F.jsx)(n.Z,{paddingTop:"16px",children:(0,F.jsx)(n.Z,{component:"div",children:(0,F.jsx)(D.ZP,{container:!0,rowSpacing:2,children:(0,F.jsx)(D.ZP,{item:!0,xs:12,children:!0===Z.isChietKhauDichVu?(0,F.jsx)(Q,{}):(0,F.jsx)(ge,{})})})})})}}const xe=(0,w.Pi)(pe)},59837:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(96219),n=i(68507);const s=new class{async SuggestPhongBan(){try{return(await a.Z.post("api/services/app/Suggest/SuggestPhongBans")).data.result}catch(e){return console.error("Error occurred while suggesting PhongBans:",e),[]}}async SuggestCaLamViec(){try{return(await a.Z.post("api/services/app/Suggest/SuggestCaLamViecs")).data.result}catch(e){return console.error("Error occurred while suggesting CaLamViec:",e),[]}}async SuggestChiNhanh(){try{return(await a.Z.post("api/services/app/Suggest/SuggestChiNhanhs")).data.result}catch(e){return console.error("Error occurred while suggesting ChiNhanhs:",e),[]}}async SuggestLoaiHangHoa(){try{return(await a.Z.post("api/services/app/Suggest/SuggestLoaiHangHoas")).data.result}catch(e){return console.error("Error occurred while suggesting LoaiHangHoas:",e),[]}}async SuggestNhomHangHoa(){try{return(await a.Z.post("api/services/app/Suggest/SuggestNhomHangHoas")).data.result}catch(e){return console.error("Error occurred while suggesting LoaiHangHoas:",e),[]}}async SuggestHangHoa(){try{return(await a.Z.post("api/services/app/Suggest/SuggestHangHoas")).data.result}catch(e){return console.error("Error occurred while suggesting HangHoas:",e),[]}}async SuggestDichVu(e){try{let t="api/services/app/Suggest/SuggestDichVu";null!==e&&void 0!==e&&""!=e&&(t+="?idNhanVien=".concat(e));return(await a.Z.post(t)).data.result}catch(t){return console.error("C\xf3 l\u1ed7i s\u1ea3y ra khi l\u1ea5y d\u1eef li\u1ec7u:",t),[]}}async SuggestDonViQuiDoi(){try{return(await a.Z.post("api/services/app/Suggest/SuggestDonViQuiDois")).data.result}catch(e){return console.error("Error occurred while suggesting DonViQuiDois:",e),[]}}async SuggestNguonKhach(){try{return(await a.Z.post("api/services/app/Suggest/SuggestNguonKhachHangs")).data.result}catch(e){return console.error("Error occurred while suggesting NguonKhachHangs:",e),[]}}async SuggestNhomKhach(){try{return(await a.Z.post("api/services/app/Suggest/SuggestNhomKhachHangs")).data.result}catch(e){return console.error("Error occurred while suggesting NhomKhachHangs:",e),[]}}async SuggestLoaiKhach(){try{return(await a.Z.post("api/services/app/Suggest/SuggestLoaiKhachHangs")).data.result}catch(e){return console.error("Error occurred while suggesting LoaiKhachHangs:",e),[]}}async SuggestKhachHang(){try{return(await a.Z.post("api/services/app/Suggest/SuggestKhachHangs")).data.result}catch(e){return console.error("Error occurred while suggesting KhachHangs:",e),[]}}async SuggestNhanSu(){try{return(await a.Z.post("api/services/app/Suggest/SuggestNhanSus?idChiNhanh=".concat(n.Z.get("IdChiNhanh")))).data.result}catch(e){return console.error("Error occurred while suggesting NhanSus:",e),[]}}async SuggestChucVu(){try{return(await a.Z.post("api/services/app/Suggest/SuggestChucVus")).data.result}catch(e){return console.error("Error occurred while suggesting ChucVus:",e),[]}}async SuggestLoaiChungTu(){try{return(await a.Z.post("api/services/app/Suggest/SuggestLoaiChungTus")).data.result}catch(e){return console.error("Error occurred while suggesting Lo\u1ea1i Ch\u1ee9ng T\u1eeb:",e),[]}}async SuggestNhanVienLamDichVu(e){try{let t="api/services/app/Suggest/SuggestNhanVienThucHienDichVu?idChiNhanh=".concat(n.Z.get("IdChiNhanh"));e&&""!==e&&(t+="&idNhanVien=".concat(e));return(await a.Z.post(t)).data.result}catch(t){return console.error("Error occurred while suggesting nhan vien:",t),[]}}async SuggestNhanVienByIdDichVu(e){try{let t="api/services/app/Suggest/SuggestNhanVienByIdDichVu?idChiNhanh=".concat(n.Z.get("IdChiNhanh"));t+="&idDichVu=".concat(e);return(await a.Z.post(t)).data.result}catch(t){return console.error("Error occurred while suggesting nhan vien:",t),[]}}async SuggestNganHang(){return(await a.Z.post("api/services/app/Suggest/SuggestNganHang")).data.result}async SuggestTaiKhoanNganHangQr(e){return(await a.Z.post("api/services/app/Suggest/SuggestTaiKhoanNganHangQr?idChiNhanh=".concat(e))).data.result}}},89469:(e,t,i)=>{i.d(t,{default:()=>o});var a=i(4793),n=i(59837),s=i(22639);const o=new class{constructor(){this.suggestKyThuatVien=void 0,this.suggestDichVu=void 0,this.suggestNhomHangHoa=void 0,this.suggestChucVu=void 0,this.suggestNhomKhach=void 0,this.suggestNguonKhach=void 0,this.suggestNhanVien=void 0,this.suggestKhachHang=void 0,this.suggestLoaiChungTu=void 0,this.suggestChiNhanh=void 0,this.suggestChiNhanhByUser=void 0,this.suggestDonViQuiDoi=void 0,this.suggestNganHang=void 0,this.suggestTaiKhoanNganHangQr=void 0,(0,a.ky)(this)}async getSuggestKyThuatVien(e){const t=await n.Z.SuggestNhanVienLamDichVu(e);this.suggestKyThuatVien=t}async getSuggestKyThuatVienByIdDichVu(e){const t=await n.Z.SuggestNhanVienByIdDichVu(e);this.suggestKyThuatVien=t}async getSuggestNhanVien(){const e=await n.Z.SuggestNhanSu();this.suggestNhanVien=e}async getSuggestNhomHangHoa(){const e=await n.Z.SuggestNhomHangHoa();this.suggestNhomHangHoa=e}async getSuggestDichVu(e){const t=await n.Z.SuggestDichVu(e);this.suggestDichVu=t}async getSuggestChucVu(){const e=await n.Z.SuggestChucVu();this.suggestChucVu=e}async getSuggestNhomKhach(){const e=await n.Z.SuggestNhomKhach();this.suggestNhomKhach=e}async getSuggestNguonKhach(){const e=await n.Z.SuggestNguonKhach();this.suggestNguonKhach=e}async getSuggestKhachHang(){const e=await n.Z.SuggestKhachHang();this.suggestKhachHang=e}async getSuggestLoaiChungTu(){const e=await n.Z.SuggestLoaiChungTu();this.suggestLoaiChungTu=e}async getSuggestChiNhanh(){const e=await n.Z.SuggestChiNhanh();this.suggestChiNhanh=e}async getSuggestChiNhanhByUser(){const e=await s.Z.GetChiNhanhByUser();this.suggestChiNhanhByUser=e}async getSuggestDonViQuiDoi(){const e=await n.Z.SuggestDonViQuiDoi();this.suggestDonViQuiDoi=e}async getSuggestNganHang(){const e=await n.Z.SuggestNganHang();this.suggestNganHang=e}async getSuggestTaiKhoanNganHangQr(e){const t=await n.Z.SuggestTaiKhoanNganHangQr(e);this.suggestTaiKhoanNganHangQr=t}}}}]);